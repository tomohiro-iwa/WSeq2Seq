[ Android ] [ V2 ] screenBackgroundColor is not implemented __EoT__ # # # Issue Description Using `` screenBackgroundColor '' in a Modal does n't change the color of the screen on Android , it does on iOS # # # Steps to Reproduce / Code Snippets / Screenshots Add the following to a Modal screen `` ` screenBackgroundColor : `` # 32CD32 '' , topBar : { // ... } `` ` This is my proposed implementation : https : //github.com/wix/react-native-navigation/pull/3006 -- - # # # Environment * React Native Navigation version : V2 * React Native version :0.53.3 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Emulator
IOS back gesture not working __EoT__ After i updated RNN to 2.0.0-experimental.256 , swipe gesture to pop screen on IOS is not working anymore . I tried to add `` disabledBackGesture : false , '' ( wich should be default to false anyway ) but no luck . Any suggestion ? -- - # # # Environment * React Native Navigation version : 2.0.0-experimental.256 * React Native version : 0.43.0-rc.4 * Platform : IOS ( both simulator/device and debug/release )
all commands return promise __EoT__
Bug loading collapsingToolBarImage from local resource in android release mode __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description collapsingToolBarImage does n't work in Android release mode for local resources . PR for fix at # 2626 # # # Steps to Reproduce / Code Snippets / Screenshots # # # # Steps to reproduce In order to reproduce it , just compile https : //github.com/wix/react-native-navigation/tree/master/example in android in release mode , and go to the collapsable tab bar example . # # # # Code snippet `` ` static navigatorStyle = { drawUnderTabBar : true , navBarButtonColor : ' # ffffff ' , navBarTextColor : ' # ffffff ' , collapsingToolBarImage : require ( '../../../img/gyro_header.jpg ' ) , collapsingToolBarCollapsedColor : ' # 0f2362 ' , navBarBackgroundColor : ' # eeeeee' } ; `` ` -- - # # # # Screenshots *Before fix* ! [ Before fix ] ( https : //i.imgur.com/YYnzgBR.png ) *After fix* ! [ After fix ] ( https : //i.imgur.com/zgXRQXN.png ) # # # Environment * React Native Navigation version : 1.1.365 * React Native version : 0.51.0 * Platform
Support orientation changes __EoT__ Fixing crashes on device rotation . # 97
[ v2 ] 3D Touch Peek/Pop Support __EoT__ Is this planned for v2 as well ?
[ v2 ] 3D Touch Peek/Pop Support __EoT__ Is this planned for v2 as well ?
[ V2 ] [ iOS ] topBar.backButton.color broken after 2.0.2583 or 2.0.2584 __EoT__ # # # Issue Description topBar.backButton.color on iOS ( PR # 3999 ) is n't working after 2.0.2583 or 2.0.2584 . Ca n't confirm the exact version , since 2.0.2583 does not work for me . EDIT : I was previously saying that the fix for # 4079 was causing this , but it may not be the case as I 'm experiencing the issue even on 2.0.2584 -- - # # # Environment * React Native Navigation version : 0.56 * React Native version : 2.0.2586 * Platform ( s ) ( iOS , Android , or both ? ) : iOS
[ V2 ] sideMenu options not available/do n't work __EoT__ https : //github.com/wix/react-native-navigation/pull/4105 broke a few ` sideMenu ` options . It looks like ` shouldStretchDrawer ` and ` animationVelocity ` have been elevated to ` sideMenuOptions ` ( both left and right get the same value ) , not ` sideMenuSideOptions ` ( left or right controlled ) . Is this the new method for settings these ? ` animationType ` is available but does not seem wired in . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
showOverlay __EoT__
support testId on navigation elements __EoT__ see https : //github.com/wix/detox/issues/12 # issuecomment-291499294
[ V2 ] Hide bottomTabs on Android breaks with ScrollView __EoT__ # # # Issue Description I 've got a bottomTabs navigation and I navigate to a screen with ` ScrollView ` where I want to hide those . Based on the documentation , I am hiding them when pushing the new screen as such : `` ` Navigation.push ( this.props.componentId , { component : { name : 'example.Example2 ' , options : { topBar : { title : { text : 'Example screen' } } , bottomTabs : { visible : false , } } } } ) ; `` ` The bottomTabs seem to hide , but the content sizes are not re-calculated to fit the dimensions ( ? ! ) so it leaves nasty empty space the size of the bottomTabs after it . # # # Steps to Reproduce / Code Snippets / Screenshots Apply bottomTabs navigation and try to navigate to a screen where you hide those tabs on Android . ! [ bottomtabs android ] ( https : //user-images.githubusercontent.com/6010279/46335687-ef47f380-c630-11e8-9e97-dd1fdbecc400.gif ) -- - # # # Environment * React Native Navigation version : 2.0.2569 ( Using ` https : //github.com/abdullah-sr/react-native-navigation # build ` based on
[ V2 ] Hide bottomTabs on Android breaks with ScrollView __EoT__ # # # Issue Description I 've got a bottomTabs navigation and I navigate to a screen with ` ScrollView ` where I want to hide those . Based on the documentation , I am hiding them when pushing the new screen as such : `` ` Navigation.push ( this.props.componentId , { component : { name : 'example.Example2 ' , options : { topBar : { title : { text : 'Example screen' } } , bottomTabs : { visible : false , } } } } ) ; `` ` The bottomTabs seem to hide , but the content sizes are not re-calculated to fit the dimensions ( ? ! ) so it leaves nasty empty space the size of the bottomTabs after it . # # # Steps to Reproduce / Code Snippets / Screenshots Apply bottomTabs navigation and try to navigate to a screen where you hide those tabs on Android . ! [ bottomtabs android ] ( https : //user-images.githubusercontent.com/6010279/46335687-ef47f380-c630-11e8-9e97-dd1fdbecc400.gif ) -- - # # # Environment * React Native Navigation version : 2.0.2569 ( Using ` https : //github.com/abdullah-sr/react-native-navigation # build ` based on
Android findings/bugs __EoT__ Hello , I 've collated a list of bugs/issues I 've encountered ( will continue to update ) as I 've been using this lib . Been chatting to @ guyca on Discord about some of these - nothing huge or breaking apart from the first one , more of a snag list . - [ ] Debugger does n't work correctly ( https : //github.com/wix/react-native-navigation/issues/963 ) . - [ ] Right button text ripple effect is a circle over the center of the text ( [ gif ] ( https : //giphy.com/gifs/3og0ICVARae0zaxyWQ ) ) - [ x ] Using multiple FAB actions causes cut off ( [ image ] ( https : //cloud.githubusercontent.com/assets/842078/25268868/3a302274-2672-11e7-975c-ece98f81d5b6.png ) ) ( https : //github.com/wix/react-native-navigation/commit/c3c4a044a65ae807f04b212f3fc05472dfd9774a ) - [ x ] Calling ` showSnackbar ` from Screen API ( this.props ) shows text as ` null ` ( # 989 ) - [ ] Snackbar is not documented - [ ] ` collapsingToolBarExpendedColor ` : `` expended '' should be `` expanded '' ( few cases of this misspelt word ) - [ ] Calling ` toggleTabs ` to hide the tabs does n't increase view height , so you 're left with
rightButtons on Android attempt to set key `` enabled '' on an immutable/frozen object __EoT__ # # # Issue Description Attempting to set ` rightButtons ` on the ` navigatorButtons ` object of the ` screen ` object within , at least , a ` startSingleScreenApp ` call on Android ( 6.0.1+ ) results in the following error : `` ` You attempted to set the key ` enabled ` with the value ` true ` on an object that is meant to be immutable and has been frozen . `` ` # # # Steps to Reproduce / Code Snippets / Screenshots `` ` js const navigatorStyle = Navigation.startSingleScreenApp ( { screen : { screen : 'com.example.MyScreen ' , navigatorStyle : { statusBarColor : ' # 831d19 ' , navigationBarColor : ' # 339999 ' , navBarBackgroundColor : ' # 339999 ' , navBarTextColor : ' # ffffff ' , navBarButtonColor : ' # ffffff ' , statusBarTextColorScheme : 'light ' , navBarHidden : false , tabBarButtonColor : 'red ' , tabBarSelectedButtonColor : 'red ' , tabBarBackgroundColor : 'red' } , navigatorButtons : { rightButtons : [ { id : 'sideMenu' } ] } } , drawer : {
Navigation.showModal and showLightBox crash on release when the screen has scrollView or flatlist in it . __EoT__ # # # Issue Description Navigation.showModal and showLightBox crash on release when the screen have scrollView or flatlist in it . # # # Steps to Reproduce / Code Snippets / Screenshots i use mobx and mobx-react to manage states , i do n't think it 's related . when I try to showModal this screen from a pushed screen , if I use scrollView , the app crash . it works fine in debug but crash in release , i found this error on logcat Calling JS function after bridge has been destroyed ` @ observer export default class PlaceSearch extends React.Component { render ( ) { return ( < View style= { { flex : 1 , backgroundColor : 'white ' } } > // < ScrollView style= { { flex : 1 } } > if you put this screen will crash < Text > this is a Text < /Text > < Text > this is a Text < /Text > < Text > this is a Text < /Text > < Text > this is a Text <
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
How to use with Apollo client and other-like libraries __EoT__ Apollo client and other-like libraries needs wrap root component : `` ` < ApolloProvider client= { client } > < MyRootComponent / > < /ApolloProvider > `` ` Is there a working example ?
Using largeTitle produces two titles __EoT__ # # # Issue Description I am using the newly introduced ( # 2593 ) option ` largeTitle ` to get the Large Title Bar . Now i get two titles in the title bar the big one ( correct ) the old small one ( not correct ) . # # # Steps to Reproduce / Code Snippets / Screenshots This is how i use the new option . `` ` const appStyle = { largeTitle : true } ; // this will start our app Navigation.startTabBasedApp ( { tabs : tabs , appStyle : appStyle } ) ; `` ` Here a screenshot of how it looks in my app : < img width= '' 405 '' alt= '' bildschirmfoto 2018-01-31 um 21 06 36 '' src= '' https : //user-images.githubusercontent.com/3503166/35645647-c1bf80b4-06cc-11e8-8533-9b5866881193.png '' > -- - # # # Environment * React Native Navigation version : 1.1.362 * React Native version : 0.52.2 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator iOS11 Debug
Using largeTitle produces two titles __EoT__ # # # Issue Description I am using the newly introduced ( # 2593 ) option ` largeTitle ` to get the Large Title Bar . Now i get two titles in the title bar the big one ( correct ) the old small one ( not correct ) . # # # Steps to Reproduce / Code Snippets / Screenshots This is how i use the new option . `` ` const appStyle = { largeTitle : true } ; // this will start our app Navigation.startTabBasedApp ( { tabs : tabs , appStyle : appStyle } ) ; `` ` Here a screenshot of how it looks in my app : < img width= '' 405 '' alt= '' bildschirmfoto 2018-01-31 um 21 06 36 '' src= '' https : //user-images.githubusercontent.com/3503166/35645647-c1bf80b4-06cc-11e8-8533-9b5866881193.png '' > -- - # # # Environment * React Native Navigation version : 1.1.362 * React Native version : 0.52.2 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator iOS11 Debug
Nav Bar Button Font Size Reverts On Press __EoT__ When I set the font size on a text only nav bar button , the font size would revert back to the default when I click on it . Here is the code that I am using to set the button : ` this.props.navigator.setButtons ( { rightButtons : [ { title : 'NEXT ' , buttonColor : 'white ' , buttonFontSize : 12 } ] } ) ; ` -- - # # # Environment * React Native Navigation version : `` ^1.3.4 '' * React Native version : `` 0.50.1 '' * Platform ( s ) ( iOS , Android , or both ? ) : IOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : IPhone 6 Simulator
Custom Navigation Bar is not centralized __EoT__ # # # Issue Description Custom nav bar is not centralised when there is a right navigation icon . The whole custom navigation is pushed left # # # Steps to Reproduce / Code Snippets / Screenshots - add a custom Nav Bar - add an navigation right icon the whole custom navigation area is pushed to the left ANY HELP ? -- - # # # Environment * React Native Navigation version : 1.1.79 * React Native version : 0.44 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : ALL
Custom Navigation Bar is not centralized __EoT__ # # # Issue Description Custom nav bar is not centralised when there is a right navigation icon . The whole custom navigation is pushed left # # # Steps to Reproduce / Code Snippets / Screenshots - add a custom Nav Bar - add an navigation right icon the whole custom navigation area is pushed to the left ANY HELP ? -- - # # # Environment * React Native Navigation version : 1.1.79 * React Native version : 0.44 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : ALL
Custom Navigation Bar is not centralized __EoT__ # # # Issue Description Custom nav bar is not centralised when there is a right navigation icon . The whole custom navigation is pushed left # # # Steps to Reproduce / Code Snippets / Screenshots - add a custom Nav Bar - add an navigation right icon the whole custom navigation area is pushed to the left ANY HELP ? -- - # # # Environment * React Native Navigation version : 1.1.79 * React Native version : 0.44 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : ALL
[ V2 ] Problems with push+dismissModal and showModal+pop __EoT__ # # # Issue Description If you do a ` pop ` for a modal screen or ` dismissModal ` for a pushed-screen , then problems start . # # # Steps to Reproduce / Code Snippets / Screenshots 1 . ` push ` new screen . Then call ` dismissModal ` . Result : My screens|Crash|Crash ( Drawer opened ) : -- -- -- -- -- -- -- -- -- -- -- -- - : | : -- -- -- -- -- -- -- -- -- -- -- -- - : | : -- -- -- -- -- -- -- -- -- -- -- -- - : ! [ img_0017 ] ( https : //user-images.githubusercontent.com/32956521/45018515-bcb3d680-b043-11e8-95b2-cb98a3532063.PNG ) | ! [ img_0018 ] ( https : //user-images.githubusercontent.com/32956521/45018292-2c759180-b043-11e8-933b-da4bd70b97ac.PNG ) | ! [ img_0019 ] ( https : //user-images.githubusercontent.com/32956521/45018298-313a4580-b043-11e8-9b0b-384b34faf4c9.PNG ) 2 . ` showModal ` new screen . Then call ` pop ` . Then call ` dismissModal ` . Result : nothing happens ! -- - # # # Environment * Checked with 3 versions of RNNv2 : ` 2.0.2459 ` , ` 2.0.2500 ` , ` 2.0.2519 ` * React Native version
Build Fails in React-Native Version 0.52.0 __EoT__ # # # I am trying to install this library in my project . However , the build is failing , I followed all the install steps but the errors just dont go away . I think this library might not be compatible with version 52 of react-native . I might be wrong though . I will share my build.gradle files . **app/build.gradle** `` ` android { compileSdkVersion 26 buildToolsVersion `` 26.0.3 '' defaultConfig { applicationId `` com.kaaddevelopers.pitchit '' minSdkVersion 16 targetSdkVersion 26 versionCode 1 versionName `` 1.0 '' multiDexEnabled true ndk { abiFilters `` armeabi-v7a '' , `` x86 '' } } dexOptions { jumboMode = true incremental true javaMaxHeapSize `` 4g '' } splits { abi { reset ( ) enable enableSeparateBuildPerCPUArchitecture universalApk false // If true , also generate a universal APK include `` armeabi-v7a '' , `` x86 '' } } buildTypes { release { minifyEnabled enableProguardInReleaseBuilds proguardFiles getDefaultProguardFile ( `` proguard-android.txt '' ) , `` proguard-rules.pro '' } } // applicationVariants are e.g . debug , release applicationVariants.all { variant - > variant.outputs.each { output - > // For each separate APK per architecture , set a unique
Build Fails in React-Native Version 0.52.0 __EoT__ # # # I am trying to install this library in my project . However , the build is failing , I followed all the install steps but the errors just dont go away . I think this library might not be compatible with version 52 of react-native . I might be wrong though . I will share my build.gradle files . **app/build.gradle** `` ` android { compileSdkVersion 26 buildToolsVersion `` 26.0.3 '' defaultConfig { applicationId `` com.kaaddevelopers.pitchit '' minSdkVersion 16 targetSdkVersion 26 versionCode 1 versionName `` 1.0 '' multiDexEnabled true ndk { abiFilters `` armeabi-v7a '' , `` x86 '' } } dexOptions { jumboMode = true incremental true javaMaxHeapSize `` 4g '' } splits { abi { reset ( ) enable enableSeparateBuildPerCPUArchitecture universalApk false // If true , also generate a universal APK include `` armeabi-v7a '' , `` x86 '' } } buildTypes { release { minifyEnabled enableProguardInReleaseBuilds proguardFiles getDefaultProguardFile ( `` proguard-android.txt '' ) , `` proguard-rules.pro '' } } // applicationVariants are e.g . debug , release applicationVariants.all { variant - > variant.outputs.each { output - > // For each separate APK per architecture , set a unique
Allow user supplied refs ( id ) __EoT__ * Rename ` nodeId ` to ` ref ` * ` setOptionsByRef ` * use ` ref ` ( previously ` nodeId ` ) as ` componentId ` Motivation : apply options which are not bound to components
How to apply gradient color on nagivation bar __EoT__ Hi , Is there a way to implement linear gradient color for navigation bar and screen background ? I found a related thread on this link https : //github.com/wix/react-native-navigation/pull/861 . So could we use something like below { navigatorStyle : { navBarBackgroundColorGradient : [ # startColor , # endColor ] screenBackgroundColorGradient : [ # startColor , # endColor ] } }
How to apply gradient color on nagivation bar __EoT__ Hi , Is there a way to implement linear gradient color for navigation bar and screen background ? I found a related thread on this link https : //github.com/wix/react-native-navigation/pull/861 . So could we use something like below { navigatorStyle : { navBarBackgroundColorGradient : [ # startColor , # endColor ] screenBackgroundColorGradient : [ # startColor , # endColor ] } }
How to hide the hamburger icon from the nav bar ? __EoT__ Hey there , I 've enabled a side menu ( drawer ) by the following code : `` ` javascript Navigation.startSingleScreenApp ( { screen : { screen : ScheneKeys.WELCOME , title : 'Welcome ' , navigatorStyle : FixedStyles.NavBarStyleDark , navigatorButtons : { leftButtons : [ ] , rightButtons : [ ] , } , } , drawer : { left : { screen : ScheneKeys.SIDE_MENU , } , disableOpenGesture : true , // on false can the drawer be opened with a swipe instead of button } , animationType : 'slide-down ' , // optional , add transition animation to root change : 'none ' , 'slide-down ' , 'fade' } ) ; `` ` All works well , but there are cases on which I do n't want a hamburger icon in the nav bar . ( Because I do n't need the drawer at all for those screens ) . For instance I do n't want it on the welcome screen , but I do want it on later screens . ( I use ` resetTo ` and replace the root screen with something else )
ReactRootView height should not be affected when animating TopBar __EoT__ When toggling TopBar , do n't change content view height . Instead , the user should take care of positioning himself so that blank spaces wo n't be visible when animating TopBar .
ReactRootView height should not be affected when animating TopBar __EoT__ When toggling TopBar , do n't change content view height . Instead , the user should take care of positioning himself so that blank spaces wo n't be visible when animating TopBar .
ReactRootView height should not be affected when animating TopBar __EoT__ When toggling TopBar , do n't change content view height . Instead , the user should take care of positioning himself so that blank spaces wo n't be visible when animating TopBar .
android fab __EoT__ https : //github.com/Clans/FloatingActionButton - [ x ] background color ( collapsed and expended ) - [ x ] Icon ( collapsed and expended ) - [ x ] Icon color ( collapsed and expended ) - [ x ] Actions - [ x ] Gravity - [ x ] Hide on scroll
android fab __EoT__ https : //github.com/Clans/FloatingActionButton - [ x ] background color ( collapsed and expended ) - [ x ] Icon ( collapsed and expended ) - [ x ] Icon color ( collapsed and expended ) - [ x ] Actions - [ x ] Gravity - [ x ] Hide on scroll
Build issue with example but not example-redux __EoT__ Thanks for sharing this project ! The IOS stuff I 've been able to play with is awesome . If I clone the project and do a npm install and react-native run-android in the example folder I get the following error . The example-redux folder works fine though . Is anyone able to run the example on android from the master branch ? The build.gradle files are a little different between the two examples . And it looks like the missing pieces would be related to my error below . But even when I even them up it 's still not pulling in the lib . This does n't seem super complicated to track down . But before I start ripping apart the build stuff I wanted to ask to make sure I was n't missing something obvious . Thanks . `` ` /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:4 : error : can not find symbol import com.reactnativenavigation.activities.RctActivity ; ^ symbol : class RctActivity location : package com.reactnativenavigation.activities /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:6 : error : can not find symbol public class MainActivity extends RctActivity { ^ symbol : class RctActivity /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:8 : error : method does not override or implement
V2 - Disable side menu ( including using swipe gesture ) for a given component on Android __EoT__ If you have something similar to the code below , it will not disable the side menu if you use the swipe gesture . `` ` Navigation.setRoot ( { root : { sideMenu : { left : { component : { name : SIDEMENU , } , visible : false , enabled : false , } , center : { stack : { id : root , children : [ { component : { name : SWIPE , options : { sideMenu : { left : { component : { name : SIDEMENU , } , visible : false , enabled : false , < -- -- -- This should disable the side menu for the given component but it does not } } } , } , } , ] , } , } , } , } , } ) ; `` ` -- - # # # Environment * React Native Navigation version : ` 2.0.2582 ` * React Native version : ` 0.57.0 ` * Platform ( s ) ( iOS , Android , or both ? )
topBarHideOnScroll is flaky in iOS v2 __EoT__ The Navigation Bar hides on scroll down but does not always show itself on scroll up . Related pull request : # 1637
Tab style tabBarSelectedButtonColor is not working on icon image from react-native-vector-icons ? __EoT__ # # # Issue Description ! [ image ] ( https : //cloud.githubusercontent.com/assets/1255011/20957222/6793f932-bc89-11e6-84d2-bbf08d022552.png ) The tabBarSelectedButtonColor only valid for tab label . As you can see , the label color of current tab is changed , but not the icon . The tab icon image is generated by FontAwesome.getImageSource , and it must supply to color param to this function . # # # Code **generate icon images** `` ` javascript /** * 在球场 * zaiqiuchang.com */ import FontAwesome from 'react-native-vector-icons/FontAwesome ' ; import { COLOR } from './config ' ; const icons = { 'tabbar-nearby ' : [ 'map-marker ' , 24 , COLOR.textEmpha , FontAwesome ] , 'tabbar-atcourt ' : [ 'plus-square ' , 24 , COLOR.textEmpha , FontAwesome ] , 'tabbar-me ' : [ 'user ' , 24 , COLOR.textEmpha , FontAwesome ] , } let iconImages = { } ; export function loadIconImages ( ) { return new Promise ( ( resolve , reject ) = > { const iconNames = Object.keys ( icons ) ; Promise.all ( iconNames.map ( iconName = > { let [ name , size , color , vendor
[ android ] react-native 0.57 compatibility __EoT__ https : //github.com/facebook/react-native/commit/506f92083806e91a90d9a213bcdd05ab3b2ba888 UIImplementationProvider has been removed so I had to do the following to get Android to work in React Native 57 . `` ` diff -- - a/node_modules/react-native-navigation/lib/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactNativeHost.java +++ b/node_modules/react-native-navigation/lib/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactNativeHost.java @ @ -83,7 +83,7 @ @ public class NavigationReactNativeHost extends ReactNativeHost implements Bundle .setUseDeveloperSupport ( getUseDeveloperSupport ( ) ) .setRedBoxHandler ( getRedBoxHandler ( ) ) .setJavaScriptExecutorFactory ( getJavaScriptExecutorFactory ( ) ) - .setUIImplementationProvider ( getUIImplementationProvider ( ) ) + // .setUIImplementationProvider ( getUIImplementationProvider ( ) ) .setInitialLifecycleState ( LifecycleState.BEFORE_CREATE ) .setDevBundleDownloadListener ( getDevBundleDownloadListener ( ) ) ; -- - a/node_modules/react-native-navigation/lib/android/app/src/reactNative56/java/com/reactnativenavigation/react/SyncUiImplementation.java +++ b/node_modules/react-native-navigation/lib/android/app/src/reactNative56/java/com/reactnativenavigation/react/SyncUiImplementation.java @ @ -7,7 +7,7 @ @ import com.facebook.react.bridge.ReadableArray ; import com.facebook.react.bridge.ReadableMap ; import com.facebook.react.uimanager.ThemedReactContext ; import com.facebook.react.uimanager.UIImplementation ; -import com.facebook.react.uimanager.UIImplementationProvider ; +// import com.facebook.react.uimanager.UIImplementationProvider ; import com.facebook.react.uimanager.UIManagerModule ; import com.facebook.react.uimanager.ViewManager ; import com.facebook.react.uimanager.common.MeasureSpecProvider ; @ @ -20,17 +20,17 @ @ import java.util.List ; public class SyncUiImplementation extends UIImplementation { private static final Object lock = new Object ( ) ; - public static class Provider extends UIImplementationProvider { - @ Override - public UIImplementation createUIImplementation ( ReactApplicationContext reactContext , List < ViewManager > viewManagerList , EventDispatcher eventDispatcher , int minTimeLeftInFrameForNonBatchedOperationMs ) { - return new SyncUiImplementation ( reactContext ,
[ Android ] Reload JS will cause all previous navigated pages render __EoT__ Hi , all . I asked this in a separate issue ( https : //github.com/wix/react-native-navigation/issues/74 ) but I think I better ask separately . This is easily reproducible in example-redux . Simply run the example with console tracing in all render functions : Android - Navigate through few pages , then reload JS and you will see all previous navigated pages render function gets called . iOS - Navigate through few pages , then reload JS and everything works just fine . Only the entry page render function is called . I am suspecting this has to do with how Android and iOS reload JS bundle . My temp workaround now is to restart the app when debugging but obviously this is not a long term option . Maybe I shall ask this with React Native team but I guess I 'll check with you guys first . Thanks .
Left Buttons overlapped by NavBar Title __EoT__ # # # Left Buttons overlapped by NavBar Title Currently , the left buttons for the TopBar/NavBar cover the title . # # # Steps to Reproduce / Code Snippets / Screenshots ! [ device-2018-05-01-101746 ] ( https : //user-images.githubusercontent.com/1957315/39476250-47ede160-4d29-11e8-83e4-748669cf55ea.png ) Passed in options : `` ` js topBar : { title : { color : ' # FFFFFF ' , text : 'Events ' , } , background : { color : ' # 313E61 ' , } , leftButtons : [ { id : 'EventsScreenNavBarButtons.Settings ' , disableIconTint : true , buttonColor : ' # FFFFFF ' , icon : require ( ' @ images/gear.png ' ) , } , ] , } , `` ` -- - # # # Environment * React Native Navigation version : 2.0.2274 * React Native version : 0.52.2 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Both , Android 8.1 , Both
Can not build project if installed with npm2 __EoT__ To reproduce : - Clone the repository - Navigate to ` example ` - ` npm install ` using npm 2.x - ` react-native run-ios ` Build fails with error : ` Can not find RCCManager.h. ` Doing the same with npm 3.x works .
Can not build project if installed with npm2 __EoT__ To reproduce : - Clone the repository - Navigate to ` example ` - ` npm install ` using npm 2.x - ` react-native run-ios ` Build fails with error : ` Can not find RCCManager.h. ` Doing the same with npm 3.x works .
[ iOS ] navBarTextColor does n't change when setting it dynamically __EoT__ # # # Issue Description navBarTextColor does n't change when setting it dynamically on iOS . It worked in previous versions but in latest versions , it does not . Also , it works on Android . # # # Steps to Reproduce / Code Snippets / Screenshots Inside the component class : `` ` static navigatorStyle = { navBarTextColor : ' # 000000 ' , } ; `` ` Dynamically changing : `` ` this.props.navigator.setStyle ( { navBarTextColor : ' # FFFFFF' } ) ; `` ` Tried to put it in ` constructor ` , ` componentWillReceiveProps ` and ` render ` it does n't work anywhere . I need it in ` componentWillReceiveProps ` . ( also tried with ` nextProps ` ) -- - # # # Environment * React Native Navigation version : 1.1.398 * React Native version : 0.54 * Platform : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator , iPhone X , 11.2 , debug
[ V2 ] RNN and React Native version __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description In the documentation ( android/app/build.gradle ) , android { ... defaultConfig { applicationId `` com.yourproject '' minSdkVersion rootProject.ext.minSdkVersion targetSdkVersion rootProject.ext.targetSdkVersion missingDimensionStrategy `` RNN.reactNativeVersion '' , `` reactNative56 '' // < == for rn0.57 what should i add here ? versionCode 1 versionName `` 1.0 '' ... } ... } # # # Environment * React Native Navigation version : `` ^2.0.2553 '' * React Native version : 16.5.0 * Platform ( s ) ( iOS , Android , or both ? ) : android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : device
Hide labels in the nav bar ? __EoT__ Is there a way to hide the labels in the nav bar , similar to how Facebook and Instagram do ? I can set them to an empty string , but there are 2 problems : 1 . When I set the title in one of the screens in that tab bar , it then sets the label 2 . The spacing is off . The spot where the labels are supposed to be still seems to be there , pushing the icons up a little bit .
Hide labels in the nav bar ? __EoT__ Is there a way to hide the labels in the nav bar , similar to how Facebook and Instagram do ? I can set them to an empty string , but there are 2 problems : 1 . When I set the title in one of the screens in that tab bar , it then sets the label 2 . The spacing is off . The spot where the labels are supposed to be still seems to be there , pushing the icons up a little bit .
Android drawer behind status bar __EoT__ The effect , better described in [ this ] ( https : //stackoverflow.com/questions/26913770/make-navigation-drawer-draw-behind-status-bar ) SO question , can not be achieved using React Native Navigation . It would be nice to have a translucent status bar option , that plays nicely with the navBar . On a side note , do you have any quick workaround for this ?
RN > 0.40 Duplicate interface definition for class RCTBridge __EoT__ # # # Issue Description Build error when using ` react-native-navigation ` with ` react-native > = 0.40 ` - Init new app - Follow steps to install ` react-native-navigation ` - Build Side note . First noted when upgrading from ` RN 0.37.0 ` to ` RN 0.41.2 ` -- - # # # Environment * React Native Navigation version : ` next ` * React Native version : ` 0.41.2 ` * Platform ( s ) ( iOS , Android , or both ? ) : ` iOS ` * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : ` OS 10.2 ` **Follow up** There is already a pull request in place ( https : //github.com/wix/react-native-navigation/pull/652 ) , but as per @ DanielZlotin comment , this wo n't be merged in any time soon .
[ V2 ] - Support drawing custom elements outside navigation stack __EoT__ # # # Issue Description I mentioned this in Discord , but did n't get a thumbs up or down from the Wix team , so I figured I 'd solidify it with an issue on here . Some devs at my company are considering becoming a core contributor to V2 , but we have some common client requests that do n't really work 100 % with the current navigation paradigm . The issue - We want to draw custom components outside of the navigation stack such as a custom menu overlay or other other external components . Many JS based implementations support drawing elements outside of the navigation stack to solve for this . # # # Steps to Reproduce / Code Snippets / Screenshots A solution ( with the current V1 syntax ) could look something like this : `` ` export default class App extends Component { constructor ( props ) { super ( props ) ; // ... _registerComponents ( ) .then ( ( ) = > { Navigation.startSingleScreenApp ( { screen : { screen : 'Home ' , title : 'Home ' ,
navBarHidden changes top of ScrollViews to -20 on iOS11 __EoT__ # # # Issue Description When ` navBarHidden : true ` is set on a screen the ScrollViews are broken and start with an initial value of -20 and can also scroll further up . When switching to another screen and going back the issue is solved , it just happens on the first render of a screen . # # # Steps to Reproduce / Code Snippets / Screenshots Set ` navBarHidden : true ` and log the scrollPosition of a ScrollView , I can setup a demo repo , if that helps . -- - # # # Environment * React Native Navigation version : 1.1.235 * React Native version : 0.47.2 * Platform ( s ) ( iOS , Android , or both ? ) : iOS11 * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Device ( production ) , simulator ( debug )
Merge options issue __EoT__ # # # Issue Description When we set new option for current screen and provide only this option , during merge all current options are replaced with default values of the new ones . # # # Steps to Reproduce / Code Snippets / Screenshots 1 . Create screen with bunch of options 2 . Create some button , that changes only one of them 3 . Hit it Result - all other options fade Expected result - only desirable option changes
Merge options issue __EoT__ # # # Issue Description When we set new option for current screen and provide only this option , during merge all current options are replaced with default values of the new ones . # # # Steps to Reproduce / Code Snippets / Screenshots 1 . Create screen with bunch of options 2 . Create some button , that changes only one of them 3 . Hit it Result - all other options fade Expected result - only desirable option changes
[ V2 ] [ Android ] IndexOutOfBoundsException __EoT__ # # # Issue Description When creating a bottom tabs navigation with no default tab selected , the app crashes with exception . Looking a the logs it seems like the default passed is '-1' # # # Steps to Reproduce / Code Snippets / Screenshots index.js : `` ` js Navigation.registerComponent ( A.navigationId , ( ) = > AScene ) ; Navigation.registerComponent ( B.navigationId , ( ) = > BScene ) ; `` ` AScene , BScene `` ` js static get options ( ) : NavigationOptions { return { topBar : { ... . } , bottomTab : { title : `` A '' , icon : iconA , } } ; } `` ` This is the actual stacktrace : `` ` java.lang.ArrayIndexOutOfBoundsException : length=12 ; index=-1 at java.util.ArrayList.get ( ArrayList.java:310 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.getCurrentView ( BottomTabsController.java:158 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.selectTabAtIndex ( BottomTabsController.java:153 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.onTabSelected ( BottomTabsController.java:95 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.updateSmallItems ( AHBottomNavigation.java:763 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.setCurrentItem ( AHBottomNavigation.java:1209 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.setCurrentItem ( AHBottomNavigation.java:1190 ) at com.reactnativenavigation.views.BottomTabs.setCurrentItem ( BottomTabs.java:31 ) at com.reactnativenavigation.presentation.BottomTabsOptionsPresenter.applyBottomTabsOptions ( BottomTabsOptionsPresenter.java:41 ) at com.reactnativenavigation.presentation.BottomTabsOptionsPresenter.present ( BottomTabsOptionsPresenter.java:23 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.applyOptions ( BottomTabsController.java:55 ) at com.reactnativenavigation.viewcontrollers.ViewController.onViewAppeared ( ViewController.java:150 ) at com.reactnativenavigation.viewcontrollers.ViewController.onGlobalLayout
[ v2 ] passProps for topBar buttons not working __EoT__ # # # Issue Description I am trying to add a component for one of the ` leftButtons ` in the ` topBar ` but it wo n't pass the props needed for the component . I only get this : componentId rootTag # # # Steps to Reproduce / Code Snippets / Screenshots `` ` topBar : { title : 'Main ' , textColor : 'white ' , textFontSize : 16 , backgroundColor : 'black ' , leftButtons : [ { component : 'navigation.Icon ' , passProps : { name : 'menu ' , size : 24 , color : 'white' } , title : 'action ' , id : 'bebeb' } ] } `` ` -- - # # # Environment * React Native Navigation version : 2.0.2124 * React Native version : 0.53.0 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator
The title get 's truncated/trimmed for some reason . __EoT__ Hey there.. Any idea why the nav bar title is truncated/trimmed on some screens but not others ? Here I got the word ` Client ` ( 6 characters ) . If I type ` Clien ` ( 5 character it shows ) but if it 's 6 characters it get 's trimmed ( shows ` ... ` at the end ) . On other screens I had success using 15 character words with no problem at all . < img width= '' 616 '' alt= '' screen shot 2017-02-14 at 21 54 10 '' src= '' https : //cloud.githubusercontent.com/assets/3070948/22946775/1a30ad12-f301-11e6-8f5d-b4f6e9015a36.png '' > Also if I add a space before the word ` Client ` or if I type a second word like ` Client Name ` the problem goes away and I get the full title.. Any ideas ? thanks
Change the Navigation Style/Color at Runtime __EoT__ Is it possible to change the color of the navigation bar at runtime ? Even if it requires some changes to the Objective-C code ( iOS ) does anyone know if this would be possible to add such a method to the API ? Something like Navigation.setStyle ( { ... } ) ; instead of it being applied with a screen push or static on the screen . Related : https : //github.com/wix/react-native-navigation/issues/519 https : //github.com/wix/react-native-navigation/issues/466 **Update : ** This was functionality was recently added @ simonmitchell 🥇 PR : https : //github.com/wix/react-native-navigation/pull/307 Here is how to use the new functionality : `` ` this.props.navigator.setStyle ( { ... navigationStyles.opaque , navBarTransparent : true , navBarTranslucent : false , extendedLayoutIncludesOpaqueBars : true } ) ; `` `
Change the Navigation Style/Color at Runtime __EoT__ Is it possible to change the color of the navigation bar at runtime ? Even if it requires some changes to the Objective-C code ( iOS ) does anyone know if this would be possible to add such a method to the API ? Something like Navigation.setStyle ( { ... } ) ; instead of it being applied with a screen push or static on the screen . Related : https : //github.com/wix/react-native-navigation/issues/519 https : //github.com/wix/react-native-navigation/issues/466 **Update : ** This was functionality was recently added @ simonmitchell 🥇 PR : https : //github.com/wix/react-native-navigation/pull/307 Here is how to use the new functionality : `` ` this.props.navigator.setStyle ( { ... navigationStyles.opaque , navBarTransparent : true , navBarTranslucent : false , extendedLayoutIncludesOpaqueBars : true } ) ; `` `
[ Android ] - drawer , navigatorStyle , NavigatorEvent not working __EoT__ Hi , I am testing Example project on Android . Drawer ( Sidemenu ) : navicon_menu.png icon not show NavigatorStyle : allway show gray background color NavigatorEvent not working ! [ screen shot 2016-06-22 at 12 36 11 am ] ( https : //cloud.githubusercontent.com/assets/19372005/16239919/60e02fea-3811-11e6-8a26-504ff602ae4f.png )
[ Android ] - drawer , navigatorStyle , NavigatorEvent not working __EoT__ Hi , I am testing Example project on Android . Drawer ( Sidemenu ) : navicon_menu.png icon not show NavigatorStyle : allway show gray background color NavigatorEvent not working ! [ screen shot 2016-06-22 at 12 36 11 am ] ( https : //cloud.githubusercontent.com/assets/19372005/16239919/60e02fea-3811-11e6-8a26-504ff602ae4f.png )
[ V2 ] [ iOS ] Sidemenu layout inside bottomTabs layout weird behaviour __EoT__ # # # Issue Description Sidemenu layout inside bottomTabs layout bugs out on iOS . The icon disappears and a black bar appears under as if it is miscalculating the bottomTabs height . Works perfectly on Android . I also noticed that merging options for the sidemenu layout on iOS fails . So trying to open/close the sidemenu with a button using the sidemenu 's components ID fails . # # # Steps to Reproduce / Code Snippets / Screenshots Notice how the icon dissapears and there is a black bar ? Layout looks like : `` ` js root : { bottomTabs : { children : [ { // Tab 1 - Homescreen stack : { children : [ { component : { name : 'baseNet.HomeTab ' , } , } , ] , options : { bottomTab : { text : 'Home ' , icon : loadedIconSource [ 'fa-home ' ] , } , } , } , } , { // Tab 2 - Email < -- -- THIS ONE GIVES PROBLEMS sideMenu : { id : 'baseNet.EmailSideMenu ' , left : {
Duplicated render of componentDidMount and the render method __EoT__ # # # Issue Description Whether in a single screen app or a tabbased one , when you for example log something in componentDidMount or the render method , it logs twice . # # # Steps to Reproduce / Code Snippets / Screenshots < img width= '' 384 '' alt= '' screen shot 2018-07-02 at 12 14 36 am '' src= '' https : //user-images.githubusercontent.com/29271309/42138083-ffd3ac68-7d8c-11e8-917a-bc844041d0cd.png '' > < img width= '' 931 '' alt= '' screen shot 2018-07-02 at 12 16 04 am '' src= '' https : //user-images.githubusercontent.com/29271309/42138105-4546a44e-7d8d-11e8-9660-a2d1f18ac453.png '' > Note that I 'm using one file for each of my tab pages . so it logs 4 times 👎 `` ` Navigation.setRoot ( { root : { bottomTabs : { children : [ { stack : { children : [ { component : { name : 'Sign ' , } } ] , options : { bottomTab : { title : 'Tab 1 ' , icon : require ( './assets/images/my-offers.png ' ) , testID : 'FIRST_TAB_BAR_BUTTON' } } } } , { component : { name : 'Sign ' , passProps : { text : 'This is tab
Issue with showing several alerts in a row __EoT__ # # # Issue Description Showing second alert closes previous one # # # Steps to Reproduce / Code Snippets / Screenshots If you run code like this , both alert will be shown , one under another . `` ` alert ( `` Alert 1 '' ) ; alert ( `` Alert 2 '' ) ; `` ` If you run code like this , second after showing second alert , previous one disappears `` ` alert ( 'Alert 1 ' ) ; setTimeout ( ( ) = > { alert ( 'Alert 2 ' ) ; } , SOME_DELAY ) ; `` ` -- - # # # Environment * React Native Navigation version : v2 * React Native version : 0.44.0 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Emulator , API 26
Issue with showing several alerts in a row __EoT__ # # # Issue Description Showing second alert closes previous one # # # Steps to Reproduce / Code Snippets / Screenshots If you run code like this , both alert will be shown , one under another . `` ` alert ( `` Alert 1 '' ) ; alert ( `` Alert 2 '' ) ; `` ` If you run code like this , second after showing second alert , previous one disappears `` ` alert ( 'Alert 1 ' ) ; setTimeout ( ( ) = > { alert ( 'Alert 2 ' ) ; } , SOME_DELAY ) ; `` ` -- - # # # Environment * React Native Navigation version : v2 * React Native version : 0.44.0 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Emulator , API 26
Open a modal from tab bar __EoT__ https : //stackoverflow.com/questions/48857262/open-modal-from-tab-bar **Issue Description** I have 3 tabs and I want to open a modal when the user presses on the second tab at the moment it just navigates to the screen . There was another issue raised for this but was closed without any solution . https : //github.com/wix/react-native-navigation/issues/55 I really like this library and do n't want to switch because of this issue so any help would be greatly appreciated . Thanks
Open a modal from tab bar __EoT__ https : //stackoverflow.com/questions/48857262/open-modal-from-tab-bar **Issue Description** I have 3 tabs and I want to open a modal when the user presses on the second tab at the moment it just navigates to the screen . There was another issue raised for this but was closed without any solution . https : //github.com/wix/react-native-navigation/issues/55 I really like this library and do n't want to switch because of this issue so any help would be greatly appreciated . Thanks
Open a modal from tab bar __EoT__ https : //stackoverflow.com/questions/48857262/open-modal-from-tab-bar **Issue Description** I have 3 tabs and I want to open a modal when the user presses on the second tab at the moment it just navigates to the screen . There was another issue raised for this but was closed without any solution . https : //github.com/wix/react-native-navigation/issues/55 I really like this library and do n't want to switch because of this issue so any help would be greatly appreciated . Thanks
Bottom Nav Icons disappear when getting a CodePush ( Android ) __EoT__ # # # Issue Description When using RNN in conjunction with CodePush causes the app 's Bottom Navigation icons to show as blank space after the app receives a code push . # # # Steps to Reproduce / Code Snippets / Screenshots - Implement Bottom Bar Navigation using Wix V2 - Add Microsoft CodePush . - Launch app - Background - Foreground app Result Icons disappear and the following log shows in logcat : `` ` BitmapFactory : Unable to decode stream : java.io.FileNotFoundException : file : /data/user/0/APP_NAME/files/CodePush/CODE_PUSH_HASH/bundle/drawable-xxhdpi/NAV_IMAGE.png ( No such file or directory ) `` ` Expected : Updated/Existing icons should still be visible . The reason for this error is the attempt to load image using uri as string instead of the path -- - # # # Environment * React Native Navigation version : V2 * React Native version : 0.53.3 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Both Emulator and real device / Release Only # # # Proposed Fix :
How to disable TabBar button color ? Want to use the original color of the icon image . __EoT__ # # # Issue Description Need to use images for TabBar buttons like these . Normal ! [ timeline ] ( https : //user-images.githubusercontent.com/23102875/29449199-c844acc2-8434-11e7-9869-9a817f2a6271.png ) Selected ! [ timeline_rv ] ( https : //user-images.githubusercontent.com/23102875/29449217-d7e9d6e8-8434-11e7-9e3c-495f21ef6805.png ) and the background color of the TabBar needs to be a certain one . Therefore , I used tabsStyle like this . tabsStyle : { tabBarBackgroundColor : ' # AB013E ' , } , Then , the result shows like this . ! [ image ] ( https : //user-images.githubusercontent.com/23102875/29449328-34d56624-8435-11e7-8af6-2afdb4c29564.png ) It seems that the default button color is blue and it overwrite the color of the original image . And I when I set a specific color , like 'white ' , then it still overwrite the color of the original image , like this . ! [ image ] ( https : //user-images.githubusercontent.com/23102875/29449463-d67cebd2-8435-11e7-9965-09b198c7bcfa.png ) I tried not to use tabsStyle , but it that case , I ca n't set the background color of the tab and the default color of the button , 'blue ' , still overwrites the image , like this
How to disable TabBar button color ? Want to use the original color of the icon image . __EoT__ # # # Issue Description Need to use images for TabBar buttons like these . Normal ! [ timeline ] ( https : //user-images.githubusercontent.com/23102875/29449199-c844acc2-8434-11e7-9869-9a817f2a6271.png ) Selected ! [ timeline_rv ] ( https : //user-images.githubusercontent.com/23102875/29449217-d7e9d6e8-8434-11e7-9e3c-495f21ef6805.png ) and the background color of the TabBar needs to be a certain one . Therefore , I used tabsStyle like this . tabsStyle : { tabBarBackgroundColor : ' # AB013E ' , } , Then , the result shows like this . ! [ image ] ( https : //user-images.githubusercontent.com/23102875/29449328-34d56624-8435-11e7-8af6-2afdb4c29564.png ) It seems that the default button color is blue and it overwrite the color of the original image . And I when I set a specific color , like 'white ' , then it still overwrite the color of the original image , like this . ! [ image ] ( https : //user-images.githubusercontent.com/23102875/29449463-d67cebd2-8435-11e7-9965-09b198c7bcfa.png ) I tried not to use tabsStyle , but it that case , I ca n't set the background color of the tab and the default color of the button , 'blue ' , still overwrites the image , like this
Background visible during transition __EoT__ # # # Issue Description When pushing a new screen onto the navigation stack that transitions from a navigation bar with a solid background colour to one with a transparent nav bar , a black background is visible where the original navigation bar was , as seen here halfway through the animation : < img width= '' 424 '' alt= '' screen shot 2017-01-31 at 17 13 58 '' src= '' https : //cloud.githubusercontent.com/assets/4320942/22476156/3c0108c0-e7d9-11e6-90f1-acf5f4fdf707.png '' > Here 's the navigator styles I 'm using : The first screen : `` ` static navigatorStyle = { navBarBackgroundColor : ' # fcfcfc ' , navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarTextColorScheme : 'dark ' , navBarHideOnScroll : false , navBarNoBorder : false , drawUnderNavBar : false , navBarTranslucent : false , statusBarHideWithNavBar : true } `` ` The screen being pushed : `` ` static navigatorStyle = { navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarHidden : false , navBarNoBorder : true , drawUnderNavBar : true , navBarTransparent : true , navBarTranslucent : true } `` ` If I set the first
Background visible during transition __EoT__ # # # Issue Description When pushing a new screen onto the navigation stack that transitions from a navigation bar with a solid background colour to one with a transparent nav bar , a black background is visible where the original navigation bar was , as seen here halfway through the animation : < img width= '' 424 '' alt= '' screen shot 2017-01-31 at 17 13 58 '' src= '' https : //cloud.githubusercontent.com/assets/4320942/22476156/3c0108c0-e7d9-11e6-90f1-acf5f4fdf707.png '' > Here 's the navigator styles I 'm using : The first screen : `` ` static navigatorStyle = { navBarBackgroundColor : ' # fcfcfc ' , navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarTextColorScheme : 'dark ' , navBarHideOnScroll : false , navBarNoBorder : false , drawUnderNavBar : false , navBarTranslucent : false , statusBarHideWithNavBar : true } `` ` The screen being pushed : `` ` static navigatorStyle = { navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarHidden : false , navBarNoBorder : true , drawUnderNavBar : true , navBarTransparent : true , navBarTranslucent : true } `` ` If I set the first
[ iOS ] [ Bug ] - Navigation bar overlapping icons with popped screen . __EoT__ # # # Issue Description Hi guys , I found a bug . I have 3 screens : screen A is list of items , tap on an item show screen B then tap on item on screen B to show screen C. Screen B has back icon on left and plus icon on right . Screen C has custom back icon on left and filter icon on right . From screen C , I execute pop gesture to go back B and continue to A . Then from A I tap on item to go to screen B . The navigation bar at B will show both icons that displayed on screen C ( please see the below screenshot ) . Notice : at screen C , if I tap on Back icon instead of execute pop gesture , this issue is not happened . ! [ navibar-issue ] ( https : //user-images.githubusercontent.com/3895199/30244994-8dd66562-95f5-11e7-9f62-9b2dcaf89372.png ) -- - # # # Environment * React Native Navigation version : 1.1.213 * React Native version : 0.48.1 * Platform ( s ) ( iOS , Android ,
[ v2 ] Are e2e tests passing ? __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description About 9 days ago , I opened pull request # 3578 and I noticed that the CI system was reporting that checks were failing . I did n't know how my code changes could have caused those , and so I checked out the official v2 branch and am running e2e tests on it . I am getting failures . Is this a known issue ? Here is the failure on android : `` ` FAIL e2e/ScreenStack.test.js ( 1789.068s ) screen stack ✓ push and pop screen ( 130022ms ) ✓ : android : push and pop screen without animation ( 44958ms ) ✓ pop screen deep in the stack ( 194973ms ) ✓ pop to specific id ( 279782ms ) ✓ pop to root ( 299956ms ) ✓ switch to tab ( 120145ms ) ✓ switch to tab by cotnainerId ( 84999ms ) ✓ push stack with multiple children ( 235206ms ) ✓ push external component with options ( 50192ms ) ✓ push into a stack from
[ v2 ] Are e2e tests passing ? __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description About 9 days ago , I opened pull request # 3578 and I noticed that the CI system was reporting that checks were failing . I did n't know how my code changes could have caused those , and so I checked out the official v2 branch and am running e2e tests on it . I am getting failures . Is this a known issue ? Here is the failure on android : `` ` FAIL e2e/ScreenStack.test.js ( 1789.068s ) screen stack ✓ push and pop screen ( 130022ms ) ✓ : android : push and pop screen without animation ( 44958ms ) ✓ pop screen deep in the stack ( 194973ms ) ✓ pop to specific id ( 279782ms ) ✓ pop to root ( 299956ms ) ✓ switch to tab ( 120145ms ) ✓ switch to tab by cotnainerId ( 84999ms ) ✓ push stack with multiple children ( 235206ms ) ✓ push external component with options ( 50192ms ) ✓ push into a stack from
Search Field in Navigation Bar - iOS Support , Documentation __EoT__ I noticed there is Android support for a search view as a Navigation Button , expanding to a text field on selection . ( Found via Pull # 432 ) It needs an iOS implementation , as well as documentation on how to implement . From my own experimentation , it appears the only necessary action is to set the Navigation Button id to ` searchView ` , and it requires an icon - title does n't work . EG - `` ` static navigatorButtons = { rightButtons : [ { icon : require ( `` ../../assets/searchIcon.png '' ) , id : 'searchView ' , } ] } `` ` And then search events are emitted as Navigator events , EG - `` ` this.props.navigator.setOnNavigatorEvent ( event = > { if ( event.id === `` searchQueryChange '' ) { console.log ( `` search query : `` + event.query ) ; } } ) ; `` ` I 'm going to work on an iOS equivalent to match
[ V2 ] Default background color does n't work as specified in the documentation __EoT__ # # # Issue Description When configuring a default background ( ` Navigation.setDefaultOptions ` ) color as specified in the documentation , nothing happens . `` ` { layout : { backgroundColor : 'red' } } `` ` Reference : https : //wix.github.io/react-native-navigation/v2/ # /docs/styling ? id=common-options It turns out it works when adding , instead : `` ` { screenBackgroundColor : 'red' } `` ` Setting the color using ` Navigation.setDefaultOptions ` only works on Android . But it works on iOS when defining this property per screen . * React Native Navigation version : 2.0.2305 * React Native version : 0.54.4 * Platform ( s ) ( iOS , Android , or both ? ) : Both * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : iOS 10 , 11 - Android API 25
Style the BottomTabs/TabBar at runtime __EoT__ Is there a way to change the tabbar style after the app being initialized ? # # # Steps to Reproduce / Code Snippets / Screenshots - Navigation.startTabBasedApp - Use tabsStyle to set some dark colors - Change app theme from dark to light - How to change the tab bar style now ? -- - # # # Environment * React Native Navigation version : 2.0.0-experimental.141 * React Native version : 0.37.0 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : iPhone 6 Simulator iOS 10
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
[ v2 ] Sending ` RNN.appLaunched ` with no listeners registered . __EoT__ # # # Issue Description When building a basic sample project for iOS , following the project in the ` playground ` folder , the app throws the following warning ` Sending 'RNN.appLaunched ' with no listeners registered. ` # # # Steps to Reproduce / Code Snippets / Screenshots * ` git clone git @ github.com : kasperkronborg/test-navigation.git ` * ` yarn install ` * ` react-native run-ios ` In the github project I have added some log statements to the iOS Library , that gives the indication of a race condition . It seems that ` RNN.appLaunched ` are called to early , when there has still not been any listeners attached through ` Navigation.events ( ) .onAppLaunched ( ) ` . -- - # # # Environment * React Native Navigation version : 2.0.54 * React Native version : 0.45.1 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator , iOS 10 , Debug
[ v2 ] Bottom tabs visibility problem __EoT__ # # # Issue Description We have an app with bottom tabs . We want to navigate to another screen with hiding the bottom tabs . It 's working but causes a UI bug when we go back , appears a white area ( exact same height as bottom tabs ) . You can see below . # # # Steps to Reproduce / Code Snippets / Screenshots Let 's assume first screen is HomeScreen ( with bottom tabs ) and second screen is CommentsScreen . Just pass `` ` { bottomTabs : { visible : false , animated : true } } `` ` to CommentsScreen to hide bottom tabs . ! [ 2018-07-12 18 21 09 ] ( https : //user-images.githubusercontent.com/22980987/42643030-da25ac42-8600-11e8-98f4-ecdb5e477a00.gif ) ! [ 2018-07-12 18 21 57 ] ( https : //user-images.githubusercontent.com/22980987/42643032-da4f9a0c-8600-11e8-97b2-3ab440b76137.gif ) -- - # # # Environment * React Native Navigation version : v2 latest * React Native version : 0.55.4 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
[ ios ] [ v1 ] Global Events and Screen Events do not work after iPhoneX patch __EoT__ # # # Issue Description Global Events and Screen Events do not work after iPhoneX patch # # # Steps to Reproduce / Code Snippets / Screenshots Install latest ( 1.1.473 ) and register global events and and none of the events are generated . `` ` new ScreenVisibilityListener ( { willAppear : ( { screen } ) = > { logger.log ( ` Displaying screen $ { screen } ` ) ; } , didAppear : ( screen , startTime , endTime , commandType } ) = > { console.log ( 'screenVisibility ' , ` Screen $ { screen } displayed ` ) ; } , willDisappear : ( ) = > { // { screen , startTime , endTime , commandType } ) = > { /logger.log ( ` Screen will disappear $ { screen } ` ) ; } , didDisappear : ( { screen } ) = > { /logger.log ( ` Screen disappeared $ { screen } ` ) ; } } ) .register ( ) ; `` ` The problem is associated in RCCViewController.m at the
[ V2 ] topBar component buttons cause Xcode runtime crash __EoT__ # 4105 broke components as ` topBar ` buttons . I am trying to apply a component as the only item in the ` leftButtons ` array and the app crashes ( Xcode crash ) . Icon buttons work fine . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
Feature needed : enable single screen supporting orientation . __EoT__ # # # Issue Description Right now , Android can turn on portraitOnlyMode to make the whole app not supporting orientation , iOS not implemented yet . Both are not supporting turn on or off orientation for single screen . This feature is useful for apps that has a video player screen , which only need the player screen can be rotated .
Intermittent failure in Balking pattern __EoT__ See Travis log https : //api.travis-ci.org/v3/job/329176022/log.txt
Intermittent failure in Balking pattern __EoT__ See Travis log https : //api.travis-ci.org/v3/job/329176022/log.txt
Queue-Based Load Leveling pattern __EoT__ https : //msdn.microsoft.com/en-us/library/dn589783.aspx
SonarQube reports bugs __EoT__ The project is automatically scanned with SonarQube . The static code analysis reports several blocker and critical level issues that should be fixed . https : //sonarcloud.io/project/issues ? id=com.iluwatar % 3Ajava-design-patterns & resolved=false & severities=BLOCKER % 2CCRITICAL & types=BUG
Twin design pattern __EoT__ http : //www.ssw.uni-linz.ac.at/Research/Papers/Moe99/Paper.pdf
a new design pattern : efficient-cache __EoT__ I have an idea for building an efficient cache design to solve the problem of needing to calculate the same situation frequently in some scenarios . I 'm working on it . I am annotating now , the function has been achieved.I hope I can get your approval .
Waiting to send key event because the focused window has not finished processing all of the input events that were previously delivered to it __EoT__ Test Name : Monkey Test 24____________ Version : _1__________ Severity ( Fatal , Serious , Minor ) : _Minor____________ Type : ( Coding Error , Design Issue , Suggestion , Documentation ) : _Coding Error__________ Summary : _Waiting to send key event because the focused window has not finished processing all of the input events that were previously delivered to it___________________ Able to be reproduced ? ( Yes/No ) : _Yes________ What is the problem and how can it be reproduced ? **See Monkey output file____________________________________________________** **run Monkey with seed 1431365035477_______________________________________** -- - Suggestions ( optional ) : -- - -- - -- - Reported By : **Drew Carlstedt______________** Date : _5/13/2015_______ ~~~~~~~~~~~~~~~~~~~~~ DEVELOPMENT TEAM ONLY ~~~~~~~~~~~~~~~~~~~~~ Functional Area : ____________________________ Assigned To : ____________________ Comments : ___________________________________________________________________________ -- - Status ( Open/Closed ) : _____________________ Priority ( 1-5 ) : __________________ Resolution ( Pending , Fixed , Irreproducible , Reassigned , As Intended , Unfixable , Withdrawn , Requesting More Information , Disagree with Suggestion ) : ___________________________ Resolved By : _______________________ Date :
Self-sent messages are duplicated __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description When sending a message to one 's own account , it appears twice , using twice as much screen space . I know I sent it and I know I got it , showing it once is enough . # # # Steps to reproduce - make a contact for yourself with your number if you do n't already have one - write a message to your contact **Actual result : ** The message I sent appears twice . **Expected result : ** The message I sent should appear as sent or as received , but not both , which is redundant . # # # Screenshots ! [ stop repeating everything ] ( https : //cloud.githubusercontent.com/assets/643789/19829648/62908150-9de7-11e6-9cb3-5943a04598fc.png ) # # # Device info **Device : ** Huawei P8 Lite **Android version : ** 6.0 **Signal version : ** 3.20.4
Low sound in call ( Signal 3.5.2+ ) __EoT__ Hey , I still have the problem of the closed issue # 4244 . The workaround of enabling/disabling speakers still does the trick . Device info : Samsung I9300 , CM Lolipop 5.1.1 , Signal 3.5.2 Debug log : https : //gist.github.com/anonymous/b09ff201c845cddd5da1 In the log , I phoned a friend , confirmed that I could barely hear him , then did the workaround . Then I confirmed I could hear him well and stopped the call .
[ Feature Request ] Ability to delete safety numbers __EoT__ When another signal user has a temporary phone , or decides to delete signal , there is no option to purge keys for that user and return to Insecure SMS as default . It would be great if there was a remove keys , or reset user function in the menu to clean their key from your device .
disappearing messages with 1 Month __EoT__ Disappearing Messages are great . But sometimes information is relevant for more than a Week but should still disappear after a while . It would be great to also have the possibility to configure disappearing messages to stay 1 Month
Heap corruption ( and crash ) when image should be displayed in message list __EoT__ When viewing a conversation history with a user , and an image is visible in the listing ( or more accurately , when there should be an image visible ) then heap corruption occurs . Sony Xperia Z running PABX 's Android 4.4 build with GApps , ( build 3.2 ) . Example errors ( each from a different crash ) 11-08 22:31:24.878 : A/libc ( 13885 ) : Fatal signal 11 ( SIGSEGV ) at 0x75282000 ( code=1 ) , thread 13903 ( pool-1-thread-1 ) 11-08 22:39:48.720 : A/libc ( 20017 ) : Fatal signal 11 ( SIGSEGV ) at 0x737d5000 ( code=1 ) , thread 20048 ( pool-1-thread-1 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : heap corruption detected by dlmalloc 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 6 ( SIGABRT ) at 0x00005040 ( code=-6 ) , thread 20636 ( AsyncTask # 5 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 11 ( SIGSEGV ) at 0x7ede9000 ( code=1 ) , thread 20561 ( pool-1-thread-1 ) More complete content from LogCat : 11-08 22:41:58.597 :
Heap corruption ( and crash ) when image should be displayed in message list __EoT__ When viewing a conversation history with a user , and an image is visible in the listing ( or more accurately , when there should be an image visible ) then heap corruption occurs . Sony Xperia Z running PABX 's Android 4.4 build with GApps , ( build 3.2 ) . Example errors ( each from a different crash ) 11-08 22:31:24.878 : A/libc ( 13885 ) : Fatal signal 11 ( SIGSEGV ) at 0x75282000 ( code=1 ) , thread 13903 ( pool-1-thread-1 ) 11-08 22:39:48.720 : A/libc ( 20017 ) : Fatal signal 11 ( SIGSEGV ) at 0x737d5000 ( code=1 ) , thread 20048 ( pool-1-thread-1 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : heap corruption detected by dlmalloc 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 6 ( SIGABRT ) at 0x00005040 ( code=-6 ) , thread 20636 ( AsyncTask # 5 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 11 ( SIGSEGV ) at 0x7ede9000 ( code=1 ) , thread 20561 ( pool-1-thread-1 ) More complete content from LogCat : 11-08 22:41:58.597 :
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
Call 's elapsed time is not shown __EoT__ - [ X ] I have searched open and closed issues for duplicates - [ X ] I am submitting a bug report for existing functionality that does not work as intended - [ X ] I have read https : //github.com/signalapp/Signal-Android/wiki/Submitting-useful-bug-reports - [ X ] This is n't a feature request or a discussion topic -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The Call Screen 's elapsedTime widget is not being used therefore there 's no call duration shown to the user . # # # Steps to reproduce - do the call - once connected , the call elapsed time should be shown **Actual result : ** nothing is being shown **Expected result : ** call elapsed time should be visible during the whole call
Call 's elapsed time is not shown __EoT__ - [ X ] I have searched open and closed issues for duplicates - [ X ] I am submitting a bug report for existing functionality that does not work as intended - [ X ] I have read https : //github.com/signalapp/Signal-Android/wiki/Submitting-useful-bug-reports - [ X ] This is n't a feature request or a discussion topic -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The Call Screen 's elapsedTime widget is not being used therefore there 's no call duration shown to the user . # # # Steps to reproduce - do the call - once connected , the call elapsed time should be shown **Actual result : ** nothing is being shown **Expected result : ** call elapsed time should be visible during the whole call
Change icon for Take photo __EoT__ In the attachment dialog _Take photo_ and _Contact info_ use the same icon . The camera icon used in quick camera would suit _Take photo_ better . ! [ reinhold attachment ] ( https : //cloud.githubusercontent.com/assets/174176/8915245/8e2eebda-34ac-11e5-8286-7703cee6a5c2.png ) TS 2.23.3
Feature Request - Block Texts __EoT__ It would be a nice feature to be able to block texts . This could be because someone is sending you spam SMS or maybe you have a person who is bothering you . I think you should be able to instruct the program to reject texts from certain numbers .
OutgoingRinger NPE on network failure __EoT__ < ! -- mark with x between the [ ] -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description Got this crash today during the Redphone relay outage : `` ` D/RedPhoneService ( 18728 ) : java.lang.NullPointerException D/RedPhoneService ( 18728 ) : at org.thoughtcrime.redphone.audio.OutgoingRinger.onPrepared ( OutgoingRinger.java:147 ) D/RedPhoneService ( 18728 ) : at android.media.MediaPlayer $ EventHandler.handleMessage ( MediaPlayer.java:1992 ) D/RedPhoneService ( 18728 ) : at android.os.Handler.dispatchMessage ( Handler.java:99 ) D/RedPhoneService ( 18728 ) : at android.os.Looper.loop ( Looper.java:153 ) D/RedPhoneService ( 18728 ) : at android.app.ActivityThread.main ( ActivityThread.java:5299 ) `` ` Happens [ here ] ( https : //github.com/WhisperSystems/Signal-Android/blob/fa22fb755084b3c2d8064811d6be79ee0b617eac/src/org/thoughtcrime/redphone/audio/OutgoingRinger.java # L147 ) , not sure how that 's possible ? Might be something for redphone wizard @ cascheberg # # # Steps to reproduce - try to place a Signal call during the relay outage ( setting phone to airplane mode somehow is n't enough , so I ca n't reproduce : / ) - get a `` network failed '' message - crash # # # Device info **Android version : ** 4.2.2
Add Iran to censored countries list __EoT__ Here is the log that I ca n't connect to textsecure-service.whispersystems.org https : //gist.github.com/anonymous/fea6d946aea279e0a748ef4094d575af Thank you so much .
Please make Signal work with microG out of the box __EoT__ I have an android smartphone without Google Play services . The reason for that is that I do n't trust Google to not add NSA backdoors if asked or possibly snoop around my data in other intrusive ways , and while I 'm aware Android also has a rather spotty security track record and might contain backdoors directly , at least it provides a reasonable possibility for external code reviews to discover such issues . This tweet made me look into the open-source microG to run Signal : https : //twitter.com/whispersystems/status/783817903120318465 ( as per the rationale given above , I 'm somewhat ok with additional open-source components on my phone and not very happy about more closed-source components ) However , even with microG installed , I 'm getting the popup `` Google Play Services - Signal relies on google Play Services , which is not supported by your device . Contact the manufacturer for assistance '' . I would assume this is because I do n't have spoofing enabled , which allows microG to seamlessly replace the google services transparently for any installed apps . https : //github.com/microg/android_packages_apps_GmsCore/wiki/Signature-Spoofing
drafts should be marked and moved to top of list __EoT__ the message drafts should be automatically moved to the top of the message-list and be marked somehow , i.e . get another color or a text `` Draft ''
Privacy : Remove Phone Numbers from Debug Log __EoT__ Please remove or make phone Numbers unrecognizable in the Debug Logs
media preview of attachment being downloaded __EoT__ it 's possible to open the media preview activity when tapping on an attachment that is in the process of downloading ( ie you 're receiving it and only see the download icon ) . in this case you just see an empty ( all black ) media preview and upon tapping the save icon `` error saving to storage '' . super picky , but should be easy enough to prevent this from happening and I think it should be done . reproducible on master and f1137927d4a9441f0dced4840d714f1ad95266d9 .
Show who has Signal and who has n't in the list of text messages __EoT__ Hello . I wish there was a way of telling who has Signal and who has n't immediately by looking at the contact 's name on the `` front page '' of Signal . It would only take a tiny lock next to their name . As it is right now , there is no way of teling if a user has Signal or not , unless you click their name . It 's not a big deal , I know . But if the long term goal of Signal is to compete with WhatsApp I would say this feature is a necessity . Sorry for a dizzy post , I 've had the flu for quite some time now .
NPE : switching to SMS when message length is > 144 ( i.e . SMS message counter toggled ) __EoT__ A crash mentioned by @ merkste in # 3571 1 ) Type a string that has at least 145 characters¹ on the compose field An example string ( 158 chars ) : `` ` '' Bless the Maker and His water , '' Kynes murmured . `` Bless the coming and going of Him . May His passage cleanse the world . May He keep the world for His people . '' `` ` 2 ) Long-press the send arrow and change to SMS mode 3 ) TS crashes https : //gist.github.com/anonymous/0ee1496d68fdd4fc58ff `` ` E/AndroidRuntime ( 5058 ) : FATAL EXCEPTION : main E/AndroidRuntime ( 5058 ) : Process : org.thoughtcrime.securesms , PID : 5058 E/AndroidRuntime ( 5058 ) : java.lang.NullPointerException : Attempt to invoke virtual method 'android.view.ViewTreeObserver android.view.View.getViewTreeObserver ( ) ' on a null object reference E/AndroidRuntime ( 5058 ) : at org.thoughtcrime.securesms.TransportOptionsPopup $ 2.onGlobalLayout ( TransportOptionsPopup.java:89 ) E/AndroidRuntime ( 5058 ) : at android.view.ViewTreeObserver.dispatchOnGlobalLayout ( ViewTreeObserver.java:912 ) E/AndroidRuntime ( 5058 ) : at android.view.ViewRootImpl.performTraversals ( ViewRootImpl.java:1881 ) E/AndroidRuntime ( 5058 ) : at android.view.ViewRootImpl.doTraversal ( ViewRootImpl.java:1061 ) E/AndroidRuntime
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Feature Request : App Shortcuts __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Feature Request Support for app shortucts in Android 7.1 and above . Here is the relevant documentation : [ App Shortcuts ] ( https : //developer.android.com/guide/topics/ui/shortcuts.html )
PUSH messages sent without data connection are never sent at all __EoT__ When I send a push message while not having a data connection ( e.g . by manually disabling data and wifi ) and sms fallback disabled , these messages are displayed with a light blue background ( light theme ) as if the message is about to be sent . No error is displayed and the message is not detected as failed-to-send . When data connection returns , the messages are still displayed in the same state , without the option to resend them . Is that a bug or a feature ? ; ) The message details state that the message is to be sent via SMS . The only option is to manually copy and paste the text and send it again when the data connection returns .
Allow to set and sync Contact Pictures __EoT__ Allow users to set their own contact picture and sync it to other TextSecure users . In contrast to WhatsApp , provide those pictures to the system contact list to be used in any app , including but not limited to TextSecure . Is this possible using a SyncAdapter ( # 890 ) coupled with a ContentProvider ?
Video losing file extension when forwarded from one chat to another __EoT__ Steps to reproduce - Share a mp4 video with a contact - Long press to select the video and tap the forward icon at the top - Paste into another chat **Actual result : ** The video will be unplayable in the desktop client because the file extension goes missing ( reportedly also in the ios client ) . ! [ capture1 ] ( https : //user-images.githubusercontent.com/1303537/39889036-010b21ac-5497-11e8-8a11-895b1dc2eda9.png ) Filename before forwarding : signal-2018-05-10-191631.mp4 Filename after forwarding : signal-2018-05-10-191916.- **Expected result : ** The video should retain the file extension and be playable in the client . # # # Device info **Device : ** Sony Xperia XZ2 Compact **Android version : ** 8.0.0 **Signal version : ** 4.19.3
Video losing file extension when forwarded from one chat to another __EoT__ Steps to reproduce - Share a mp4 video with a contact - Long press to select the video and tap the forward icon at the top - Paste into another chat **Actual result : ** The video will be unplayable in the desktop client because the file extension goes missing ( reportedly also in the ios client ) . ! [ capture1 ] ( https : //user-images.githubusercontent.com/1303537/39889036-010b21ac-5497-11e8-8a11-895b1dc2eda9.png ) Filename before forwarding : signal-2018-05-10-191631.mp4 Filename after forwarding : signal-2018-05-10-191916.- **Expected result : ** The video should retain the file extension and be playable in the client . # # # Device info **Device : ** Sony Xperia XZ2 Compact **Android version : ** 8.0.0 **Signal version : ** 4.19.3
Calendrical fast scrolling for conversation view __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : https : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description With the introduction of ( sticky ) date headers , it would make sense to add fast scrolling to
Bad encrypted messages with latest v3 master __EoT__ After upgrading my VM I was able to send messages , but did n't receive for a few minutes . After those few minutes all messages were received , but as bad encrypted . ( Even delivery receipts were shown as bad encrypted messages ? ! ) Had to manually end the session to make it work . Self texting is not working . I was able to end the secure session , but then all new key messages are shown as corrupt . https : //gist.github.com/anonymous/edbb008e29162aec10de _destination ending on xxx34 are self texting_ As the log is quite long I guess the v3 build starts at about line 500
Incorrect behavior of message resend dialog __EoT__ Scenario : I am member of a group and a message did not get through ( e.g. , because I have a bad network connection ) . I then am presented with a message stating that I should tap for further details . After tapping I see a message detail dialog together with a list of all group members and separate `` send again '' buttons for every member . Problem : Whenever I tap on one of those buttons the message is not only resent to this specific member but to the whole group . To get rid of all buttons I would need to tap them all , thereby causing the message to be sent multiple times to every person . I see that there might be cases in which some members have got the message while others have not . In that case it would be good if the button would only cause a resend to this specific account . Often , it will be the case that none of the members got the message because the network issue is on the sender side . In that case , a
Incorrect behavior of message resend dialog __EoT__ Scenario : I am member of a group and a message did not get through ( e.g. , because I have a bad network connection ) . I then am presented with a message stating that I should tap for further details . After tapping I see a message detail dialog together with a list of all group members and separate `` send again '' buttons for every member . Problem : Whenever I tap on one of those buttons the message is not only resent to this specific member but to the whole group . To get rid of all buttons I would need to tap them all , thereby causing the message to be sent multiple times to every person . I see that there might be cases in which some members have got the message while others have not . In that case it would be good if the button would only cause a resend to this specific account . Often , it will be the case that none of the members got the message because the network issue is on the sender side . In that case , a
async loading of ConversationList items __EoT__ There 's a lot of choppiness in scrolling because we load the content as the scrolling happens , and much of the activity is on the UI thread . We should throw that work on a separate thread and use a library like https : //github.com/lucasr/smoothie to populate the list items when the data is ready .
Message reports Failed to send for all group members , but is received by all group members __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description When sending messages in a group chat sometimes
RTL support appears to be incomplete __EoT__ Hi , So I just received an update of Signal with complete translation to Hebrew , and it 's WONDERFUL . Thank you for having such a great localization process - not all apps are so smooth . However , since Hebrew is written right-to-left , as are Arabic , Persian and a few other languages , it requires a bit of extra work to make it properly functional in RTL . For example , in the Settings menu all the items are aligned to the left , and they should be aligned to the right . I 'm not an Android developer , but as far as I know , since Android 4 or so , most of this can be done by enabling auto-support for RTL somewhere in the app 's build definitions ( I 'm sorry if my language here is imprecise ) .
Display warning before unsubscribing from push __EoT__ To unsubscribe from push you only have to untick `` push messages '' . No info or warning is shown , that you will have to go through the whole registering process again . Maybe a message like `` Are you sure ? You 'll have to re-register to enable push again '' should be shown ?
[ Feature Request ] Add Contact 's custom string to Signal app __EoT__ My contacts are organized by client , and the phone numbers listed as 'so & so 's cell ' . Is it possible to add the 'custom ' string under the Name of the Contact in Signal ? That way I can easily tell who I 'm chatting with . I do n't know a better way to organize lots of numbers with Google . It 's been rather clunky usually , but this way I can quickly find people .
Add an 'About ' menu item __EoT__ ... with the current version number and a link to https : //whispersystems.org/ # encrypted_texts .
[ Bug ? ] Key changed events do not generate a notification __EoT__ I encountered this with a friend of mine who reflashed his phone and subsequently reregistered . I had an ongoing chat ( using his old key ) with him and noticed today that he had sent me a message yesterday and I had to accept the new key . But I did n't get notified about the new message in the notification bar I would expect Textsecure to generate notifications for all events including the key changed event , since this may lead to unnoticed messages , depending on usage pattern of course . If this behaviour is intentional , it would be great to know the rationale behind this . Anyways I want to thank you for your amazing work ! Steps to reproduce : 1 . User A and User B both register with Textsecure 2 . Both Users exchange a couple of messages 3 . User B reregisters with Textsecure changing his key 4 . User B send User A a Message 5 . No notification is shown on User A 's device Expected behaviour : User A should be notified of the incoming
Compose hint and send button text mismatch __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description The compose hint and send button text do n't match in landscape after changing transport mode . # # # Steps to reproduce 1 . Open a Signal conversation 2 . Turn device landscape 3 . Change transport mode to SMS 4 . Notice that the compose hint correctly changes to denote that the transport was changed to SMS 5 . Tap compose box 6 . Notice that the compose hint and send button text do n't match : ! [ screenshot_2016-02-27-16-12-06 ] ( https : //cloud.githubusercontent.com/assets/174176/13373345/7dabc952-dd6e-11e5-913c-bdf4198231ef.png ) 7 . Dismiss the keyboard 8 . Change transport mode back to Signal 9 . Notice that the compose hint correctly changes to denote that the transport was changed back to Signal 10 . Tap compose box 11 . Notice that the compose hint and send button text do n't match : ! [ screenshot_2016-02-27-16-12-27 ] ( https : //cloud.githubusercontent.com/assets/174176/13373347/854b7054-dd6e-11e5-9c66-9d70221229c5.png ) # # # Device info # # # # # Tested on - Huawei U8800 ,
Phone Number at Top Keeps Bad Data String Forever __EoT__ This is so bizarre I did n't know how to explain it properly in the title . Right now I have this text in the phone number field at the top of a thread in textsecure : '' +1510xxxxxxx - Sms and and generally use the '' ( The xxxxxxx are actually 7 digits I just omitted them to preserve his privacy ) This text should NOT be in a field meant for a telephone number ! How did this happen ? Well , I got a text from someone that went through my google voice number and was telling me they had a new number so I tried to copy just the number google puts there at the beginning of the text but It copied the whole text . I went into their address book entry and cleared their old number field to replace with the new data . When I pasted I noticed there was a bunch of text after the number so I cleared it all except the number then saved . I 'm not sure if i saved the text by accident then edited it again
Phone Number at Top Keeps Bad Data String Forever __EoT__ This is so bizarre I did n't know how to explain it properly in the title . Right now I have this text in the phone number field at the top of a thread in textsecure : '' +1510xxxxxxx - Sms and and generally use the '' ( The xxxxxxx are actually 7 digits I just omitted them to preserve his privacy ) This text should NOT be in a field meant for a telephone number ! How did this happen ? Well , I got a text from someone that went through my google voice number and was telling me they had a new number so I tried to copy just the number google puts there at the beginning of the text but It copied the whole text . I went into their address book entry and cleared their old number field to replace with the new data . When I pasted I noticed there was a bunch of text after the number so I cleared it all except the number then saved . I 'm not sure if i saved the text by accident then edited it again
Phone Number at Top Keeps Bad Data String Forever __EoT__ This is so bizarre I did n't know how to explain it properly in the title . Right now I have this text in the phone number field at the top of a thread in textsecure : '' +1510xxxxxxx - Sms and and generally use the '' ( The xxxxxxx are actually 7 digits I just omitted them to preserve his privacy ) This text should NOT be in a field meant for a telephone number ! How did this happen ? Well , I got a text from someone that went through my google voice number and was telling me they had a new number so I tried to copy just the number google puts there at the beginning of the text but It copied the whole text . I went into their address book entry and cleared their old number field to replace with the new data . When I pasted I noticed there was a bunch of text after the number so I cleared it all except the number then saved . I 'm not sure if i saved the text by accident then edited it again
Text does not wrap when `` Enter is send '' is enabled __EoT__ < ! -- Please note this is a bug tracker , not a support forum . If you need support , please use http : //support.whispersystems.org/ or email support @ whispersystems.org Delete any sections that are n't relevant . -- > < ! -- mark with x between the [ ] -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Steps to reproduce - Enable `` Enter key sends '' in Settings > Advanced - Type a long message - Text does not wrap From a UX perspective , these two things have nothing to do with each other , text could still wrap even if the input field does not allow `` multiline '' text , otherwise it becomes quite difficult to send long messages and the user has to break it into smaller ones , which might be annoying . **Signal version : ** 3.11 This is _not_ a duplicate of # 4219 .
Export backups to a sub-folder . __EoT__ Right now on my phone TextSecure exports the backup to the main folder on my sdcard . It would be nice if it was exported to a sub-folder , something like /sdcard/TextSecure/backup.xml or even have a setting to allow users to select the folder . The reason behind this request is that most `` backup '' apps do n't allow backing up a single file . Such apps as BtSync or the open source competitor to BtSync called SyncThing . They act kinda as dropbox but you host the servers and folders they backup to . I update my rom somewhat frequently and like to save my text messages .
Need to increase the API level in the build documentation __EoT__ Google have sent this message to all developer . This is a reminder that starting November 1 , 2018 , updates to apps and games on Google Play will be required to target Android Oreo ( API level 26 ) or higher . After this date , the Play Console will prevent you from submitting new APKs with a targetSdkVersion less than 26 . I have checked the build documentation and i see the targetSdkVersion is still on 25 . I tried to increase it to 26 and the app was working perfectly with all android versions except 8.0 and up .
Adding per-contact notification preferences __EoT__ I 'm working to add functionality to TextSecure to allow customization of notifications ( ringtone , vibrate pattern , led color ) on a per-contact basis . I 've got two questions : 1 ) Is this a feature that you 'd be interested in including in mainline TextSecure , and 2 ) If so , would it be better to let android store the per-contact preferences in the usual preferences location or would it be better to add them to the IdentityDatabase ? Thanks !
Adding per-contact notification preferences __EoT__ I 'm working to add functionality to TextSecure to allow customization of notifications ( ringtone , vibrate pattern , led color ) on a per-contact basis . I 've got two questions : 1 ) Is this a feature that you 'd be interested in including in mainline TextSecure , and 2 ) If so , would it be better to let android store the per-contact preferences in the usual preferences location or would it be better to add them to the IdentityDatabase ? Thanks !
MMSCs using proxies not working __EoT__ I do n't like MMS : / CM11 Trying to send with wifi enabled : `` ` -- -- -- -- - beginning of /dev/log/main W/ConversationActivity ( 18575 ) : onActivityResult called : 7 , -1 , null W/BitmapUtil ( 18575 ) : rough scale 2448x3264 = > 2448x3264 W/BitmapUtil ( 18575 ) : fine scale 2448x3264 = > 960.0x1280.0 W/ImageSlide ( 18575 ) : Got soft reference : null W/Slide ( 18575 ) : Loading Part URI : file : ///storage/sdcard0/DCIM/ts_1410424378919.jpg W/Slide ( 18575 ) : Loading Part URI : file : ///storage/sdcard0/DCIM/ts_1410424378919.jpg W/BitmapUtil ( 18575 ) : rough scale 2448x3264 = > 612x816 W/BitmapUtil ( 18575 ) : fine scale 612x816 = > 195.75x261.0 W/Session ( 18575 ) : Checking session ... W/Session ( 18575 ) : Checking session ... W/MmsCommunication ( 18575 ) : Getting MMSC params for apn null W/MmsCommunication ( 18575 ) : Android wo n't let us query the APN database . W/KeyCachingService ( 18575 ) : Incrementing activity count ... W/TelephonyUtil ( 18575 ) : Choosing MCC+MNC info from TelephonyManager.getSimOperator ( ) W/ApnDatabase ( 18575 ) : Querying table for MCC+MNC 26202 without APN name W/ApnDatabase (
Ca n't connect to textsecure push-service __EoT__ Hey , i tried to registrate @ WhisperPush after i used TextSecure but i cant register to WhisperPush , becuase after i recieve the SMS verification I get an error `` TextSecure cant connect to Push-Service '' , whats the prboblem Heres the log : 09-13 12:53:09.257 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.PreferenceActivity } from pid 16342 09-13 12:53:09.347 I/ActivityManager ( 624 ) : Start proc org.whispersystems.whisperpush for activity org.whispersystems.whisperpush/.ui.PreferenceActivity : pid=16435 uid=10058 gids= { 50058 , 3003 } 09-13 12:53:10.358 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:53:16.294 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:53:25.253 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:54:46.676 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:54:57.136 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:55:01.290 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:55:15.474 I/ActivityManager ( 624 ) : START u0
Ca n't connect to textsecure push-service __EoT__ Hey , i tried to registrate @ WhisperPush after i used TextSecure but i cant register to WhisperPush , becuase after i recieve the SMS verification I get an error `` TextSecure cant connect to Push-Service '' , whats the prboblem Heres the log : 09-13 12:53:09.257 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.PreferenceActivity } from pid 16342 09-13 12:53:09.347 I/ActivityManager ( 624 ) : Start proc org.whispersystems.whisperpush for activity org.whispersystems.whisperpush/.ui.PreferenceActivity : pid=16435 uid=10058 gids= { 50058 , 3003 } 09-13 12:53:10.358 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:53:16.294 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:53:25.253 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:54:46.676 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:54:57.136 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:55:01.290 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:55:15.474 I/ActivityManager ( 624 ) : START u0
Please kill GAPPS dependancy __EoT__ My phone is gapps free and for good reason as we all know by now . Google is useful for some things except on my phone . How come redphone has no dependancy on gapps , yet textsecure does ?
Force close when pressing back after adding attachment __EoT__ To reproduce : - Start TextSecure - Go into first conversation - Click menu ( ` ... ` ) - ` Add attachment ` - > ` Picture ` - Click first picture - Do not send picture , press back button - You are now in the conversation list and a Toast appears saying ` Saved draft ` - Press the first contact again - ` Unfortunately , TextSecure has stopped ` Tested on Moto X , Android 4.4.2 . Can you reproduce ?
Message is not resent when offline and SMS fallback disabled __EoT__ When sending a message while not connected to the internet but having SMS fallback disabled , TextSecure shows `` sending.. '' all the time , without resent once internet is available again .
Quick response has problems with country code __EoT__ If the country code begins with + the number is not decoded correctly . It does not decode % 2B correctly to + .
Quick response has problems with country code __EoT__ If the country code begins with + the number is not decoded correctly . It does not decode % 2B correctly to + .
Disable devices preference when not signal registered __EoT__ - if you are not or no more signal registered and - if you enter the devices activity , a message saying `` Network connection failed '' ( also see https : //github.com/WhisperSystems/Signal-Desktop/issues/499 ) - you can dismiss that by tapping the soft key 'back' - then you can add a device via scan and by that register/pseudo-link the desktop - and by that you have a desktop only signal registration ( and maybe some other oddnesseses )
messages marked as sent sometimes tomorrow __EoT__ I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description - opened Signal today - chatted with a friend of mine - discovered that each and every message he has sent me since yesterday is marked as received on the right day , but as sent on the next day . # # # Screenshot [ https : //drive.google.com/file/d/0B9aaqi6krwjpRXNqVDhaT3FYS3c/view ? usp=drivesdk ] ( https : //drive.google.com/file/d/0B9aaqi6krwjpRXNqVDhaT3FYS3c/view ? usp=drivesdk ) # # # Device info **Device : ** Acer Z520 **Android version : ** 4.4.2 **Signal version : ** 3.17.0 # # # Link to debug log https : //gist.github.com/bae2ab1a6e8a3218d6426f8bb9e0a2ea Latest messages should be close to the end of this log
Disappearing message notification disappears in group thread but not in contact thread __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description When you change the disappearing message timer , a notification appears , but whether that notification hangs around depends on whether you 're in a group vs. contact thread . # # # Steps to reproduce # # # # Given I 'm in a group thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - In five seconds that info message is deleted . # # # # Given I 'm in a contact thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - The info message never gets deleted . **Actual result : ** Contact thread `` You set disappearing message time '' info
Disappearing message notification disappears in group thread but not in contact thread __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description When you change the disappearing message timer , a notification appears , but whether that notification hangs around depends on whether you 're in a group vs. contact thread . # # # Steps to reproduce # # # # Given I 'm in a group thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - In five seconds that info message is deleted . # # # # Given I 'm in a contact thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - The info message never gets deleted . **Actual result : ** Contact thread `` You set disappearing message time '' info
TS 2.7.1 incompatible with Android 2.3.5 ? __EoT__ TS 2.5.3 running on Android 2.3.5 ca n't be updated to latest 2.7.1 from Play Store . Even if apk is downloaded from another phone ( CM 11 ) , it does n't install . Until 2.5.3 the update process worked fine . Other apps , even bigger in size do install . Bellow is log while updating via PlayStore . D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.requestInstall : Request install of org.thoughtcrime.securesms v=101 for single_install D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.kick : Installer kick - starting org.thoughtcrime.securesms D/Database ( 4601 ) : dbopen ( ) : path = /data/data/com.android.vending/databases/localappstate.db , mode : wal , disk free size : 635 M , handle : 0xb162a0 I/keystore ( 1271 ) : uid : 1000 action : e - > 7 state : 3 - > 3 retry : 4 D/Database ( 4601 ) : dbclose ( ) : path = /data/data/com.android.vending/databases/localappstate.db , handle = 0xb162a0 D/ActivityManager ( 1377 ) : destroyActivityLocked , r=HistoryRecord { 40aaa580 com.android.vending/com.google.android.finsky.activities.AppsPermissionsActivity } V/ActivityManager ( 1377 ) : destroyActivityLocked , dalvik.system.VMStack.getThreadStackTrace ( Native Method ) V/ActivityManager ( 1377 ) : destroyActivityLocked , java.lang.Thread.getStackTrace (
TS 2.7.1 incompatible with Android 2.3.5 ? __EoT__ TS 2.5.3 running on Android 2.3.5 ca n't be updated to latest 2.7.1 from Play Store . Even if apk is downloaded from another phone ( CM 11 ) , it does n't install . Until 2.5.3 the update process worked fine . Other apps , even bigger in size do install . Bellow is log while updating via PlayStore . D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.requestInstall : Request install of org.thoughtcrime.securesms v=101 for single_install D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.kick : Installer kick - starting org.thoughtcrime.securesms D/Database ( 4601 ) : dbopen ( ) : path = /data/data/com.android.vending/databases/localappstate.db , mode : wal , disk free size : 635 M , handle : 0xb162a0 I/keystore ( 1271 ) : uid : 1000 action : e - > 7 state : 3 - > 3 retry : 4 D/Database ( 4601 ) : dbclose ( ) : path = /data/data/com.android.vending/databases/localappstate.db , handle = 0xb162a0 D/ActivityManager ( 1377 ) : destroyActivityLocked , r=HistoryRecord { 40aaa580 com.android.vending/com.google.android.finsky.activities.AppsPermissionsActivity } V/ActivityManager ( 1377 ) : destroyActivityLocked , dalvik.system.VMStack.getThreadStackTrace ( Native Method ) V/ActivityManager ( 1377 ) : destroyActivityLocked , java.lang.Thread.getStackTrace (
TS 2.7.1 incompatible with Android 2.3.5 ? __EoT__ TS 2.5.3 running on Android 2.3.5 ca n't be updated to latest 2.7.1 from Play Store . Even if apk is downloaded from another phone ( CM 11 ) , it does n't install . Until 2.5.3 the update process worked fine . Other apps , even bigger in size do install . Bellow is log while updating via PlayStore . D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.requestInstall : Request install of org.thoughtcrime.securesms v=101 for single_install D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.kick : Installer kick - starting org.thoughtcrime.securesms D/Database ( 4601 ) : dbopen ( ) : path = /data/data/com.android.vending/databases/localappstate.db , mode : wal , disk free size : 635 M , handle : 0xb162a0 I/keystore ( 1271 ) : uid : 1000 action : e - > 7 state : 3 - > 3 retry : 4 D/Database ( 4601 ) : dbclose ( ) : path = /data/data/com.android.vending/databases/localappstate.db , handle = 0xb162a0 D/ActivityManager ( 1377 ) : destroyActivityLocked , r=HistoryRecord { 40aaa580 com.android.vending/com.google.android.finsky.activities.AppsPermissionsActivity } V/ActivityManager ( 1377 ) : destroyActivityLocked , dalvik.system.VMStack.getThreadStackTrace ( Native Method ) V/ActivityManager ( 1377 ) : destroyActivityLocked , java.lang.Thread.getStackTrace (
Save all media to filesystem __EoT__ - [ x ] I have searched open and closed issues for duplicates ( # 3975 shows the successful implementation ) - [ x ] I am submitting a bug report for existing functionality that does not work as intended - [ x ] I have read https : //github.com/signalapp/Signal-Android/wiki/Submitting-useful-bug-reports - [ x ] This is n't a feature request or a discussion topic -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The `` save all media '' button disappeared on my device . My device 's screen just broke half-way and I need to switch to a new device . I do not have space on the new device to move 3 gb ( sic ! ) of signal data . I want to save all media from my existing conversations and move them from my ( old ) phone to my computer . This used to work fine and disappeared in a recent update . I relied on features not suddenly disappearing . I am a little scared , do I really now need to
Typo in German translation : `` Meine Fingerabdruck '' __EoT__ The translation of `` My Fingerprint '' is mistakenly translated as `` Meine Fingerabdruck '' . It should be `` Mein Fingerabdruck ''
Sending simple SMS reproducibly fails __EoT__ Sending a simple SMS ( just text ) to a certain contact fails reproducibly . I can successfully send push messages to this contact and SMS to other contacts . One thing to notice is that the contact regarding this issue is the only one I have who is also using TextSecure and we once had an established key exchange ( which I disabled before producing the logfile below ) . Strangely she can successfully send me SMS . Here is the log file : `` ` -- -- -- -- - beginning of /dev/log/main W/DirectoryRefreshListener ( 5780 ) : Scheduling for : 1394051833012 W/PartProvider ( 5780 ) : Got master secret : null W/KeyCachingService ( 5780 ) : KCS Is Being Destroyed ! I/dalvikvm ( 5780 ) : Could not find method android.provider.Telephony $ Sms.getDefaultSmsPackage , referenced from method org.thoughtcrime.securesms.util.Util.isDefaultSmsProvider W/dalvikvm ( 5780 ) : VFY : unable to resolve static method 969 : Landroid/provider/Telephony $ Sms ; .getDefaultSmsPackage ( Landroid/content/Context ; ) Ljava/lang/String ; D/dalvikvm ( 5780 ) : VFY : replacing opcode 0x71 at 0x000a W/MmsSmsDatabase ( 5780 ) : Executing query : SELECT _id , body , read , type
Wrong file suffix on saving videos __EoT__ I just received a video within a group chat in Signal 3.4.0 . When I save that video , it is saved to sdcard\Movies\textsecure-2015-11-14-131819.attach To make it play in other apps I have to open a file manager and rename the video to textsecure-2015-11-14-131819.mp4 I would expect Signal to directly save the file as textsecure-2015-11-14-131819.mp4
Introduce Threat model __EoT__ It would be good to know what attacks/threats were already considered in the current design and how they should be prevented . Additionally it would make sense to add those which were left out or are not considered at the moment . Maybe this could be done in the context of a wiki page . # Threat related Issues # # Uncategorized - # 934 MasterSecret implements Parcelable , secure ? - # 1299 Improve privacy of contact discovery - # 1725 Creating of group leaks name and included numbers to participants before any message is sent - # 3080 Everyone who has my phone number can figure out that I use textsecure - # 4300 different certificates served to my home internet connection vs. cell data ( fits in more categories ) - # 5100 SSL Certificate Problem - # 5618 Protection against Retroscope - # 5724 Hyperlink previews # # # Being forced to do something : - # 175 Quick way to wipe message database - # 1512 Secondary Password to Erase All Messages # # [ Traffic Analysis ] ( http : //en.wikipedia.org/wiki/Padding_ % 28cryptography % 29 # Traffic_analysis ) : -
Safety number verification status should be stored and presented in UI __EoT__ Feature request : if I 've verified safety numbers with a contact of mine by scanning QR codes in person , then the fact that we have both verified each other should be presented somewhere in the UI ( as a checkmark or something ? ) until their safety numbers change . There presently seems to be no other way to know that you 've already verified with somebody except by memory .
Safety number verification status should be stored and presented in UI __EoT__ Feature request : if I 've verified safety numbers with a contact of mine by scanning QR codes in person , then the fact that we have both verified each other should be presented somewhere in the UI ( as a checkmark or something ? ) until their safety numbers change . There presently seems to be no other way to know that you 've already verified with somebody except by memory .
Safety number verification status should be stored and presented in UI __EoT__ Feature request : if I 've verified safety numbers with a contact of mine by scanning QR codes in person , then the fact that we have both verified each other should be presented somewhere in the UI ( as a checkmark or something ? ) until their safety numbers change . There presently seems to be no other way to know that you 've already verified with somebody except by memory .
Only push msg , no SMS fallback : why list non-TextSecure contacts ? __EoT__ When using TextSecure v2.0.1 with only push messages enabled ( no SMS fallback ) creating a new thread by clicking on the '+ ' sign , all contacts are displayed . Confirmed TextSecure contacts are displayed in a bold font . Non-TextSecure contacts are displayed with a regular font . As we do not have the SMS fallback enabled why does TextSecure even bother displaying non-TextSecure users . This is confusing . Please do not display non-TextSecure users if SMS fallback has been disabled . When SMS fallback has been enabled , please consider making the distinction between TextSecure and non-TextSecure user more distinctive . Bold vs Regular font is not distinctive enough . Use different background color for instance .
Emojis still not centered __EoT__ Hello , this is a follow-up issue to : https : //github.com/WhisperSystems/TextSecure/issues/3317 I know that this should have been fixed by @ mcginty via https : //github.com/WhisperSystems/TextSecure/commit/9b2aabfdc8ece6c1002176ae75abe98229a46054 and yes , it 's much better now ( thanks for that ) , but it 's still not solved . You can easily reproduce it by doing the following steps for example : 1 . Have an empty message input box 2 . Insert an Emoji into the message input box via the TextSecure Emoji drawer 3 . Hit the space key on the keyboard to insert a space after the Emoji 4 . Now you should see that the Emoji has suddenly moved it 's position a bit down 5 . Press backspace on the keyboard to remove the space again 6 . Now you should see that the Emoji is centered again Could you please fix it ? Regards
CrashBrowser : OOM 2.7.0-B1 ( emoji ) __EoT__ `` ` java.lang.RuntimeException : Unable to start activity ComponentInfo { org.thoughtcrime.securesms/org.thoughtcrime.securesms.ConversationActivity } : android.view.InflateException : Binary XML file line # 125 : Error inflating class < unknown > at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2325 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2387 ) at android.app.ActivityThread.access $ 800 ( ActivityThread.java:151 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1303 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5254 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:903 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:698 ) Caused by : android.view.InflateException : Binary XML file line # 125 : Error inflating class < unknown > at android.view.LayoutInflater.createView ( LayoutInflater.java:633 ) at android.view.LayoutInflater.createViewFromTag ( LayoutInflater.java:743 ) at android.view.LayoutInflater.rInflate ( LayoutInflater.java:806 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:504 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:414 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:365 ) at android.support.v7.app.ActionBarActivityDelegateBase.setContentView ( ActionBarActivityDelegateBase.java:228 ) at android.support.v7.app.ActionBarActivity.setContentView ( ActionBarActivity.java:102 ) at org.thoughtcrime.securesms.ConversationActivity.onCreate ( ConversationActivity.java:171 ) at android.app.Activity.performCreate ( Activity.java:5990 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1106 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2278 ) ... 10 more Caused by : java.lang.reflect.InvocationTargetException at java.lang.reflect.Constructor.newInstance ( Native Method ) at java.lang.reflect.Constructor.newInstance ( Constructor.java:288 ) at android.view.LayoutInflater.createView ( LayoutInflater.java:607 ) ...
Time/date not translated in image view __EoT__ 2.19.0 _Edit : see third comment for a proper bug report._ ! [ phil thomas katt enterprise room ] ( https : //cloud.githubusercontent.com/assets/174176/8272598/879f4cfe-1852-11e5-9218-54a47715bf88.png )
KitKat update : messages going to hangouts __EoT__ When I first installed the app , I had issues with messages going to the stock messaging app despite TextSecure being set as default . That issue stopped when I disabled the stock messaging app . Now with the KitKat update , messages are going to Hangouts instead of TextSecure . I really do n't want to have to disable Hangouts because I use hangouts . I see in the play store , this is a known issue . Has anyone come up with a workaround for it yet ?
Fix the tests in org.thoughtcrime.securesms.database.AttachmentDatabaseTest.java __EoT__ Now that the tests are back , let 's fix the tests in AttachmentDatabaseTest.java .
Feature : Blocking __EoT__ Blocking by user-specified phone number , via something like an email filter rule where the messages from the number are deleted upon receipt and no notification is given .
Feature : Blocking __EoT__ Blocking by user-specified phone number , via something like an email filter rule where the messages from the number are deleted upon receipt and no notification is given .
[ Feature ] Convert known phone numbers in text body into contact names __EoT__ Splitting this out from @ brwolfgang 's # 2582 request for clickable phone numbers . > It also would be nice if TS would identify the number in text body using my local contacts list and instead of showing the unrecognizable sequence of numbers it showed a ( clickable ) contact name . > > A SMS example : Você recebeu ligações de : 04111123451234 16:59hs > A processed SMS example : Você recebeu ligações de : : Dad 16:59hs ~~Blocked on # 2582.~~
Devices image wrong dimensions __EoT__ The 'devices ' image in the preferences activity does not fit the dimensions of the other images . The ones I checked are 12 pixels off ( up and down ) . Another perfect thing to fix for @ agrajaghh : wave :
[ KitKat ] Attempt to retreive MMS causes TextSecure to crash __EoT__ If you open a thread containing an MMS that is yet to be retrieved from the carrier ( T-Mobile USA , in my case ) , TextSecure crashes . Stack trace using Nexus 5 on KitKat : `` ` E/DatabaseUtils ( 989 ) : Writing exception to parcel E/DatabaseUtils ( 989 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforce ( ContextImpl.java:1685 ) E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforceCallingOrSelfPermission ( ContextImpl.java:1714 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.checkPermission ( TelephonyProvider.java:735 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.query ( TelephonyProvider.java:462 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider.query ( ContentProvider.java:855 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider $ Transport.query ( ContentProvider.java:200 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProviderNative.onTransact ( ContentProviderNative.java:112 ) E/DatabaseUtils ( 989 ) : at android.os.Binder.execTransact ( Binder.java:404 ) E/DatabaseUtils ( 989 ) : at dalvik.system.NativeStart.run ( Native Method ) W/MmsCommunication ( 13159 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . W/MmsCommunication
[ KitKat ] Attempt to retreive MMS causes TextSecure to crash __EoT__ If you open a thread containing an MMS that is yet to be retrieved from the carrier ( T-Mobile USA , in my case ) , TextSecure crashes . Stack trace using Nexus 5 on KitKat : `` ` E/DatabaseUtils ( 989 ) : Writing exception to parcel E/DatabaseUtils ( 989 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforce ( ContextImpl.java:1685 ) E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforceCallingOrSelfPermission ( ContextImpl.java:1714 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.checkPermission ( TelephonyProvider.java:735 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.query ( TelephonyProvider.java:462 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider.query ( ContentProvider.java:855 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider $ Transport.query ( ContentProvider.java:200 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProviderNative.onTransact ( ContentProviderNative.java:112 ) E/DatabaseUtils ( 989 ) : at android.os.Binder.execTransact ( Binder.java:404 ) E/DatabaseUtils ( 989 ) : at dalvik.system.NativeStart.run ( Native Method ) W/MmsCommunication ( 13159 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . W/MmsCommunication
[ KitKat ] Attempt to retreive MMS causes TextSecure to crash __EoT__ If you open a thread containing an MMS that is yet to be retrieved from the carrier ( T-Mobile USA , in my case ) , TextSecure crashes . Stack trace using Nexus 5 on KitKat : `` ` E/DatabaseUtils ( 989 ) : Writing exception to parcel E/DatabaseUtils ( 989 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforce ( ContextImpl.java:1685 ) E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforceCallingOrSelfPermission ( ContextImpl.java:1714 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.checkPermission ( TelephonyProvider.java:735 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.query ( TelephonyProvider.java:462 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider.query ( ContentProvider.java:855 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider $ Transport.query ( ContentProvider.java:200 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProviderNative.onTransact ( ContentProviderNative.java:112 ) E/DatabaseUtils ( 989 ) : at android.os.Binder.execTransact ( Binder.java:404 ) E/DatabaseUtils ( 989 ) : at dalvik.system.NativeStart.run ( Native Method ) W/MmsCommunication ( 13159 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . W/MmsCommunication
swipe to delete messages __EoT__ Need a feature to delete messages by swiping
Donate button image not loading __EoT__ In README.md appears donate button is broken .
[ Feature Request ] Add ability to directly pull internal storage files to signal database . __EoT__ For additional security of private content on storage , I think it would be great to have an option to directly pull internal storage contents to signal database .
disappearing messages does not cover call logs __EoT__ I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The awesome `` disappearing messages '' feature does not cover call notifications ( ` MessageRecord_called_s ` and ` MessageRecord_s_called_you ` ) . IMHO they should disappear the same way other messages do . For one , these kinds of metadata records can be sensitive information , too . And from a user perspective , `` messages '' should cover *all* message types . # # # Steps to reproduce - set `` disappearing messages '' to any value - make or receive call - wait until time for disappearing messages has passed **Actual result : ** call notification does not disappear **Expected result : ** call notification disappears # # # Device info **Device : ** any **Android version : ** 7.1.2 **Signal version : ** 4.8.1
Notifications showing old signal icon __EoT__ I 've noticed that for a couple versions now , the signal notification icon is showing the old one with a hole in the top of the circle . Verizon Note 5 , Stock 5.1.1 , dark theme .
Changing Phone Number does n't work __EoT__ A friend and I try to chat via TextSecure . I am located in Germany , he is located in England . Because he is from Germany originally , he still had my German number without the international prefix in his phone book . Now , when I wrote him , he could not answer me . Then , he changed my phone number in his address book to include the international prefix and he hit `` Update Directory '' . Still , we can not chat since TextSecure tries to use the number without the prefix . I think two things are amiss here : First , when I send him a message , TextSecure should be able to answer regardless of the number he has in his phone book . I.e. , TextSecure should see that the message came from a phone number +49 ... and answer to that number ( potentially telling him that this is not the number associated with my contact , i.e . someone could be trying to spoof him ) . Second , of course TextSecure should notice the change in telephone numbers and update the
different notification settings for group chats __EoT__ It would be very nice to be able to change the notification settings for goups independently from other ( personal ) chats , as group chats might have a lower priority for the user .
different notification settings for group chats __EoT__ It would be very nice to be able to change the notification settings for goups independently from other ( personal ) chats , as group chats might have a lower priority for the user .
different notification settings for group chats __EoT__ It would be very nice to be able to change the notification settings for goups independently from other ( personal ) chats , as group chats might have a lower priority for the user .
different notification settings for group chats __EoT__ It would be very nice to be able to change the notification settings for goups independently from other ( personal ) chats , as group chats might have a lower priority for the user .
`` Archived '' and outgoing picture bug in conversation list __EoT__ Signal 3.6.0 . Screen is about 4.3 '' . 1 . I have a conversation where the last two messages are outgoing pictures ; 2 . I archived it ; 3 . When I go to the archived conversations , the label `` archived '' covers a small part of the picture 's preview .
Ca n't resend message despite being notified the message could n't be delivered __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description SOmetimes after sending a group message I get messages undelivered , even though they do n't show the resend capability . Not really sure if it 's a sending error or just lack of processing received messages . # # # Steps to reproduce -Send message to group . **Actual result : ** Message says is was n't delivered , but I ca n't resend message **Expected result : ** can resend undelivered message . # # # Screenshots ! [ 20170904_170504 ] ( https : //user-images.githubusercontent.com/4967949/30039886-66495636-9194-11e7-9c53-a66b9cff81a5.png ) # # # Device info **Device : ** Samsung galaxy s8 stock rom **Android version : ** 7.0 **Signal version : ** 4.9.9 # # # Link to debug log https : //gist.github.com/537972abcf37d7ed356eeaa41cbd65f0
better highlight conversations with failed messages __EoT__ When sending a message fails , the current behaviour is that you get a notification about the failure . I think it would be better to also display something like a red triangle in the conversations list , mostly because : -you may swipe the notification without taking care of resending the message right away -several messages may fail to send if you temporarily lose your connection , and clicking every notification seems cumbersome to me -it would just make sense for the sake of clarity And maybe move the failed messages to the top of the conversations list ( ? ) Thank you
emoji keyboard consumes all space on rotate from portrait to landscape __EoT__ tested on 4c89b242be51afee7e28861912c9e0a2b7e62ebd on my N5 1 ) have device in portrait 2 ) open a conversation 3 ) click on the message composition edit text 4 ) open the emoji keyboard 5 ) rotate device to landscape 6 ) emoji errewhere ! [ emoji ! ] ( http : //i.imgur.com/zLAAufs.png )
Long-pressing the search icon does n't display icon description __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues . It is not for questions , comments , or feature requests . If you would like to discuss a new feature or submit suggestions , please visit the community forum : https : //community.signalusers.org If you are looking for support , please visit our support center : https : //support.signal.org/ or email support @ signal.org Let 's begin with a checklist : Replace the empty checkboxes [ ] below with checked ones [ x ] accordingly . -- > - [ x ] I have searched open and closed issues for duplicates - [ x ] I am submitting a bug report for existing functionality that does not work as intended - [ x
Adaptive icons do not work . __EoT__ Tested on a Pixel XL with Android 8.1 https : //github.com/signalapp/Signal-Android/issues/6511 should be reopened .
Add trust level indicator to conversation screen __EoT__ In # 766 @ lindworm suggested adding display of trust level with the other party to the conversation screen . This requires a separate issue from the aforementioned ticket . There were different suggestions as to how this should be done . - @ lindworm suggested coloring the lock icon in the top bar ( green = manually verified , black/yellow = unverified/automatic key exchange/ , red = unencrypted ) . - I suggested overlaying the other party 's avatar with an icon instead . Icon indicates they 're a manually verified contact . No icons means they 're not . Specifically I also suggested not mixing the information of whether a conversation is encrypted or not with the information of how well the other party is trusted , into one icon . Least not by color . There are color vision impaired users and this information , if displayed at all , needs to be unambiguous .
Links wo n't open in new tabs __EoT__ Since version 3.7.2 , it is impossible to open multiple links from a conversation in separate browser tabs , as every link will be opened in the same tab and so , overwrite the previously opened link . I am using Firefox for Android . It does not seem to be a Firefox bug , as with other apps the browser behaves as expected ( it is opening a new tab for every link )
Sending mssages to this specific contact almost always crashes textsecure __EoT__ I have a conversation with this friend of mine that recently has been causing a lot of problems . ( This happened on 2.24 too , so it should n't be 2.25-related ) So basically : 1 . I type a message 2 . Hit send 3 . Wait ... 4 . Sometimes the message bubble appears , sometimes it crashes before it does 5 . I reopen ts , unlock it , go to the conversation and the message bubble is there . The message is also correctly marked as send and delivered debug log : https : //gist.github.com/a3061a1f4b7edfcfdcab
Signal crashes during loading after update 3.29.6 __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : https : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description Signal 3.29.6 3.30.1-4 3.31.4 closes after starting on Asus_T00Q ( x86 ) ( Could n't load **jingle_peerconnection_so** error
Feature Request : Different notifications for groupmsg and PM __EoT__ I would like to set different notifications for group and direkt messages . When I get a direct message I like a rather intrusive notification while I do n't want group messages to play the same ringtone all the time ( example : threema ) . If you are bothered with the additional settings for this , please at least consider an option to only allow the first new message to spawn a notification and suppress the rest ( for 1h ? ) .
Network connection seems to get stuck ( without Google services ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : https : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description First of all , I apologize if this is the same issue as #
improve 'send encrypted ' icon __EoT__ The icon for indicating to the user that the message is going to be sent encrypted is the paper plane with a green lock icon overlaid . The lock is rotated 90deg . Two issues : - Encrypted messages are colored blue , not green . The overlaid lock icon should be blue , if any color . - The icon is rotated 90deg . The lock has rounded corners and and the arch of the lock is much smaller . All other lock icons used throughout TS do not have rounded corners and have a larger arch to be better recognizable . Accordingly , the lock on the paper plane should be a scaled version of ` ic_menu_lock_ ... png ` at the resp . size and same orientation .
Attachments are flickering when sending a message __EoT__ Attachments thumbnails ( picture , video and audio ) in the ConversationActivity are flickering ~4 times if you send a new textmessage ( or another attachment ) after # 2430 I guess you are already aware of that , but I thought I open this for completeness ...
contact name does n't update after adding contact __EoT__ it requires that you manually exit the conversion and reenter
Avatar in conversation view should be tappable __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description I want to tap the conversation header to open the new conversation settings screen which also shows the enlarged avatar . I can tap the contact / group name , but not the avatar itself , which is unexpected . # # # Steps to reproduce - open a conversation - tap the avatar in the conversation header **Actual result : ** Nothings happens . **Expected result : ** Should open the conversation settings screen . Also note that in the old conversation screen one could tap the avatar on the left of each message bubble ( which has been removed ) to see that users full contacts info to e.g . start a normal ( non-Signal ) phone call . This quick access option is not available anymore anywhere . # # # Device info **Android version : ** 5.1.1 & AVD 7.1.1 **Signal
This one weird trick , the devs do n't want you to know , crashes recipients ' TS __EoT__ ( Could n't resist with the title : ( · ) There seems to be no size checking on group name . 1 . Update a group 's name with _A Modest Proposal_ by _Jonathan Swift_ ( Try the _Plain Text UTF-8_ option from [ Project Gutenberg ] ( https : //www.gutenberg.org/ebooks/1080 ) . Direct links do n't work . ) 2 . After tapping the checkmark to broadcast the update **the other group members ' TS will crash** If you strip the Gutenberg metadata ( introduction , license etc . ) and just paste the actual text it wo n't crash . So the sweet spot is somewhere between 20-40KB . In any case it 's still a big wall of text that should n't be . ! [ a modest proposal-jonathan swift ] ( https : //cloud.githubusercontent.com/assets/174176/8141636/b5a2ce1e-1172-11e5-8f6a-1e2e6ae356c1.png ) - TS 2.17.0 - Nexus 4 , stock Android 5.1.1 - Huawei U8800 , Android 4.0.4 Debug log : https : //gist.github.com/152ae1566c6c3d245ab0 `` ` E/AndroidRuntime ( 4560 ) : FATAL EXCEPTION : Thread-530 E/AndroidRuntime ( 4560 ) : Process : org.thoughtcrime.securesms
Can ’ t send SMS to phone numbers with brackets after upgrade to 3.3+ __EoT__ Messages ( SMS , not MMS , not data ) appear to be sent successfully in the UI but are never received by the contact after upgrading to any version later than 3.1.1 . Messages from other contacts are still received , only sending is broken . Manually downgrading to 3.1.1 apk restores SMS sending functionality . Other SMS apps continue to work . Latest 3.6.1 release from Play Store is still broken . Disabling Signal messages in Advanced prefs does not fix the problem . Uninstalling and reinstalling does not fix the problem . Device info : Samsung Galaxy S5 Dev Ed , stock Android 4.4.4 , Signal 3.6.1 App state : Push registered , SMS Enabled , SMS deliver disabled , Wi-Fi Calling compatibility disabled ( phone is not Wi-Fi Calling enabled ) , MMS Default settings , Media auto-download disabled Log , starting Signal & sending SMS : https : //gist.github.com/csnover/dd39624d381160536798 This may be related to the shortcode sending problem reported around the same time but I am _not_ sending to shortcode contacts , these are full 10-digit ( US ) numbers
ActionBar Icons change to dark color in dark theme __EoT__ As reported in https : //github.com/WhisperSystems/TextSecure/pull/1635 # issuecomment-62222759 the back arrow and the triple dot menu button switch to dark on the dark theme , when returning from a new activity ( ? ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961044/2a3eaa1c-66ca-11e4-8e40-6a4f95cc5590.png ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961092/a516b5ae-66ca-11e4-94d7-bbbb78662c70.png ) This seem to happen only when you come back from an unthemed activity like - Configure MMS settings ( pops up , when you want to attach something on an non TS registered device without MMS settings ) - Change passphrase ( enable local encryption in settings ) but not if you press `` Skip '' in the TS registration activity opened from the green reminder ? ! To verify my assumption I added DynamicTheme to PassphraseChangeActivity which seemed to helped . ( I am aware that this activity is not fully themed yet . In fact I 'm working on applying dynamic themeing were it 's missing ... ) **EDIT** coming back from submit debug also recolors the icons and yes , latest HEAD : )
ActionBar Icons change to dark color in dark theme __EoT__ As reported in https : //github.com/WhisperSystems/TextSecure/pull/1635 # issuecomment-62222759 the back arrow and the triple dot menu button switch to dark on the dark theme , when returning from a new activity ( ? ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961044/2a3eaa1c-66ca-11e4-8e40-6a4f95cc5590.png ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961092/a516b5ae-66ca-11e4-94d7-bbbb78662c70.png ) This seem to happen only when you come back from an unthemed activity like - Configure MMS settings ( pops up , when you want to attach something on an non TS registered device without MMS settings ) - Change passphrase ( enable local encryption in settings ) but not if you press `` Skip '' in the TS registration activity opened from the green reminder ? ! To verify my assumption I added DynamicTheme to PassphraseChangeActivity which seemed to helped . ( I am aware that this activity is not fully themed yet . In fact I 'm working on applying dynamic themeing were it 's missing ... ) **EDIT** coming back from submit debug also recolors the icons and yes , latest HEAD : )
ActionBar Icons change to dark color in dark theme __EoT__ As reported in https : //github.com/WhisperSystems/TextSecure/pull/1635 # issuecomment-62222759 the back arrow and the triple dot menu button switch to dark on the dark theme , when returning from a new activity ( ? ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961044/2a3eaa1c-66ca-11e4-8e40-6a4f95cc5590.png ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961092/a516b5ae-66ca-11e4-94d7-bbbb78662c70.png ) This seem to happen only when you come back from an unthemed activity like - Configure MMS settings ( pops up , when you want to attach something on an non TS registered device without MMS settings ) - Change passphrase ( enable local encryption in settings ) but not if you press `` Skip '' in the TS registration activity opened from the green reminder ? ! To verify my assumption I added DynamicTheme to PassphraseChangeActivity which seemed to helped . ( I am aware that this activity is not fully themed yet . In fact I 'm working on applying dynamic themeing were it 's missing ... ) **EDIT** coming back from submit debug also recolors the icons and yes , latest HEAD : )
ActionBar Icons change to dark color in dark theme __EoT__ As reported in https : //github.com/WhisperSystems/TextSecure/pull/1635 # issuecomment-62222759 the back arrow and the triple dot menu button switch to dark on the dark theme , when returning from a new activity ( ? ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961044/2a3eaa1c-66ca-11e4-8e40-6a4f95cc5590.png ) ! [ unbenannt ] ( https : //cloud.githubusercontent.com/assets/5326916/4961092/a516b5ae-66ca-11e4-94d7-bbbb78662c70.png ) This seem to happen only when you come back from an unthemed activity like - Configure MMS settings ( pops up , when you want to attach something on an non TS registered device without MMS settings ) - Change passphrase ( enable local encryption in settings ) but not if you press `` Skip '' in the TS registration activity opened from the green reminder ? ! To verify my assumption I added DynamicTheme to PassphraseChangeActivity which seemed to helped . ( I am aware that this activity is not fully themed yet . In fact I 'm working on applying dynamic themeing were it 's missing ... ) **EDIT** coming back from submit debug also recolors the icons and yes , latest HEAD : )
Alternative model to visualize security in TS __EoT__ # # # I . Introduction Currently near consensus has been reached in these issues about implementing a visual security model in TS : # 910 , # 945 , # 766 and # 741 . In my oppinion this model has some problems which I 'd like discuss here and propose a different model . I created this issue because right now there is no chance to change the course of the discussion in the mentioned issues . So I chose to not interfere any further , let the participants improve their model and work on an alternative model separately . # # # II . Criticism of the proposed model This is the visual model as proposed in the aforementioned issues . # # # # # Contact list I had to make this up myself based on # 741 . And yes , this has been done with MS Paint : ! [ contact-list-with locks1 ] ( https : //f.cloud.github.com/assets/6848629/2428418/bb727eb2-ac46-11e3-9d88-e84acd5fbac4.png ) # # # # # Messaging window ! [ 4 ] ( https : //f.cloud.github.com/assets/6848629/2428409/7e1cc54a-ac46-11e3-9430-5338739b0c08.jpg ) ! [ 3 ] ( https : //f.cloud.github.com/assets/6848629/2428410/7e247664-ac46-11e3-8fe7-449465b7b6f5.jpg ) ! [ 2
Back button on conversation thread does not clear the stack __EoT__ After the most recent update , I noticed a change in behavior with the back button . Before , hitting the back button while in a conversation thread would always return me back to the message list view . Now , hitting back will often send me to other conversation threads , often times it will send me to the SAME conversation thread I just hit back on . I believe this happens when I view messages via the status bar notification . Example : I am talking to somebody in a conversation thread then hit home . The same person messages me again , and I select the message from the status bar to view it . Then I hit back - it will take me to the exact same conversation I was just on . Then I have to hit back again to get to the message list view . When talking to many people at once this gets quite annoying . The back button on a conversation should always return to the message list ! Thank you guys for the fantastic software .
Crash in contact selection view __EoT__ Tapped on FAB in conversation list screen and signal crashed . https : //gist.github.com/dddac80d2dd2670a2294
add + to blank avatar to clarify that you can add to contacts __EoT__ After setting up a couple of people with TextSecure , we were all stumped that TextSecure did not have a way to add a new phone number to a Contact . We tried everything we can think of and no luck . So I decided to file a bug report , and found # 822 then explored a bit more , and found that you can add an unknown number as a contact by clicking the blank avatar icon . This was not intuitive but I think it can be greatly improved by a simple fix : add a + to the blank avatar icon if clicking it will trigger the `` add to contacts '' sequence .
Dates have wrong locale in 'Manage linked devices ' __EoT__ 3.6.0 # # # System language : Korean , Signal language : Default ! [ screenshot_2015-11-28-17-21-20 ] ( https : //cloud.githubusercontent.com/assets/174176/11453026/c0f20e22-9603-11e5-8f29-79923478a03a.png ) -- - # # # System language : English ( US ) , Signal language : Korean ! [ screenshot_2015-11-28-17-22-35 ] ( https : //cloud.githubusercontent.com/assets/174176/11453027/c55f47c2-9603-11e5-809a-1667bcf504ab.png ) ( oh yeah , the title^ has some localization issues too ... it 's translated but does not change immediately after Signal language change )
Feature Request : Notification options per contact __EoT__ I know this is a bit above and beyond the typical SMS functionality , and I totally understand if this gets dropped to the bottom of the list , but I do find I often need to find out about some SMSs far more urgently than others -- in my case , I have a critical server that tells me when it 's down : I 'd like that one to scream loudly at me even if I 'm sleeping deeply . Some unknown number texting me about a dream vacation that I have won I am quite happy to sleep thru . : ) Awesome work regardless , team ! R
Stack traces no longer contain line number information __EoT__ eg . `` ` java.lang.NullPointerException at java.lang.String. < init > ( String.java:141 ) at org.thoughtcrime.securesms.jobs.MmsDownloadJob.onRun ( Unknown Source ) at org.thoughtcrime.securesms.jobs.MasterSecretJob.onRun ( Unknown Source ) at org.whispersystems.jobqueue.JobConsumer.runJob ( Unknown Source ) at org.whispersystems.jobqueue.JobConsumer.run ( Unknown Source ) `` `
The new password screen in incorrect __EoT__ - [ x ] I have searched open and closed issues for duplicates - [ x ] I am submitting a bug report for existing functionality that does not work as intended - [ x ] I have read https : //github.com/signalapp/Signal-Android/wiki/Submitting-useful-bug-reports - [ x ] This is n't a feature request or a discussion topic -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description I use a password to unlock Signal and I did n't change it since the default functinality was changed to use the standard Android unlock mechanism ( code , pattern or biometry ) . This still works but since 4.25.0 Signal seems to assume that `` unlock '' means `` fingerprint scanner '' . I do n't even have a fingerprint scanner on this device and if I had I would not use it for security reasons . # # # Screenshots ! [ signal_20180814-164233 ] ( https : //user-images.githubusercontent.com/8427572/44098973-15ef0414-9fd1-11e8-984c-291a31a7cc1c.jpg ) # # # Device info < ! -- replace the examples with your info -- > **Device : ** Sony Z3
Feature request : A way to store incoming pictures in bulk __EoT__ Some of my contacts use Signal to send me pictures of their lives . i want to store them permanently rather than in Signal . Currently I have to tap each picture individually , then the save button , then answer a question , the tap back , rinse and repeat . I would like to propose a more efficient way for this scenario . Different options could be considered : a ) extend the `` all images '' view to allow selecting and storing all pictures at once . b ) an option to automatically store all incoming pictures in a folder on the sd-card . I 'm sure other options might be perceivable . Thanks for your consideration .
Inconsistency : When watching a video and pressing the gallery button , the video is not in the list of `` all pictures '' __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description Thanks
Sprint Bad encrypted MMS message __EoT__ Hello , I know there was an issue in the past with an extra digit while decrypting but I 'm not sure if that is whats going on . Any help would be appreciated . Both phones are on version 0.9.9.8 One phone has : Android 4.2.2 CM 10.1.2 Kernal 3.4.45 OpenPDroid framework additions The other phone has : Android 4.1.2 ( I think ) Stock rooted Sending log via Catlog 07-30 13:39:44.506 D/dalvikvm ( 9902 ) : Added shared lib libnativehelper.so 0x0 07-30 13:39:44.646 D/AndroidRuntime ( 9902 ) : Calling main entry com.android.commands.am.Am 07-30 13:39:44.646 D/dalvikvm ( 9902 ) : Note : class Landroid/app/ActivityManagerNative ; has 157 unimplemented ( abstract ) methods 07-30 13:39:44.666 I/System.out ( 9026 ) : tainted command part 0 : su 07-30 13:39:44.666 I/System.out ( 9026 ) : Now test tainted command : su 07-30 13:39:44.666 D/AndroidRuntime ( 9902 ) : Shutting down VM 07-30 13:39:44.676 D/dalvikvm ( 9902 ) : GC_CONCURRENT freed 93K , 16 % free 509K/604K , paused 0ms+0ms , total 4ms 07-30 13:39:44.736 D/dalvikvm ( 9026 ) : GC_CONCURRENT freed 1452K , 48 % free 5593K/10688K , paused 3ms+9ms , total 49ms 07-30 13:39:44.806 I/System.out
Unarchive button uses archive button 's title string __EoT__ The unarchive button in the Conversations Archive batch select menu uses the same title as the Conversation List 's archive button : `` Archive selected '' . This is visible on long-press of the button : ! [ unarchive-button-before ] ( https : //cloud.githubusercontent.com/assets/11031903/11451719/41b4bfa0-9613-11e5-95e3-274176a1cbfc.png )
Check permissions on xiaomi device with a version below api 23 __EoT__ As you know , Xiaomi devices have their own system of permissions . I 'm testing my application on the device xiaomi redmi 3 , api 22 , android 5.1.1 . I want to check if there is permission to access the camera and audio . ` boolean b = hasSelfPermissionForXiaomi ( getActivity ( ) , '' android.permission.CAMERA '' ) ; } ` ` private boolean hasSelfPermissionForXiaomi ( Context context , String permission ) { String permissionTop = AppOpsManagerCompat.permissionToOp ( permission ) ; if ( permissionTop == null ) { // not dangerous return true ; } int noteOp = AppOpsManagerCompat.noteOp ( context , permissionTop , Process.myUid ( ) , context.getPackageName ( ) ) ; return noteOp == AppOpsManagerCompat.MODE_ALLOWED & & checkSelfPermission ( context , permission ) == PackageManager.PERMISSION_GRANTED ; } ` b = true , although this is not true .
Test code refactoring __EoT__ Our test code has gotten massive and it 's so hard to maintain . So , we should separate expected String arrays to each Java file .
Lint complains for CallNeedsPermission over a method in fragment which exists in activity with same name . __EoT__ I am facing this ` Error : Trying to access permission-protected method directly [ CallNeedsPermission ] ` The lint complains this error and my build is failing due to this . The error is reported in a Fragment which does not require any special permission and is not annotated with ` @ RuntimePermissions. ` This rule complains for a method in following scenario 1 . Another method with same name in the Activity where this fragment is attached . 2 . The method in the activity is annotated with ` @ NeedsPermission ` As you see in following code snippet , I am delegating the requestOTP ( ) function to fragment 's requestOTP ( ) method . `` ` @ RuntimePermissions public class SetupActivity extends AppCompatActivity { // Some other code @ Override public void onPhoneNumberInput ( @ NonNull String phone ) { phoneNumber = phone ; SetupActivityPermissionsDispatcher.requestOTPWithPermissionCheck ( this ) ; } @ NeedsPermission ( { Manifest.permission.READ_SMS , Manifest.permission.RECEIVE_SMS } ) void requestOTP ( ) { ( ( PhoneVerificationInputFragment ) mFragment ) .requestOTP ( ) ; } // Some other code
0.203 release notes __EoT__ # # Andrii Rosa - [ x ] all checked - 05-23 08:51:45 c10376c7a2 Run different hive tests in separate travis branches - 05-23 08:51:45 c346768372 Fix failing test in TestHiveClient - 05-23 08:51:45 e03fba400b Rename test methods in AbstractTestHiveClient - 05-23 12:37:31 71f7ef57d2 Run presto-main tests as a separate Travis job - 05-29 07:00:01 32c3020004 Return empty list instead of null from the getPartitionedBy - 05-29 07:00:01 4a4fbb4a37 Refactor HiveMetastore statistics related interfaces - 05-29 07:00:01 5b9cdd9bdf Refactor enforceLayoutProcessor - 05-29 07:00:01 6efaa261a6 Fix parameter names related to getting partition statistics from Hive - 05-29 07:00:01 7b8e89b316 Check partitioned_by and bucketed_by before getting the layout - 05-29 07:00:01 a49a78de21 Remove generics from HiveColumnStatistics - 05-29 07:00:01 f3978ed0f9 Do not store NDV for Boolean in HiveColumnStatistics # # Dain Sundstrom - [ x ] all checked - 05-24 10:59:35 2da712aaef Fix IntelliJ warnings in SqlQueryScheduler - 05-24 15:58:35 40083af07a Move query submission to background thread - 05-24 15:58:35 89adfb2e06 Move QueryId creation into explicit separate step - 05-24 15:58:36 568449b8d0 Delay query submission until first data get call - 05-24 18:25:13 34cea981c7 Delegate output operator blocking to output buffer - 05-24 19:46:14 93b2be6825 Upgrade to Airlift
Investigate if Hive connector should add stats properties __EoT__ Partitions ( or unpartitioned tables ) written by Hive seem to have the following properties ( tested with Hive 1.2.1 ) : * ` COLUMN_STATS_ACCURATE ` = ` true ` * ` numFiles ` * ` numRows ` * ` rawDataSize ` * ` totalSize ` This looks like a good starting point : https : //github.com/apache/hive/blob/master/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/StatsSetupConst.java
Investigate if Hive connector should add stats properties __EoT__ Partitions ( or unpartitioned tables ) written by Hive seem to have the following properties ( tested with Hive 1.2.1 ) : * ` COLUMN_STATS_ACCURATE ` = ` true ` * ` numFiles ` * ` numRows ` * ` rawDataSize ` * ` totalSize ` This looks like a good starting point : https : //github.com/apache/hive/blob/master/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/StatsSetupConst.java
Add support for CAST ( ... AS VARCHAR ( x ) ) __EoT__
Join with multiple IN-subquery clauses fails __EoT__ I believe this is due to the fact that ` analysis.addJoinInPredicates ` is called in a loop in ` StatementAnalyzer ` . This is almost certainly wrong , as it does a ` put ` into an identity map , ignoring any previous value `` ` select * from ( values 1 ) t ( x ) join ( values 1 ) t2 ( y ) on ( x in ( values 1 ) ) = ( y in ( values 1 ) ) and ( x in ( values 2 ) ) = ( y in ( values 2 ) ) ; `` ` Fails with : `` ` Query 20151230_004032_00259_cku6f failed : com.facebook.presto.sql.tree.Query can not be cast to com.facebook.presto.sql.tree.Expression java.lang.ClassCastException : com.facebook.presto.sql.tree.Query can not be cast to com.facebook.presto.sql.tree.Expression at com.facebook.presto.sql.planner.SubExpressionExtractor $ 1.process ( SubExpressionExtractor.java:65 ) at com.facebook.presto.sql.planner.SubExpressionExtractor $ 1.process ( SubExpressionExtractor.java:61 ) at com.facebook.presto.sql.tree.DefaultTraversalVisitor.visitSubqueryExpression ( DefaultTraversalVisitor.java:319 ) at com.facebook.presto.sql.tree.SubqueryExpression.accept ( SubqueryExpression.java:47 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.planner.SubExpressionExtractor $ 1.process ( SubExpressionExtractor.java:68 ) at com.facebook.presto.sql.planner.SubExpressionExtractor $ 1.process ( SubExpressionExtractor.java:61 ) at com.facebook.presto.sql.tree.DefaultTraversalVisitor.visitInPredicate ( DefaultTraversalVisitor.java:149 ) at com.facebook.presto.sql.tree.InPredicate.accept ( InPredicate.java:54 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.planner.SubExpressionExtractor $ 1.process (
Release notes for 0.212 __EoT__ # # Andrii Rosa - [ x ] all checked - 09-17 14:45:21 15acda5262 Use release version of hadoop-apache2 - 09-19 16:28:31 04920e5412 Remove RangeColumnStatistics - 09-19 16:28:31 31ce36963e Add TableStatistics # empty ( ) method - 09-19 16:28:31 351a61fae2 Refactor Estimate - 09-19 16:28:32 1344eb92a7 Normalize distinct values count - 09-19 16:28:32 1ff1e28f2a Extract parsePartition in PartitionManager - 09-19 16:28:32 5b9a58fc62 Remove MIN/MAX statistics support for TIMESTAMP in Hive Connector - 09-19 16:28:32 5f5e6629d3 Refactor MetastoreHiveStatisticsProvider - 09-19 16:28:32 652112e7fc Ignore corrupted statistics when altering partition - 09-19 16:28:32 845a0d8a36 Print column statistics in deterministic manner - 09-19 16:28:32 9229cda964 Remove validation from HiveBasicStatistics - 09-19 16:28:32 aed92f8e17 Refactor TableStatistics - 09-19 16:28:32 b3827bfb7f Fix incorrect partitions sample size - 09-19 16:28:32 ea3a81417b Represent min and max statistics in SPI as double - 09-19 16:28:32 f847336c88 Make getPartitionsSample deterministic - 09-19 16:38:41 e10912726d Fix flaky testComplexStateEstimatedSize test - 09-21 08:27:48 4075a5c93b Fix JoinStatsRule crash when missing column statistics # # Dain Sundstrom - [ x ] all checked - 09-18 10:34:23 002c40264e Replace most uses of QueryInfo with BasicQueryInfo - 09-18 10:34:23 021c7855f7 Use event listeners to create final query info - 09-18 10:34:23
Add syntax for ROW type __EoT__
OperatorContext is not ThreadSafe __EoT__ Contrary to the misleading ` @ ThreadSafe ` annotation and usage of ` AtomicLong ` everywhere in it ` OperatorContext ` is not ThreadSafe . I have stumbled on it while implementing some things related to spilling https : //github.com/prestodb/presto/pull/5142 and revocable memory https : //github.com/prestodb/presto/pull/5711 There is at least problem with ` setMemoryReservation ` , ` trySetMemoryReservation ` methods and ` transferMemoryToTaskContext ` : `` ` private final AtomicLong memoryReservation = new AtomicLong ( ) ; ( ... ) public void setMemoryReservation ( long newMemoryReservation ) { checkArgument ( newMemoryReservation > = 0 , `` newMemoryReservation is negative '' ) ; long delta = newMemoryReservation - memoryReservation.get ( ) ; if ( delta > 0 ) { reserveMemory ( delta ) ; } else { freeMemory ( -delta ) ; } } `` ` Example scenario . ` memoryReservation ` equals to ` 10 ` . 1. caller A initiate ` setMemoryReservation ( 3 ) ` . 2 . A thread calculates ` delta = -7 ` and hangs . 3. caller B changes memory reservation by calling ` setMemoryReservation ( 3 ) ` which finishes before A thread resumes work . This give
OperatorContext is not ThreadSafe __EoT__ Contrary to the misleading ` @ ThreadSafe ` annotation and usage of ` AtomicLong ` everywhere in it ` OperatorContext ` is not ThreadSafe . I have stumbled on it while implementing some things related to spilling https : //github.com/prestodb/presto/pull/5142 and revocable memory https : //github.com/prestodb/presto/pull/5711 There is at least problem with ` setMemoryReservation ` , ` trySetMemoryReservation ` methods and ` transferMemoryToTaskContext ` : `` ` private final AtomicLong memoryReservation = new AtomicLong ( ) ; ( ... ) public void setMemoryReservation ( long newMemoryReservation ) { checkArgument ( newMemoryReservation > = 0 , `` newMemoryReservation is negative '' ) ; long delta = newMemoryReservation - memoryReservation.get ( ) ; if ( delta > 0 ) { reserveMemory ( delta ) ; } else { freeMemory ( -delta ) ; } } `` ` Example scenario . ` memoryReservation ` equals to ` 10 ` . 1. caller A initiate ` setMemoryReservation ( 3 ) ` . 2 . A thread calculates ` delta = -7 ` and hangs . 3. caller B changes memory reservation by calling ` setMemoryReservation ( 3 ) ` which finishes before A thread resumes work . This give
Release notes for 0.206 __EoT__ Issue to track release notes for next release .
Release notes for 0.206 __EoT__ Issue to track release notes for next release .
Use direct switch for small IN lists of small primitives __EoT__ If all of the constants fit in an ` int ` ( less than ` 2^32 ` ) , we can switch on the values directly , rather than on the hash code . This removes both the hash computation of the lookup value and the extra comparison when the hash matches . https : //github.com/facebook/presto/blob/master/presto-main/src/main/java/com/facebook/presto/sql/gen/InCodeGenerator.java # L102
Presto is not able to connect to hive metastore when hadoop.rpc.protection=privacy __EoT__ If hadoop.rpc.proctecion=privacy then presto fails to connect to hive metastore `` ` < property > < name > hadoop.rpc.protection < /name > < value > privacy < /value > < /property > `` ` The error message is ` Could not connect to meta store using any of the URIs provided . M ost recent failure : org.apache.thrift.transport.TTransportException : No common protection layer between client and server ` It is possible to patch presto code in order to fix this : In KerberosHiveMetastoreAuthentication.java file the line `` ` Sasl.QOP , `` auth '' , `` ` should be replaced with `` ` Sasl.QOP , `` auth-conf '' , `` ` The standard hive mestastore client works out of the box when core-site.xml and hive-site.xml are added to HiveConf as resources .
Optimise StageStateMachine for memory __EoT__ `` ` SqlQueryScheduler | SqlStageExecution| StageStateMachine : :getStageInfo `` ` are frequently executed codepaths in presto . There are couple of places where ImmutableList is called on top of immutable lists creating additional objects . Intention is to reduce the memory usage as size of tasks , operatorStats can be high in busy clusters .
Improve memory performance for MAP_UNION and MAP_AGG __EoT__ When most aggregation keys are different , we have found in some cases ` MAP_UNION ` can take up to 4x memory compared with ` ARRAY_AGG ` . One potential reason could be ` TypedSet ` is not quite memory efficient . A microbenchmark : - Create the dataset : `` ` CREATE TABLE test_id_and_map AS SELECT id , MAP ( ARRAY [ 1 ] , ARRAY [ id ] ) as m FROM ( select sequence ( 1 , 10000000 ) AS seq ) tmp CROSS JOIN UNNEST ( seq ) AS t ( id ) `` ` - The queries : `` ` CREATE TABLE test_map_union AS SELECT id , MAP_UNION ( m ) AS m_agg FROM test_id_and_map GROUP BY id `` ` vs. `` ` CREATE TABLE test_array_agg AS SELECT id , ARRAY_AGG ( m ) AS m_agg FROM test_id_and_map GROUP BY id `` ` The peak memories for this case are 7.07G and 2.38G , respectively .
Invalid initial plan for EXISTS subquery __EoT__ This query : `` ` sql SELECT orderkey FROM orders WHERE EXISTS ( SELECT orderkey FROM lineitem ) `` ` produces an initial plan with the following shape . Note that the expression in the Apply node contains a full subquery , which is invalid . `` ` - Output [ orderkey ] = > [ expr_9 : bigint ] orderkey : = expr_9 - Project = > [ expr_9 : bigint ] expr_9 : = `` expr_8 '' - Project = > [ expr_8 : bigint ] expr_8 : = `` orderkey_7 '' - Project = > [ orderkey_7 : bigint ] orderkey_7 : = `` orderkey_6 '' - Project = > [ orderkey_6 : bigint ] orderkey_6 : = `` orderkey '' - Filter [ `` exists '' ] = > [ orderkey : bigint , custkey : bigint , orderstatus : varchar ( 1 ) , totalprice : double , orderdate : date , orderpriority : varchar ( 15 ) , clerk : varchar ( 15 ) , shippriority : integer , comment : varchar ( 79 ) , row_number : bigint , exists : boolean ] - Apply [
Release notes for 0.204 __EoT__ Issue to track release notes for next release
PREPARE statement query failing with 500 error __EoT__ I am trying to run a prepared statement query but I am getting a 500 error in the output . Running the query without preparing it works fine ( there are no parameters to bind ) . This error is occurring on both the Presto CLI tool and in my application . Input : `` ` PREPARE stmt0 FROM < < SELECT query 11.7 kbytes in size > > ; `` ` Output : `` ` java.lang.RuntimeException : Error fetching next at http : //localhost:28881/v1/statement/20180228_143747_01091_gjj7v/1 returned an invalid response : JsonResponse { statusCode=500 , statusMessage=Server Error , headers= { connection= [ close ] } , hasValue=false } [ Error : ] at com.facebook.presto.client.StatementClient.requestFailedException ( StatementClient.java:390 ) at com.facebook.presto.client.StatementClient.advance ( StatementClient.java:333 ) at com.facebook.presto.cli.StatusPrinter.printInitialStatusUpdates ( StatusPrinter.java:122 ) at com.facebook.presto.cli.Query.renderQueryOutput ( Query.java:134 ) at com.facebook.presto.cli.Query.renderOutput ( Query.java:118 ) at com.facebook.presto.cli.Console.process ( Console.java:299 ) at com.facebook.presto.cli.Console.runConsole ( Console.java:251 ) at com.facebook.presto.cli.Console.run ( Console.java:145 ) at com.facebook.presto.cli.Presto.main ( Presto.java:32 ) Query is gone ( server restarted ? ) `` ` There is no indication that the query failed in the presto UI or in the server.log file . It is marked as finished . Perhaps there
PREPARE statement query failing with 500 error __EoT__ I am trying to run a prepared statement query but I am getting a 500 error in the output . Running the query without preparing it works fine ( there are no parameters to bind ) . This error is occurring on both the Presto CLI tool and in my application . Input : `` ` PREPARE stmt0 FROM < < SELECT query 11.7 kbytes in size > > ; `` ` Output : `` ` java.lang.RuntimeException : Error fetching next at http : //localhost:28881/v1/statement/20180228_143747_01091_gjj7v/1 returned an invalid response : JsonResponse { statusCode=500 , statusMessage=Server Error , headers= { connection= [ close ] } , hasValue=false } [ Error : ] at com.facebook.presto.client.StatementClient.requestFailedException ( StatementClient.java:390 ) at com.facebook.presto.client.StatementClient.advance ( StatementClient.java:333 ) at com.facebook.presto.cli.StatusPrinter.printInitialStatusUpdates ( StatusPrinter.java:122 ) at com.facebook.presto.cli.Query.renderQueryOutput ( Query.java:134 ) at com.facebook.presto.cli.Query.renderOutput ( Query.java:118 ) at com.facebook.presto.cli.Console.process ( Console.java:299 ) at com.facebook.presto.cli.Console.runConsole ( Console.java:251 ) at com.facebook.presto.cli.Console.run ( Console.java:145 ) at com.facebook.presto.cli.Presto.main ( Presto.java:32 ) Query is gone ( server restarted ? ) `` ` There is no indication that the query failed in the presto UI or in the server.log file . It is marked as finished . Perhaps there
PREPARE statement query failing with 500 error __EoT__ I am trying to run a prepared statement query but I am getting a 500 error in the output . Running the query without preparing it works fine ( there are no parameters to bind ) . This error is occurring on both the Presto CLI tool and in my application . Input : `` ` PREPARE stmt0 FROM < < SELECT query 11.7 kbytes in size > > ; `` ` Output : `` ` java.lang.RuntimeException : Error fetching next at http : //localhost:28881/v1/statement/20180228_143747_01091_gjj7v/1 returned an invalid response : JsonResponse { statusCode=500 , statusMessage=Server Error , headers= { connection= [ close ] } , hasValue=false } [ Error : ] at com.facebook.presto.client.StatementClient.requestFailedException ( StatementClient.java:390 ) at com.facebook.presto.client.StatementClient.advance ( StatementClient.java:333 ) at com.facebook.presto.cli.StatusPrinter.printInitialStatusUpdates ( StatusPrinter.java:122 ) at com.facebook.presto.cli.Query.renderQueryOutput ( Query.java:134 ) at com.facebook.presto.cli.Query.renderOutput ( Query.java:118 ) at com.facebook.presto.cli.Console.process ( Console.java:299 ) at com.facebook.presto.cli.Console.runConsole ( Console.java:251 ) at com.facebook.presto.cli.Console.run ( Console.java:145 ) at com.facebook.presto.cli.Presto.main ( Presto.java:32 ) Query is gone ( server restarted ? ) `` ` There is no indication that the query failed in the presto UI or in the server.log file . It is marked as finished . Perhaps there
Query plans not deterministic __EoT__ There are cases where subsequent executions of a query differ because of the query plan being created in a non-deterministic way . The simplest example we 've spotted so far is : `` ` SELECT COUNT ( * ) FROM part ps , supplier l WHERE ps.comment = l.comment AND ps.brand = l.address `` ` which produces at least two different plans : `` ` - Output [ _col0 ] = > [ count : bigint ] _col0 : = count - Aggregate ( FINAL ) = > [ count : bigint ] count : = `` count '' ( `` count_10 '' ) - LocalExchange [ SINGLE ] ( ) = > count_10 : bigint - Aggregate ( PARTIAL ) = > [ count_11 : bigint ] count_11 : = `` count '' ( * ) - Project = > [ ] - InnerJoin [ ( `` comment '' = `` comment_1 '' ) AND ( `` brand '' = `` address '' ) ] [ $ hashvalue , $ hashvalue_12 ] = > [ brand : varchar ( 10 ) , comment : varchar ( 23 ) , $ hashvalue : bigint ,
Add hit/miss metrics for compiled code caches __EoT__ I suspect that the caches for compiled code are not very effective for large , varied workloads . We should add cache hit/miss metrics and expose them via JMX to be able to test this hypothesis . Classes that need to be instrumented : ExpressionCompiler , JoinCompiler , JoinFilterFunctionCompiler , JoinProbeCompiler , OrderingCompiler
Add hit/miss metrics for compiled code caches __EoT__ I suspect that the caches for compiled code are not very effective for large , varied workloads . We should add cache hit/miss metrics and expose them via JMX to be able to test this hypothesis . Classes that need to be instrumented : ExpressionCompiler , JoinCompiler , JoinFilterFunctionCompiler , JoinProbeCompiler , OrderingCompiler
Performance degradation for a specific query from 0.139 to 0.149 __EoT__ I am seeing a performance degradation of 10-15 % for a limit query when I test ` 0.149 ` against ` 0.139 ` . There are a few differences in the plans produced by these versions . I see that the plan in ` 0.149 ` has two additional project operators in stage 0 and 1 applying the same projection while ` 0.139 ` do n't have those . Also I see that the filter expressions differ quite a bit , but not sure whether that will affect the performance much . [ Here ] ( https : //gist.github.com/nezihyigitbasi/aa9c222c644c86f9163a83a5c9800443 ) is the query , the plan in [ 0.139 ] ( https : //gist.github.com/nezihyigitbasi/ce0cb2914c9c8635bb737ad8161237f2 ) and the plan in [ 0.149 ] ( https : //gist.github.com/nezihyigitbasi/7965d784633cda268c2763d85617a6ed ) . Any insights appreciated .
HTTPS port is hardcoded __EoT__ Currently HTTPS port is hard coded and value 443 does not allowed for ordinary user , What about introducing jdbc url parameter say jdbc : presto : //host:8443/catalog/schema ? protocol=https .src/main/java/com/facebook/presto/jdbc/PrestoConnection.java `` ` String scheme = ( address.getPort ( ) == 443 ) ? `` https '' : `` http '' ; List < NameValuePair > kv = null ; try { if ( uri ! = null ) { kv = URLEncodedUtils.parse ( uri , `` ASCII '' ) ; if ( kv.contains ( new BasicNameValuePair ( `` protocol '' , `` https '' ) ) ) { scheme = `` https '' ; } } } catch ( Exception e ) { } `` `
Partial aggregation is missing when filter reduces the data to a single group __EoT__ The plan for the following query is missing partial aggregation making it so that aggregation happens very slowly on a single node . This looks like a regression caused by # 10731 `` ` explain select sum ( totalprice ) , orderstatus from orders where orderstatus='O ' group by orderstatus ; - Output [ _col0 , orderstatus ] = > [ sum : double , orderstatus : varchar ( 1 ) ] Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 220010.00 } _col0 : = sum - RemoteExchange [ GATHER ] = > orderstatus : varchar ( 1 ) , sum : double Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 220010.00 } - Aggregate ( STREAMING ) [ orderstatus ] = > [ orderstatus : varchar ( 1 ) , sum : double ] Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 219990.00 } sum : = `` sum
Partial aggregation is missing when filter reduces the data to a single group __EoT__ The plan for the following query is missing partial aggregation making it so that aggregation happens very slowly on a single node . This looks like a regression caused by # 10731 `` ` explain select sum ( totalprice ) , orderstatus from orders where orderstatus='O ' group by orderstatus ; - Output [ _col0 , orderstatus ] = > [ sum : double , orderstatus : varchar ( 1 ) ] Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 220010.00 } _col0 : = sum - RemoteExchange [ GATHER ] = > orderstatus : varchar ( 1 ) , sum : double Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 220010.00 } - Aggregate ( STREAMING ) [ orderstatus ] = > [ orderstatus : varchar ( 1 ) , sum : double ] Cost : { rows : 1 ( 20B ) , cpu : 1026620.00 , memory : 20.00 , network : 219990.00 } sum : = `` sum
SHOW PARTITIONS should avoid partitions scan limit __EoT__ When the user wants to lists all the partitions it should not use a read partitions count limit as there is these partitions are not going to be read . `` ` presto : xxx > show partitions in some_table where event_dt=date'2017-05-01 ' ; event_dt | hash_prtn_nb -- -- -- -- -- -- + -- -- -- -- -- -- -- 2017-05-01 | 0 2017-05-01 | 1 2017-05-01 | 2 ... . presto : xxx > show partitions in some_table limit 5 ; Query 20180305_204534_00022_sc8vc failed : Query over table 'some_table ' can potentially read more than 100000 partitions `` ` This error should be thrown only when query is going to scan these partitions . Maybe this check should be moved to ` HiveSplitManager ` ? CC : @ electrum @ findepi
Add more failure info to QueryCompletionEvent __EoT__ We need to know the task ID and the machine on which the failure occurred . This helps with finding logs related to a failure , correlating machines with higher than average failure counts , etc .
Add more failure info to QueryCompletionEvent __EoT__ We need to know the task ID and the machine on which the failure occurred . This helps with finding logs related to a failure , correlating machines with higher than average failure counts , etc .
tinyint ( 1 ) treated as bool but the actual value is int __EoT__ run sql return `` Operator EQUAL ( boolean , bigint ) not registered ''
TIMESTAMP WITH TIME ZONE and TIME WITH TIME ZONE equality does n't conform to standard __EoT__ SQL 2003 says > TIME — contains the < primary datetime field > s HOUR , MINUTE , and SECOND . > TIMESTAMP — contains the < primary datetime field > s YEAR , MONTH , DAY , HOUR , MINUTE , and SECOND . ( this listing was n't suppose to cover ` TIMEZONE_HOUR ` , ` TIMEZONE_MINUTE ` fields present in the ` WITH TIME ZONE ` data types ) > Items of type datetime are comparable only if they have the same < primary datetime field > s . * My understanding is that the TIME and TIMESTAMP equality ` = ` ( and comparisons ` < , > ` ) should be based on those fields . * This is further reinforced by reasoning that if values are printed differently , then they are different ( not equal ) * ... and that if ` a = b ` , then ` hour ( a ) = hour ( b ) ` ( which does n't hold today ) Thus the following should return ` false ` , but they
TIMESTAMP WITH TIME ZONE and TIME WITH TIME ZONE equality does n't conform to standard __EoT__ SQL 2003 says > TIME — contains the < primary datetime field > s HOUR , MINUTE , and SECOND . > TIMESTAMP — contains the < primary datetime field > s YEAR , MONTH , DAY , HOUR , MINUTE , and SECOND . ( this listing was n't suppose to cover ` TIMEZONE_HOUR ` , ` TIMEZONE_MINUTE ` fields present in the ` WITH TIME ZONE ` data types ) > Items of type datetime are comparable only if they have the same < primary datetime field > s . * My understanding is that the TIME and TIMESTAMP equality ` = ` ( and comparisons ` < , > ` ) should be based on those fields . * This is further reinforced by reasoning that if values are printed differently , then they are different ( not equal ) * ... and that if ` a = b ` , then ` hour ( a ) = hour ( b ) ` ( which does n't hold today ) Thus the following should return ` false ` , but they
Data spilling in join __EoT__ We started to work on data spilling in join . Currently it was mostly conceptual work , not much code yet . Before we start any serious coding we would like to hear you opinion about our idea of how we think it should be done . Here is a design doc : https : //docs.google.com/document/d/1FyT2-2ocOZ6dvzGK70yrUIhd9oucmfnreFWqd3SmfyU/edit # If you notice any problem : our code misunderstanding , performance or correctness issue , please comment there . Our idea is to arrange short meeting once you review above document to discuss that design . Unless everything is obvious and clear then we will just start to code ; ) CC : @ pnowojski @ losipiuk @ martint , @ dain , @ erichwang , @ cberner ( feel free to invite others if I missed someone with context )
Data spilling in join __EoT__ We started to work on data spilling in join . Currently it was mostly conceptual work , not much code yet . Before we start any serious coding we would like to hear you opinion about our idea of how we think it should be done . Here is a design doc : https : //docs.google.com/document/d/1FyT2-2ocOZ6dvzGK70yrUIhd9oucmfnreFWqd3SmfyU/edit # If you notice any problem : our code misunderstanding , performance or correctness issue , please comment there . Our idea is to arrange short meeting once you review above document to discuss that design . Unless everything is obvious and clear then we will just start to code ; ) CC : @ pnowojski @ losipiuk @ martint , @ dain , @ erichwang , @ cberner ( feel free to invite others if I missed someone with context )
create external hive table execution failing __EoT__ Hi , The otherday i was able to create and delete external table from data on s3 . But today i tried the same procedure with a different table name but it failed error message presto : default > create external table test ( a STRING ) ; Query 20151026_225840_00002_4mjn7 failed : line 1:8 : no viable alternative at input 'create external' create external table test ( a STRING ) debug log from the server.log is 2015-10-26T22:55:58.455Z INFO main com.facebook.presto.server.PrestoServer ======== SERVER STARTED ======== 2015-10-26T22:58:16.677Z WARN http-client-shared-116 com.facebook.presto.memory.RemoteNodeMemory Error fetching memory info from http : //10.195.0.44:8090/v1/memory : java.util.concurrent.TimeoutException 2015-10-26T22:58:17.514Z INFO query-execution-2 com.facebook.presto.event.query.QueryMonitor TIMELINE : Query 20151026_225816_00000_4mjn7 : : elapsed 723.00ms : : planning 216.70ms : : scheduling 420.00ms : : running 78.00ms : : finishing 8.00ms : : begin 2015-10-26T22:58:16.754Z : : end 2015-10-26T22:58:17.477Z 2015-10-26T22:58:17.913Z INFO query-execution-1 com.facebook.presto.event.query.QueryMonitor TIMELINE : Query 20151026_225817_00001_4mjn7 : : elapsed 349.00ms : : planning 74.23ms : : scheduling 156.00ms : : running 92.00ms : : finishing 27.00ms : : begin 2015-10-26T22:58:17.544Z : : end 2015-10-26T22:58:17.893Z 2015-10-26T22:58:40.481Z ERROR http-worker-114 com.facebook.presto.execution.QueryStateMachine Query 20151026_225840_00002_4mjn7 failed com.facebook.presto.sql.parser.ParsingException : line 1:8 : no viable alternative at input 'create external' at com.facebook.presto.sql.parser.SqlParser $ 1.syntaxError
Migrate DesugaringOptimizer to iterative optimizer __EoT__
Fix silent clamping in double to long cast __EoT__ ` cast ( 9.3e18 as bigint ) ` should fail the same way as ` cast ( 2.2e9 as integer ) ` . However , it clamps silently right now . `` ` presto : di > select cast ( 9.3e18 as bigint ) ; _col0 -- -- -- -- -- -- -- -- -- -- - 9223372036854775807 ( 1 row ) `` `
Integer overflow with IN and doubles . __EoT__ `` ` presto > with table2 ( id2 ) as ( values 1,1,2,2,3,3,4,4,5,5,6,6,7,8,9,10 ) , table1 ( id1 ) as ( values 1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0 ) select * from table1 where id1 in ( select id2 from table2 group by id2 having count ( * ) > 1 ) ; Query 20161212_224603_01571_dvnc7 , FAILED , 2 nodes Splits : 7 total , 3 done ( 42.86 % ) 0:00 [ 0 rows , 0B ] [ 0 rows/s , 0B/s ] Query 20161212_224603_01571_dvnc7 failed : integer overflow `` `
Integer overflow with IN and doubles . __EoT__ `` ` presto > with table2 ( id2 ) as ( values 1,1,2,2,3,3,4,4,5,5,6,6,7,8,9,10 ) , table1 ( id1 ) as ( values 1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0 ) select * from table1 where id1 in ( select id2 from table2 group by id2 having count ( * ) > 1 ) ; Query 20161212_224603_01571_dvnc7 , FAILED , 2 nodes Splits : 7 total , 3 done ( 42.86 % ) 0:00 [ 0 rows , 0B ] [ 0 rows/s , 0B/s ] Query 20161212_224603_01571_dvnc7 failed : integer overflow `` `
Introduce JoinNode # matchMax __EoT__ # 10405 improved support for correlated no aggregation scalar queries . A query like ` SELECT name , ( SELECT name FROM region WHERE regionkey = nation.regionkey ) FROM nation ` is planned as a left join sandwiched between ` AssignUniqueId ` and ` MarkDistinct ` + ` Filter ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - LeftJoin - AssignUniqueId ( unique ) - probe - build The sole purpose of extra ` AssignUniqueId ` , ` MarkDistinct ` and ` Filter ` nodes is to verify at runtime that the scalar subquery returns zero or one row . However , this check is expensive . The distributed plan includes a remote exchange between ` MarkDistinct ` and ` LeftJoin ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - RemoteExchange ( hash ( unique ) ) - LeftJoin - RemoteExchange ( hash ( joinkey ) ) - AssignUniqueId ( unique ) - probe - RemoteExchange ( hash (
Introduce JoinNode # matchMax __EoT__ # 10405 improved support for correlated no aggregation scalar queries . A query like ` SELECT name , ( SELECT name FROM region WHERE regionkey = nation.regionkey ) FROM nation ` is planned as a left join sandwiched between ` AssignUniqueId ` and ` MarkDistinct ` + ` Filter ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - LeftJoin - AssignUniqueId ( unique ) - probe - build The sole purpose of extra ` AssignUniqueId ` , ` MarkDistinct ` and ` Filter ` nodes is to verify at runtime that the scalar subquery returns zero or one row . However , this check is expensive . The distributed plan includes a remote exchange between ` MarkDistinct ` and ` LeftJoin ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - RemoteExchange ( hash ( unique ) ) - LeftJoin - RemoteExchange ( hash ( joinkey ) ) - AssignUniqueId ( unique ) - probe - RemoteExchange ( hash (
Introduce JoinNode # matchMax __EoT__ # 10405 improved support for correlated no aggregation scalar queries . A query like ` SELECT name , ( SELECT name FROM region WHERE regionkey = nation.regionkey ) FROM nation ` is planned as a left join sandwiched between ` AssignUniqueId ` and ` MarkDistinct ` + ` Filter ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - LeftJoin - AssignUniqueId ( unique ) - probe - build The sole purpose of extra ` AssignUniqueId ` , ` MarkDistinct ` and ` Filter ` nodes is to verify at runtime that the scalar subquery returns zero or one row . However , this check is expensive . The distributed plan includes a remote exchange between ` MarkDistinct ` and ` LeftJoin ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - RemoteExchange ( hash ( unique ) ) - LeftJoin - RemoteExchange ( hash ( joinkey ) ) - AssignUniqueId ( unique ) - probe - RemoteExchange ( hash (
Add support for LEFT spatial JOIN __EoT__ Extend spatial join optimization introduced in # 9890 to left joins to support correlated sub-queries . E.g . optimize left joins expressed with ` ST_Contains ` , ` ST_Intersects ` and ` ST_Distance ` relationships to use spatial index ( R-Tree ) for the build side . `` ` select * from t left join u on ST_Contains ( u.geometry , t.geometry ) `` ` Then it will be possible to use correlated sub-queries to implement reverse-geocoding processing like so : `` ` select * , ( select arbitrary ( name ) from regions where ST_Contains ( geometry , t.point ) ) from t `` ` ( See # 8435 for ideas on how to remove ` arbitrary ` aggregation from that query . )
Add support for LEFT spatial JOIN __EoT__ Extend spatial join optimization introduced in # 9890 to left joins to support correlated sub-queries . E.g . optimize left joins expressed with ` ST_Contains ` , ` ST_Intersects ` and ` ST_Distance ` relationships to use spatial index ( R-Tree ) for the build side . `` ` select * from t left join u on ST_Contains ( u.geometry , t.geometry ) `` ` Then it will be possible to use correlated sub-queries to implement reverse-geocoding processing like so : `` ` select * , ( select arbitrary ( name ) from regions where ST_Contains ( geometry , t.point ) ) from t `` ` ( See # 8435 for ideas on how to remove ` arbitrary ` aggregation from that query . )
Regex improvements __EoT__ We are creating this issue in order to explore and find an alternative to the current regular expression library used by the regexp_ functions . It is intended to overcome the computing overhead when worst case backtracking is involved . Other regular expression libraries such as RE2 has attempted to avoid the slowdown present in the backtracking based regex libraries . For this purpose , we have explored RE2J as a starting point for RE2 based regular expression library . Our early tests are mostly regarding the feature completeness of RE2J and the performance difference between regexp_ functions with RE2J and regexp_ functions with JONI . **1 . Feature comparison** We used Java Pattern class as the basis for feature comparison for syntax supported by RE2J . There are few features in Pattern class that we have n't tested/verified yet ( eg . unicode , POSIX character classes ) . Below is the list of features supported by Pattern class and RE2J support . | Regular expression feature | RE2J support | Pattern | Matching text | Non matching text | | -- - | -- - | -- - | -- - | -- - |
Window function dependencies not in source plan output __EoT__ `` ` with t1 as ( select orderkey , totalprice from tpch.tiny.orders ) , t2 as ( select orderkey , totalprice , sum ( totalprice ) over ( ) x from t1 ) , t3 as ( select orderkey , max ( x ) over ( ) from t2 ) select * from t3 `` ` `` ` java.lang.IllegalArgumentException : Invalid node . Window function dependencies ( [ sum ] ) not in source plan output ( [ orderkey ] ) at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker.checkDependencies ( ValidateDependenciesChecker.java:645 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker.access $ 100 ( ValidateDependenciesChecker.java:80 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker $ Visitor.visitWindow ( ValidateDependenciesChecker.java:187 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker $ Visitor.visitWindow ( ValidateDependenciesChecker.java:94 ) at com.facebook.presto.sql.planner.plan.WindowNode.accept ( WindowNode.java:154 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker $ Visitor.visitOutput ( ValidateDependenciesChecker.java:303 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker $ Visitor.visitOutput ( ValidateDependenciesChecker.java:94 ) at com.facebook.presto.sql.planner.plan.OutputNode.accept ( OutputNode.java:82 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker.validate ( ValidateDependenciesChecker.java:91 ) at com.facebook.presto.sql.planner.sanity.ValidateDependenciesChecker.validate ( ValidateDependenciesChecker.java:86 ) at com.facebook.presto.sql.planner.sanity.PlanSanityChecker.lambda $ validate $ 0 ( PlanSanityChecker.java:44 ) at java.lang.Iterable.forEach ( Iterable.java:75 ) at com.facebook.presto.sql.planner.sanity.PlanSanityChecker.validate ( PlanSanityChecker.java:44 ) at com.facebook.presto.sql.planner.LogicalPlanner.plan ( LogicalPlanner.java:127 ) at com.facebook.presto.sql.planner.LogicalPlanner.plan ( LogicalPlanner.java:111 ) at com.facebook.presto.execution.SqlQueryExecution.doAnalyzeQuery ( SqlQueryExecution.java:297 ) at com.facebook.presto.execution.SqlQueryExecution.analyzeQuery ( SqlQueryExecution.java:276 ) at com.facebook.presto.execution.SqlQueryExecution.start ( SqlQueryExecution.java:234 ) at
presto-0.75 query hive 0.13.1 orc table fail __EoT__ 2014-08-27T23:19:25.328+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is PLANNING 2014-08-27T23:19:33.454+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is STARTING 2014-08-27T23:19:33.470+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULING 2014-08-27T23:19:33.475+0800 DEBUG query-execution-3 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULING 2014-08-27T23:19:33.871+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULED 2014-08-27T23:19:33.876+0800 DEBUG query-execution-3 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is RUNNING 2014-08-27T23:19:33.987+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULED 2014-08-27T23:19:34.500+0800 DEBUG 20140827_151924_00000_qq85a.1.0-0-46 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.1.0-0 ( start = 1409152774195 , wall = 304 ms , cpu = 55 ms , calls = 1 ) is finished 2014-08-27T23:19:35.071+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is RUNNING 2014-08-27T23:19:35.126+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is RUNNING 2014-08-27T23:19:35.404+0800 DEBUG task-notification-1 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.1.0 is FINISHED 2014-08-27T23:19:35.421+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is FINISHED 2014-08-27T23:19:35.597+0800 DEBUG 20140827_151924_00000_qq85a.0.0-0-45 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.0.0-0 ( start = 1409152774183 , wall = 1414 ms , cpu = 165 ms , calls = 3 ) is finished 2014-08-27T23:19:35.627+0800 DEBUG task-notification-2 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.0.0 is FINISHED 2014-08-27T23:19:35.745+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is FINISHED 2014-08-27T23:19:35.755+0800 DEBUG query-execution-2 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is FINISHED 2014-08-27T23:19:35.884+0800 INFO query-execution-2 com.facebook.presto.event.query.QueryMonitor TIMELINE : Query 20140827_151924_00000_qq85a : : elapsed 10468.00ms : : planning 8167.10ms : : scheduling 1042.00ms : : running 893.00ms : :
PrestoS3FileSystem passing null bucket when actual bucket name contains an underscore __EoT__ When attempting to query data stored in an S3 bucket whose name contains an underscore , the query fails with the below error . After attaching a debugger and tracing the execution it seems that the root cause is the fact that URI uses ‘ _ ’ ( among other chars ) as a signal character that distinguishes between URIs that are host vs. registry based . Presto ’ s PrestoS3FileSystem then assumes all S3 URIs are host based resulting in a null being passed to the S3 client when calling operations against buckets containing an ‘ _ ’ in the bucket name . Normally this is n't an issue because you can only create buckets with an '_ ' when using the aws cli and the us-east-1 region . [ PrestoS3FileSystem.java:479 ] ( https : //github.com/prestodb/presto/blob/0707f2f21a96d2fd30953fb3fa9a9a03f03d88bd/presto-hive/src/main/java/com/facebook/presto/hive/s3/PrestoS3FileSystem.java # L479 ) is one example where the URI.getHost ( ) assumption is made . You can also see where URI treats authorities with '_ ' differently [ here ] ( http : //grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/URI.java # 3119 ) . `` ` com.facebook.presto.spi.PrestoException : The bucket name parameter must be specified when listing
Flaky test : TestTpchDistributedStats.testValues ( ) __EoT__ Entire test output is [ here ] ( https : //gist.githubusercontent.com/nezihyigitbasi/261c563d2591e4b649ec8ef85129df37/raw/983cc31e929a8fbbd4476317af974bf5ae3c98ce/gistfile1.txt ) . `` ` [ ERROR ] Tests run : 2122 , Failures : 1 , Errors : 0 , Skipped : 0 , Time elapsed : 2,173.575 s < < < FAILURE ! - in TestSuite [ ERROR ] testValues ( com.facebook.presto.tests.TestTpchDistributedStats ) Time elapsed : 0.037 s < < < FAILURE ! java.lang.AssertionError : Following metrics do not match : Metric [ OUTPUT_ROW_COUNT ] - estimated : [ 1.0 ] , real : [ UNKNOWN ] - plan node : [ com.facebook.presto.sql.planner.plan.OutputNode @ 2b575894 ] expected [ true ] but found [ false ] at com.facebook.presto.tests.TestTpchDistributedStats.testValues ( TestTpchDistributedStats.java:104 ) `` `
Flaky test : TestTpchDistributedStats.testValues ( ) __EoT__ Entire test output is [ here ] ( https : //gist.githubusercontent.com/nezihyigitbasi/261c563d2591e4b649ec8ef85129df37/raw/983cc31e929a8fbbd4476317af974bf5ae3c98ce/gistfile1.txt ) . `` ` [ ERROR ] Tests run : 2122 , Failures : 1 , Errors : 0 , Skipped : 0 , Time elapsed : 2,173.575 s < < < FAILURE ! - in TestSuite [ ERROR ] testValues ( com.facebook.presto.tests.TestTpchDistributedStats ) Time elapsed : 0.037 s < < < FAILURE ! java.lang.AssertionError : Following metrics do not match : Metric [ OUTPUT_ROW_COUNT ] - estimated : [ 1.0 ] , real : [ UNKNOWN ] - plan node : [ com.facebook.presto.sql.planner.plan.OutputNode @ 2b575894 ] expected [ true ] but found [ false ] at com.facebook.presto.tests.TestTpchDistributedStats.testValues ( TestTpchDistributedStats.java:104 ) `` `
Where is the configuration properties description ? __EoT__ Where is the detailed description of the configuration parameters ? I have read the official website of the document , but not a very comprehensive description . Regards .
Add queued flag to StatementStats __EoT__ This flag should be added before the ` scheduled ` flag . It provides a proper way for clients to know if the query is waiting in the queue . ( clients should not be programmatically using the ` state ` field )
Change time zone used in tests to better test date/time/zone/JVM-related corner cases __EoT__ All tests are run with ` Asia/Kathmandu ` time zone . I think it was chosen because : 1. it 's zone offset has changed since 1970 2. it 's zone offset is not whole hours ( was it the case ? ) These are nice properties , but there are other nice properties a time zone could have : 3 . DST ( breaks so many things ) 4. having DST change at midnight ( breaks all those code paths that represent date as local time at midnight ) Since it 's not possible to change JVM default zone for just a single test , using ` Asia/Kathmandu ` makes it not possible to test functionalities around DST changes . For example , reading TIMESTAMP values using JDBC ` ResultSet.getTimestamp ( ) ` can not succeed when TIMESTAMP value to be returned never occurred in JVM time zone , was skipped ( DST change forward ) . For these reasons , I 'd like to change time zone used in tests to one having DST . Unfortunately there is n't a zone that has all 4
Java 9 support __EoT__ This is an umbrella issue to track the changes needed to be able to run Presto on Java 9 : - [ x ] https : //github.com/prestodb/presto/pull/5789 - [ x ] https : //github.com/airlift/airlift/pull/438 - [ x ] https : //github.com/airlift/airlift/pull/437 - [ x ] https : //github.com/dain/leveldb/pull/70 - [ x ] https : //github.com/airlift/airlift/pull/439 - [ x ] https : //github.com/airlift/discovery/pull/39 - [ x ] Update to airbase 56 - [ x ] https : //github.com/airlift/slice/pull/59 - [ x ] https : //github.com/prestodb/presto/pull/5794 - [ x ] https : //github.com/airlift/airlift/pull/440 - [ x ] https : //github.com/airlift/discovery/pull/40 - [ x ] Update to airlift 0.132 - [ x ] Update to slice 0.23 : https : //github.com/prestodb/presto/pull/5795 - [ x ] Update to discovery 1.26 - [ x ] https : //github.com/airlift/airlift/pull/441
Fix table type handling in DatabaseMetaData __EoT__ Two problems : - ` getTableTypes ( ) ` returns ` BASE TABLE ` rather than ` TABLE ` - ` getTables ( ) ` takes a ` types ` filter that does not filter ` TABLE ` correctly Related , there is an additional type ` SYSTEM TABLE ` which would be nice to have that does not exist in the ` information_schema.tables ` specification . This could all be fixed by having metadata tables specifically for JDBC .
Enable streaming results for JDBC connector __EoT__ In ` JdbcRecordCursor ` : For PostgreSQL , we need to call ` setAutoCommit ( false ) ` on the ` Connection ` : https : //jdbc.postgresql.org/documentation/head/query.html For MySQL , we need to call ` enableStreamingResults ( ) ` on the MySQL ` Statement ` ( see ` ShardIterator ` for an example ) . Since we need specific logic for different databases , we should add a ` getStatement ( connection ) ` method to ` JdbcClient ` that can do the customization .
Lambdas are not suffciently verified during analyzis __EoT__ Query : `` ` select filter ( array [ 5 ] , x - > x + a > 0 ) from ( VALUES ( 1,2 ) ) t ( a , b ) ; `` ` fails with : `` ` Query 20170215_110307_00000_geqw6 failed : No type for symbol field `` ` This should be addressed after # 7354 and # 7315 are merged . FYI : @ martint @ kokosing
Lambdas are not suffciently verified during analyzis __EoT__ Query : `` ` select filter ( array [ 5 ] , x - > x + a > 0 ) from ( VALUES ( 1,2 ) ) t ( a , b ) ; `` ` fails with : `` ` Query 20170215_110307_00000_geqw6 failed : No type for symbol field `` ` This should be addressed after # 7354 and # 7315 are merged . FYI : @ martint @ kokosing
Add session property for MetadataQueryOptimizer __EoT__ Currently , the optimizer can only the activated via a global configuration option . We should add a session property to be able to turn it on for specific queries .
Presto Schema not correct when we use `` avro.schema.url '' properties to create table in hive . __EoT__ HiveMetaStore provide `` client.get_schema '' to get correct table schema from hive . Presto only use `` client.get_table '' to get the `` org.apache.hadoop.hive.metastore.api.Table '' and then get the MColumnDescriptor from this `` Table '' instance . In our cases , we use `` avro.schema.url '' to create table , and update the schema file in hdfs . Then this problems happened . When we run `` describe table '' command in Presto , the schemas is not correct . But we run same command in hive , its correct . This because Hive use `` get_schema '' function to get correct schema . Hive will do some special process in `` get_schema '' , such as bellow codes : `` ` try { tbl = get_table_core ( db , base_table_name ) ; } catch ( NoSuchObjectException e ) { throw new UnknownTableException ( e.getMessage ( ) ) ; } if ( null == tbl.getSd ( ) .getSerdeInfo ( ) .getSerializationLib ( ) || hiveConf.getStringCollection ( ConfVars.SERDESUSINGMETASTOREFORSCHEMA.varname ) .contains ( tbl.getSd ( ) .getSerdeInfo ( ) .getSerializationLib ( ) ) ) {
Presto Schema not correct when we use `` avro.schema.url '' properties to create table in hive . __EoT__ HiveMetaStore provide `` client.get_schema '' to get correct table schema from hive . Presto only use `` client.get_table '' to get the `` org.apache.hadoop.hive.metastore.api.Table '' and then get the MColumnDescriptor from this `` Table '' instance . In our cases , we use `` avro.schema.url '' to create table , and update the schema file in hdfs . Then this problems happened . When we run `` describe table '' command in Presto , the schemas is not correct . But we run same command in hive , its correct . This because Hive use `` get_schema '' function to get correct schema . Hive will do some special process in `` get_schema '' , such as bellow codes : `` ` try { tbl = get_table_core ( db , base_table_name ) ; } catch ( NoSuchObjectException e ) { throw new UnknownTableException ( e.getMessage ( ) ) ; } if ( null == tbl.getSd ( ) .getSerdeInfo ( ) .getSerializationLib ( ) || hiveConf.getStringCollection ( ConfVars.SERDESUSINGMETASTOREFORSCHEMA.varname ) .contains ( tbl.getSd ( ) .getSerdeInfo ( ) .getSerializationLib ( ) ) ) {
Create unnesters in UnnestOperator once __EoT__ Currently , the list of type-specific unnesters is created for every page . This should n't be necessary , as the types are known statically when the operator is constructed .
Update product-tests README for new Mac Docker __EoT__ Docker is now natively supported on Mac , so the VirtualBox / Docker Toolbox instructions should be updated . I think the steps are - Install Docker for Mac : download the DMG , copy to Applications , run the Docker application to install . - Increase Docker memory : click the Docker icon in the menu bar , choose Preferences , increase memory slider to 4 GB . Everything after that seems to work automatically ( no need to use ` docker-machine ` or ` eval ` ) .
HIVE_COLUMN_ORDER_MISMATCH should be USER_ERROR __EoT__ This is in ` HiveErrorCode `
how to change the data source __EoT__ Does anyone know how to change the data source itself in TPCH to my own data source in the class of TestHiddenColumns ? Is the dataSource of TPCH produced by the class of TableScanNode ? What should I do to achieve ?
The presto-jdbc Statement.execute ( ) method returns true even for DDL statements __EoT__ If a ddl task is not yet submitted a default empty QueryResults is returned to the client which has getUpdateType == null when it should be set to the task name ( ex . `` CREATE TABLE '' , `` CREATE SCHEMA '' , etc. ) . From com.facebook.presto.jdbc.PrestoStatement.internalExecute ( ) : `` ` if ( client.currentStatusInfo ( ) .getUpdateType ( ) == null ) { currentResult.set ( resultSet ) ; return true ; } `` ` From com.facebook.presto.server.protocol.Query.getNextResults ( ) : `` ` // if query query submission has not finished , return simple empty result if ( ! submissionFuture.isDone ( ) ) { QueryResults queryResults = new QueryResults ( queryId.toString ( ) , queryHtmlUri , null , createNextResultsUri ( scheme , uriInfo ) , null , null , StatementStats.builder ( ) .setState ( QueryState.QUEUED.toString ( ) ) .setQueued ( true ) .setScheduled ( false ) .build ( ) , null , ImmutableList.of ( ) , null , null ) ; cacheLastResults ( queryResults ) ; return queryResults ; } `` `
Bad error message when lambda expression references column in enclosing query __EoT__ `` ` sql SELECT filter ( a , v - > v > = c ) FROM ( VALUES ( 1 , array [ 1 ] ) ) t ( c , a ) ) `` ` Fails with : `` ` Query 20161229_202516_00011_suq2a failed : No type for symbol field java.lang.IllegalArgumentException : No type for symbol field at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:334 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.SymbolReference.accept ( SymbolReference.java:41 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.getOperator ( ExpressionAnalyzer.java:1126 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:424 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.ComparisonExpression.accept ( ComparisonExpression.java:71 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.analyze ( ExpressionAnalyzer.java:237 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.access $ 1800 ( ExpressionAnalyzer.java:152 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.lambda $ visitFunctionCall $ 1 ( ExpressionAnalyzer.java:810 ) at com.facebook.presto.sql.analyzer.TypeSignatureProvider.getTypeSignature ( TypeSignatureProvider.java:61 ) at com.facebook.presto.metadata.SignatureBinder $ FunctionSolver.update ( SignatureBinder.java:725 ) at com.facebook.presto.metadata.SignatureBinder.iterativeSolve ( SignatureBinder.java:399 ) at com.facebook.presto.metadata.SignatureBinder.bindVariables ( SignatureBinder.java:114 ) at com.facebook.presto.metadata.SignatureBinder.bind ( SignatureBinder.java:91 ) at com.facebook.presto.metadata.FunctionRegistry.identifyApplicableFunctions ( FunctionRegistry.java:692 ) at
Bad error message when lambda expression references column in enclosing query __EoT__ `` ` sql SELECT filter ( a , v - > v > = c ) FROM ( VALUES ( 1 , array [ 1 ] ) ) t ( c , a ) ) `` ` Fails with : `` ` Query 20161229_202516_00011_suq2a failed : No type for symbol field java.lang.IllegalArgumentException : No type for symbol field at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:334 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.SymbolReference.accept ( SymbolReference.java:41 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.getOperator ( ExpressionAnalyzer.java:1126 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:424 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.ComparisonExpression.accept ( ComparisonExpression.java:71 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.analyze ( ExpressionAnalyzer.java:237 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.access $ 1800 ( ExpressionAnalyzer.java:152 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.lambda $ visitFunctionCall $ 1 ( ExpressionAnalyzer.java:810 ) at com.facebook.presto.sql.analyzer.TypeSignatureProvider.getTypeSignature ( TypeSignatureProvider.java:61 ) at com.facebook.presto.metadata.SignatureBinder $ FunctionSolver.update ( SignatureBinder.java:725 ) at com.facebook.presto.metadata.SignatureBinder.iterativeSolve ( SignatureBinder.java:399 ) at com.facebook.presto.metadata.SignatureBinder.bindVariables ( SignatureBinder.java:114 ) at com.facebook.presto.metadata.SignatureBinder.bind ( SignatureBinder.java:91 ) at com.facebook.presto.metadata.FunctionRegistry.identifyApplicableFunctions ( FunctionRegistry.java:692 ) at
Bad error message when lambda expression references column in enclosing query __EoT__ `` ` sql SELECT filter ( a , v - > v > = c ) FROM ( VALUES ( 1 , array [ 1 ] ) ) t ( c , a ) ) `` ` Fails with : `` ` Query 20161229_202516_00011_suq2a failed : No type for symbol field java.lang.IllegalArgumentException : No type for symbol field at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:334 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.SymbolReference.accept ( SymbolReference.java:41 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.getOperator ( ExpressionAnalyzer.java:1126 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:424 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.ComparisonExpression.accept ( ComparisonExpression.java:71 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.analyze ( ExpressionAnalyzer.java:237 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.access $ 1800 ( ExpressionAnalyzer.java:152 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.lambda $ visitFunctionCall $ 1 ( ExpressionAnalyzer.java:810 ) at com.facebook.presto.sql.analyzer.TypeSignatureProvider.getTypeSignature ( TypeSignatureProvider.java:61 ) at com.facebook.presto.metadata.SignatureBinder $ FunctionSolver.update ( SignatureBinder.java:725 ) at com.facebook.presto.metadata.SignatureBinder.iterativeSolve ( SignatureBinder.java:399 ) at com.facebook.presto.metadata.SignatureBinder.bindVariables ( SignatureBinder.java:114 ) at com.facebook.presto.metadata.SignatureBinder.bind ( SignatureBinder.java:91 ) at com.facebook.presto.metadata.FunctionRegistry.identifyApplicableFunctions ( FunctionRegistry.java:692 ) at
non-equi join for left ( right ) join ? __EoT__ Hi , I tested the feature of simple non-equi join , it works fine for inner join as I expected . I 'd like to know is there any plan to support non-equi left join and non-equi right join ? It will be really helpful to me ! Thanks ! @ cberner
Presto tests TEST_SPECIFIC_MODULES=presto-tests take a long time __EoT__ For example : https : //travis-ci.org/prestodb/presto/builds/337969486 . ` TEST_SPECIFIC_MODULES=presto-tests ` takes now about 1h while other jobs mostly around 30mins . We should probably split this into two jobs or address testing holistically . FYI : @ findepi @ electrum
Planning failure for UNION and GROUP BY __EoT__ The following query : `` ` WITH t1 AS ( SELECT 1 FROM tpch.tiny.nation GROUP BY 1 ) , t2 AS ( SELECT 1 FROM tpch.tiny.nation UNION ALL SELECT 1 FROM tpch.tiny.nation ) SELECT 1 FROM t1 UNION ALL SELECT 1 FROM t2 `` ` Fails during planning with : `` ` java.lang.IllegalStateException : Can not set distribution to ROUND_ROBIN . Already set to Optional [ HASH ] at com.google.common.base.Preconditions.checkState ( Preconditions.java:721 ) at com.facebook.presto.sql.planner.PlanFragmenter $ FragmentProperties.setDistribution ( PlanFragmenter.java:259 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:192 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.lambda $ defaultRewrite $ 0 ( SimplePlanRewriter.java:73 ) at java.util.stream.ReferencePipeline $ 3 $ 1.accept ( ReferencePipeline.java:193 ) at java.util.Spliterators $ ArraySpliterator.forEachRemaining ( Spliterators.java:948 ) at java.util.stream.AbstractPipeline.copyInto ( AbstractPipeline.java:481 ) at java.util.stream.AbstractPipeline.wrapAndCopyInto ( AbstractPipeline.java:471 ) at java.util.stream.ReduceOps $ ReduceOp.evaluateSequential ( ReduceOps.java:708 ) at java.util.stream.AbstractPipeline.evaluate ( AbstractPipeline.java:234 ) at java.util.stream.ReferencePipeline.collect ( ReferencePipeline.java:499 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.defaultRewrite ( SimplePlanRewriter.java:74 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:183 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84
Incorrect results due to improper inlining of arguments to TRY __EoT__ The following query should fail : `` ` sql SELECT TRY ( x ) IS NULL FROM ( SELECT 1/y as x FROM ( VALUES 1 , 2 , 3 , 0 , 4 ) t ( y ) ) `` ` However , it succeeds and produces this incorrect output : `` ` _col0 -- -- -- - false false false true false ( 5 rows ) `` ` This is due to this check in MergeProjections , which only tests whether TRY appears at the root of an expression : `` ` java private static boolean containsTry ( ProjectNode node ) { return node.getAssignments ( ) .values ( ) .stream ( ) .anyMatch ( TryExpression.class : :isInstance ) ; } `` `
can not create table in cassandra database __EoT__ ! [ image ] ( https : //user-images.githubusercontent.com/33027182/39687092-493fa95c-51ea-11e8-91a9-ddb630b438bf.png )
Add support for ORC __EoT__ Trying to read an ORC table fails with an exception . At a minimum , we probably need to upgrade to Hive 0.12 . See https : //groups.google.com/d/msg/presto-users/iKmsQuwuFMs/NJVukDHZFQAJ
Add support for ORC __EoT__ Trying to read an ORC table fails with an exception . At a minimum , we probably need to upgrade to Hive 0.12 . See https : //groups.google.com/d/msg/presto-users/iKmsQuwuFMs/NJVukDHZFQAJ
Add support for ORC __EoT__ Trying to read an ORC table fails with an exception . At a minimum , we probably need to upgrade to Hive 0.12 . See https : //groups.google.com/d/msg/presto-users/iKmsQuwuFMs/NJVukDHZFQAJ
testSelectPartitionedHiveTableDifferentFormats is flaky __EoT__ Just ran this test on my box 200 times , and saw no failures . However , Travis keeps randomly failing on this test . I 'm also not sure what it 's really meant to test .
O ( N^2 ) behavior when grouping by double column containing NaNs __EoT__ NaNs are not equal to any other value ( even to NaN ) . This causes insertions into the hash table of a group by or join to become O ( N ) for NaN values . Once https : //github.com/prestodb/presto/issues/1508 is implemented , this should no longer be a problem . In the meantime , we should consider failing queries that GROUP BY or JOIN on NaNs .
Cassandra collector SELECT error __EoT__ I 've defined the Cassandra catalog like this and Cassandra is running on the default port : ` connector.name=cassandra ` ` cassandra.contact-points=localhost ` In Presto-Cli when I type the command DESCRIBE it works fine but my SELECT command fails because of Thrift connection refused error . ` presto : cmf > DESCRIBE stats ; ` ` Column | Type | Extra | Comment ` ` -- -- -- -- -- -- -- -- + -- -- -- -- -+ -- -- -- -+ -- -- -- -- - ` ` username | varchar | | ` ` a | bigint | | ` ` b | bigint | | ` ` c | bigint | | ` ` d | bigint | | ` ` e | bigint | | ` ` ( 6 rows ) ` ` presto : cmf > SELECT * FROM stats ; ` ` Query 20161226_083409_00044_2cdmr failed : java.io.IOException : Unable to connect to server localhost:9160 ` Trace : ` java.lang.RuntimeException : java.io.IOException : Unable to connect to server localhost:9160 at com.facebook.presto.cassandra.CassandraThriftConnectionFactory.create ( CassandraThriftConnectionFactory.java:56 ) at com.facebook.presto.cassandra.CassandraThriftClient.getRangeMap ( CassandraThriftClient.java:38 ) at com.facebook.presto.cassandra.CassandraTokenSplitManager.getSplits ( CassandraTokenSplitManager.java:65 ) at com.facebook.presto.cassandra.CassandraSplitManager.getSplitsByTokenRange ( CassandraSplitManager.java:99 )
Support for correlated subqueries __EoT__ It relates to subqueries used in IN , EXISTS predicates and scalar subqueries .
Excessive classes are generated during lambda execution __EoT__ The simplest way I found to the problem is to have a table with a lot of nested arrays ( e.g . ` ARRAY ( ARRAY ( INTEGER ) ) ` : `` ` CREATE TABLE test_100k_rows AS SELECT id as rid FROM ( select sequence ( 1 , 100000 ) AS seq ) tmp CROSS JOIN UNNEST ( seq ) AS t ( id ) CREATE TABLE test_2lev_array AS SELECT transform ( sequence ( 1 , 1000 ) , x- > ARRAY [ x ] ) AS arr FROM test_100k_rows `` ` This will generate an table with 100k rows ( I think 10k rows are also enough ) , each row contains an ` ARRAY < ARRAY < INTEGER > > ` , and each array contains 1000 entries . The following query will cause the problem : `` ` SELECT count ( filter ( arr , x- > false ) ) FROM test_2lev_array `` ` You will then see about 100k LambdaForm classes generated in the form ` LambdaForm $ xxxx.class ` , which are all ( almost ) same , here is one example of the disassemble code
Excessive classes are generated during lambda execution __EoT__ The simplest way I found to the problem is to have a table with a lot of nested arrays ( e.g . ` ARRAY ( ARRAY ( INTEGER ) ) ` : `` ` CREATE TABLE test_100k_rows AS SELECT id as rid FROM ( select sequence ( 1 , 100000 ) AS seq ) tmp CROSS JOIN UNNEST ( seq ) AS t ( id ) CREATE TABLE test_2lev_array AS SELECT transform ( sequence ( 1 , 1000 ) , x- > ARRAY [ x ] ) AS arr FROM test_100k_rows `` ` This will generate an table with 100k rows ( I think 10k rows are also enough ) , each row contains an ` ARRAY < ARRAY < INTEGER > > ` , and each array contains 1000 entries . The following query will cause the problem : `` ` SELECT count ( filter ( arr , x- > false ) ) FROM test_2lev_array `` ` You will then see about 100k LambdaForm classes generated in the form ` LambdaForm $ xxxx.class ` , which are all ( almost ) same , here is one example of the disassemble code
Excessive classes are generated during lambda execution __EoT__ The simplest way I found to the problem is to have a table with a lot of nested arrays ( e.g . ` ARRAY ( ARRAY ( INTEGER ) ) ` : `` ` CREATE TABLE test_100k_rows AS SELECT id as rid FROM ( select sequence ( 1 , 100000 ) AS seq ) tmp CROSS JOIN UNNEST ( seq ) AS t ( id ) CREATE TABLE test_2lev_array AS SELECT transform ( sequence ( 1 , 1000 ) , x- > ARRAY [ x ] ) AS arr FROM test_100k_rows `` ` This will generate an table with 100k rows ( I think 10k rows are also enough ) , each row contains an ` ARRAY < ARRAY < INTEGER > > ` , and each array contains 1000 entries . The following query will cause the problem : `` ` SELECT count ( filter ( arr , x- > false ) ) FROM test_2lev_array `` ` You will then see about 100k LambdaForm classes generated in the form ` LambdaForm $ xxxx.class ` , which are all ( almost ) same , here is one example of the disassemble code
Inadequate representation of temporal types in tests __EoT__ There are 3 places in tests where for the sake of comparisons we convert data to `` common type domain '' : * ` com.facebook.presto.testing.MaterializedResult # toJdbcTypes ` * ` com.facebook.presto.tests.TestingPrestoClient # convertToRowValue ` * ` com.facebook.presto.tests.H2QueryRunner # rowMapper ` However , 1. we use wrong type for ` timestamp with time zone ` : ` java.sql.Timestamp ` ( so we ignore time zone in comparisons ) * we also use wrong ` timestamp with time zone ` literals in H2 ... H2 does n't have ` timestamp with time zone ` literals despite what ` com.facebook.presto.tests.AbstractTestQueries # testAtTimeZone ` has to say about that 2. we use wrong type for ` time with time zone ` : ` java.sql.Time ` ( we we ignore timezone/zone offset in comparisons ) 3. using JDBC type domain as `` common type domain '' in tests , makes us to use ` java.sql . { Date , Time , Timestamp } ` which all extend ` java.util.Date ` and all bear limitations and discomfort related to this class . # # # # Proposal A ( fix ` { time , timestamp } with time
Inadequate representation of temporal types in tests __EoT__ There are 3 places in tests where for the sake of comparisons we convert data to `` common type domain '' : * ` com.facebook.presto.testing.MaterializedResult # toJdbcTypes ` * ` com.facebook.presto.tests.TestingPrestoClient # convertToRowValue ` * ` com.facebook.presto.tests.H2QueryRunner # rowMapper ` However , 1. we use wrong type for ` timestamp with time zone ` : ` java.sql.Timestamp ` ( so we ignore time zone in comparisons ) * we also use wrong ` timestamp with time zone ` literals in H2 ... H2 does n't have ` timestamp with time zone ` literals despite what ` com.facebook.presto.tests.AbstractTestQueries # testAtTimeZone ` has to say about that 2. we use wrong type for ` time with time zone ` : ` java.sql.Time ` ( we we ignore timezone/zone offset in comparisons ) 3. using JDBC type domain as `` common type domain '' in tests , makes us to use ` java.sql . { Date , Time , Timestamp } ` which all extend ` java.util.Date ` and all bear limitations and discomfort related to this class . # # # # Proposal A ( fix ` { time , timestamp } with time
Add current_timezone ( ) function __EoT__
PreparedStatement # close does not deallocate the prepared statement from session __EoT__ Hi Guys , Here are the versions : - OSX ( does the same on my production environment - Ubuntu ) - Presto JDBC Driver/0.206 - Presto CLI 0.206 - Same for presto server - NiFi : stable 1.7.1 # The actual issue I am using NiFi and its [ DBCPConnectionPool ] ( https : //nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-dbcp-service-nar/1.7.1/org.apache.nifi.dbcp.DBCPConnectionPool/index.html ) to query Presto with the JDBC Driver . It works the first few times . But after a while it does n't work anymore and I get the following error on presto side : `` ` tail -f /usr/local/var/presto/data/var/log/server.log 2018-07-23T17:32:11.402+0200 WARN http-worker-520 org.eclipse.jetty.http.HttpParser Header is too large 8193 > 8192 `` ` The first request send to Presto via NiFi ( found it via mitmproxy ) is : `` ` X-Presto-User : micka X-Presto-Source : presto-jdbc X-Presto-Time-Zone : Europe/Paris X-Presto-Language : en-US X-Presto-Transaction-Id : NONE X-Presto-Client-Capabilities : PATH User-Agent : Presto JDBC Driver/0.206 Content-Type : text/plain ; charset=utf-8 Content-Length : 64 Host : 127.0.0.1 Connection : Keep-Alive Accept-Encoding : gzip -- -RAW BODY -- - PREPARE statement1 FROM SELECT * FROM pg.public.csv_test limit 5 `` ` The seconde one is :
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Performance regression for OUTER JOINs __EoT__ Following simple query : `` ` SELECT COUNT ( * ) FROM store_sales s FULL OUTER JOIN web_sales w ON s.ss_item_sk = w.ws_item_sk AND s.ss_sold_date_sk = w.ws_sold_date_sk ; `` ` has slowed down between versions 154 and 157 by the factor of 10 . On 8 nodes cluster it was completing in ~60 seconds now it completes in over 540 seconds , with very low CPU usage ( constant ~20 % of 24 cores ) regardless of the ` task_concurrency ` . It does n't seem to be the problem with hash partitioning ( https : //github.com/prestodb/presto/pull/6864 ) . From profiling it seems like the problem is with ` OuterLookupSource.OuterPositionTracker # positionVisited ` method ( called from ` PartitionedLookupSource # appendTo ` ) in which code spends ~90 % of the time . This code was changed recently by @ dain here https : //github.com/prestodb/presto/commit/4f0f9fae5611bbcb0632798a751adda0d9f40a62 Previous version of ` PartitionedLookupSource ` did n't synchronize ` visitedPositions [ ] [ ] ` array , but ` OuterLookupSource ` did synchronize it . Currently , both are synchronized . From profiling it looks like synchronization/locking prevents query from utilizing more CPU . I did n't have
Performance regression for OUTER JOINs __EoT__ Following simple query : `` ` SELECT COUNT ( * ) FROM store_sales s FULL OUTER JOIN web_sales w ON s.ss_item_sk = w.ws_item_sk AND s.ss_sold_date_sk = w.ws_sold_date_sk ; `` ` has slowed down between versions 154 and 157 by the factor of 10 . On 8 nodes cluster it was completing in ~60 seconds now it completes in over 540 seconds , with very low CPU usage ( constant ~20 % of 24 cores ) regardless of the ` task_concurrency ` . It does n't seem to be the problem with hash partitioning ( https : //github.com/prestodb/presto/pull/6864 ) . From profiling it seems like the problem is with ` OuterLookupSource.OuterPositionTracker # positionVisited ` method ( called from ` PartitionedLookupSource # appendTo ` ) in which code spends ~90 % of the time . This code was changed recently by @ dain here https : //github.com/prestodb/presto/commit/4f0f9fae5611bbcb0632798a751adda0d9f40a62 Previous version of ` PartitionedLookupSource ` did n't synchronize ` visitedPositions [ ] [ ] ` array , but ` OuterLookupSource ` did synchronize it . Currently , both are synchronized . From profiling it looks like synchronization/locking prevents query from utilizing more CPU . I did n't have
Migrate array less_than operator to new framework __EoT__ See https : //github.com/cberner/presto/commit/b0f94c381f61465779f909ed6592dfcd8fdbd01a for an example of how this is done . The code is in ` ArrayLessThanOperator.java `
Document S3 custom credentials providers __EoT__ We should add documentation for # 5667 . Maybe add a section to the Hive connector docs about S3 and add a sub-section for this .
[ StatementResource ] Properly handle exceptions while handling blocks/types __EoT__ See # 4369
Aggregate before join for simple correlated scalar subqueries __EoT__ Correlated scalar subqueries currently get rewritten to a left outer join followed by an aggregation with a grouping on all the columns from the left table , followed by a filter . When the join condition is an equality join condition in conjunctive normal form , we can instead perform the aggregation before the join , and group by the join keys . Example : `` ` SELECT * FROM nation n1 WHERE ( n1.nationkey > ( SELECT avg ( nationkey ) FROM nation n2 WHERE n1.regionkey=n2.regionkey ) `` ` Currently we would do `` ` - Filter ( `` nationkey '' > `` avg '' ) - Aggregate ( Group by : all columns from the left talbe , aggregation : avg ( `` n2.nationkey '' ) ) - LeftJoin ( `` regionkey '' = `` regionkey '' ) - Add unique id ( nation ) - Tablescan ( nation ) - Tablescan ( nation ) `` ` Instead we could aggregate before the join . `` ` - Filter ( `` nationkey '' > `` avg '' ) - LeftJoin ( `` regionkey '' = `` regionkey '' )
Aggregate before join for simple correlated scalar subqueries __EoT__ Correlated scalar subqueries currently get rewritten to a left outer join followed by an aggregation with a grouping on all the columns from the left table , followed by a filter . When the join condition is an equality join condition in conjunctive normal form , we can instead perform the aggregation before the join , and group by the join keys . Example : `` ` SELECT * FROM nation n1 WHERE ( n1.nationkey > ( SELECT avg ( nationkey ) FROM nation n2 WHERE n1.regionkey=n2.regionkey ) `` ` Currently we would do `` ` - Filter ( `` nationkey '' > `` avg '' ) - Aggregate ( Group by : all columns from the left talbe , aggregation : avg ( `` n2.nationkey '' ) ) - LeftJoin ( `` regionkey '' = `` regionkey '' ) - Add unique id ( nation ) - Tablescan ( nation ) - Tablescan ( nation ) `` ` Instead we could aggregate before the join . `` ` - Filter ( `` nationkey '' > `` avg '' ) - LeftJoin ( `` regionkey '' = `` regionkey '' )
Lambda captures do not work with qualified column names __EoT__ This works : `` ` select transform ( ARRAY [ 1 ] , x - > x + a ) from ( values 1 ) u ( a ) ; -- output : 2 `` ` But this does not : `` ` select transform ( ARRAY [ 1 ] , x - > x + u.a ) from ( values 1 ) u ( a ) ; -- line 1:37 : Column 'u ' can not be resolved `` ` FYI : @ martint @ haozhun @ sopel39
DECIMAL not handled in HiveCoercionPolicy __EoT__ HiveCoercionPolicy does not handle DECIMAL at all . This is needed for schema changes to and from decimal types .
NPE `` Value can not be cast to map ( varchar , varchar ) '' __EoT__ `` ` Caused by : com.facebook.presto.spi.PrestoException : Value can not be cast to map ( varchar , varchar ) at com.facebook.presto.operator.scalar.JsonToMapCast.toMap ( JsonToMapCast.java:94 ) at com.facebook.presto. $ gen.PageFilter_10704.filter ( Unknown Source ) at com.facebook.presto. $ gen.PageFilter_10704.filter ( Unknown Source ) at com.facebook.presto.operator.project.DictionaryAwarePageFilter.filter ( DictionaryAwarePageFilter.java:85 ) at com.facebook.presto.operator.project.PageProcessor.process ( PageProcessor.java:80 ) at com.facebook.presto.operator.ScanFilterAndProjectOperator.processPageSource ( ScanFilterAndProjectOperator.java:283 ) at com.facebook.presto.operator.ScanFilterAndProjectOperator.getOutput ( ScanFilterAndProjectOperator.java:229 ) at com.facebook.presto.operator.Driver.processInternal ( Driver.java:303 ) at com.facebook.presto.operator.Driver.lambda $ processFor $ 6 ( Driver.java:234 ) at com.facebook.presto.operator.Driver.tryWithLock ( Driver.java:541 ) at com.facebook.presto.operator.Driver.processFor ( Driver.java:229 ) at com.facebook.presto.execution.SqlTaskExecution $ DriverSplitRunner.processFor ( SqlTaskExecution.java:623 ) at com.facebook.presto.execution.executor.PrioritizedSplitRunner.process ( PrioritizedSplitRunner.java:162 ) at com.facebook.presto.execution.executor.TaskExecutor $ TaskRunner.run ( TaskExecutor.java:463 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:748 ) Caused by : java.lang.NullPointerException : string is null at java.util.Objects.requireNonNull ( Objects.java:228 ) at io.airlift.slice.Slices.copiedBuffer ( Slices.java:289 ) at io.airlift.slice.Slices.utf8Slice ( Slices.java:297 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObjectHelper ( TypeJsonUtils.java:134 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObjectHelper ( TypeJsonUtils.java:109 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObject ( TypeJsonUtils.java:74 ) at com.facebook.presto.operator.scalar.JsonToMapCast.toMap ( JsonToMapCast.java:80 ) ... 16 more
Implement DECIMAL type __EoT__
Getting `` Tried to free more revocable memory than is reserved '' randomly when using spill __EoT__ Presto Version - 0.188 Here is stacktrace for the error . `` ` java.lang.IllegalArgumentException : tried to free more revocable memory than is reserved at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:122 ) at com.facebook.presto.memory.MemoryPool.freeRevocable ( MemoryPool.java:196 ) at com.facebook.presto.memory.QueryContext.freeRevocableMemory ( QueryContext.java:168 ) at com.facebook.presto.operator.TaskContext.freeRevocableMemory ( TaskContext.java:226 ) at com.facebook.presto.operator.PipelineContext.freeRevocableMemory ( PipelineContext.java:274 ) at com.facebook.presto.operator.DriverContext.freeRevocableMemory ( DriverContext.java:254 ) at com.facebook.presto.operator.OperatorContext.freeRevocableMemory ( OperatorContext.java:315 ) at com.facebook.presto.operator.OperatorContext.setRevocableMemoryReservation ( OperatorContext.java:307 ) at com.facebook.presto.operator.HashBuilderOperator.lambda $ close $ 11 ( HashBuilderOperator.java:644 ) at com.google.common.io.Closer.close ( Closer.java:216 ) at com.facebook.presto.operator.HashBuilderOperator.close ( HashBuilderOperator.java:645 ) at com.facebook.presto.operator.HashBuilderOperator.finish ( HashBuilderOperator.java:450 ) at com.facebook.presto.operator.Driver.processInternal ( Driver.java:357 ) at com.facebook.presto.operator.Driver.lambda $ processFor $ 6 ( Driver.java:241 ) at com.facebook.presto.operator.Driver.tryWithLock ( Driver.java:614 ) at com.facebook.presto.operator.Driver.processFor ( Driver.java:235 ) at com.facebook.presto.execution.SqlTaskExecution $ DriverSplitRunner.processFor ( SqlTaskExecution.java:622 ) at com.facebook.presto.execution.executor.PrioritizedSplitRunner.process ( PrioritizedSplitRunner.java:163 ) at com.facebook.presto.execution.executor.LegacyPrioritizedSplitRunner.process ( LegacyPrioritizedSplitRunner.java:23 ) at com.facebook.presto.execution.executor.TaskExecutor $ TaskRunner.run ( TaskExecutor.java:492 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1149 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:624 ) at java.lang.Thread.run ( Thread.java:748 ) `` `
format_datetime/parse_datetime docs incorrectly reference Java 's SimpleDateTimeFormat __EoT__ The documentation for format_datetime indicate the functions use Java 's SimpleDateTimeFormat syntax . In reality , the implementation uses JodaTime 's DateTimeFormat , which supports a different syntax . Java : http : //docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html JodaTime : http : //joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormat.html
AnalyzeAggregations does n't correctly verify lambas __EoT__ `` ` presto : sf1 > select transform ( array [ 0 ] , y - > transform ( array [ 42 ] , y - > x + y ) ) from ( values ( 1,2 ) ) t ( x , y ) group by x+y ; Query 20170331_142639_00008_tdkiy failed : Invalid node . Expression dependencies ( [ field ] ) not in source plan output ( [ expr_6 , $ hashvalue ] ) `` ` I will fix it as part ( or prerequisite ) of https : //github.com/prestodb/presto/pull/7315 since it closely related and I want to avoid conflicts . FYI : @ martint @ haozhun
Avoid unnecessary exchange and partial aggregation in correlated scalar subquery and correlated IN predicate __EoT__ For a correlated scalar subquery like `` ` select name , ( select max ( name ) from region where regionkey = nation.regionkey ) from nation ; `` ` we currently produce the following plan ( i 'm using ` set session push_aggregation_through_join = false ; ` to have the plan more readable ) `` ` - Output [ name , _col1 ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] _col1 : = max - RemoteExchange [ GATHER ] = > name : varchar ( 25 ) , max : varchar ( 25 ) - Project [ ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] x - Aggregate ( FINAL ) [ name , regionkey , unique ] [ $ hashvalue ] = > [ name : varchar ( 25 ) , regionkey : bigint , unique : bigint , $ hashvalue : bigint , max : varchar ( 25 ) ] x max : = `` max '' ( `` max_17 '' ) x
Understanding 2 label concepts __EoT__ I am having 2 problems with my MPAndroidChart 3.0.1 graphs and since I ca n't find the programatically answer I am trying to understand on a concept level how things work so I can try to workout my code . By the way my charts are time series with temperature as Y value and timestamps as X values . Basically this is problem 1 that I do n't understand . When I plot a chart , even if I do n't set ANY xAxis value formatter , I get vertical grid lines that are not equally spaced , and are not exclusively marking my Y values . See : < img width= '' 261 '' alt= '' screen shot 2017-03-03 at 15 18 09 '' src= '' https : //cloud.githubusercontent.com/assets/1178093/23555388/08f74008-0029-11e7-9c4e-de2a27c0f534.png '' > So regarding this issue , my goal was to either have these lines equally spaced representing fixed time periods , OR , ONLY to mark my Y values , AND NOT random spots where I do n't even have a Y value . Then my issue number 2 that I would like to understand conceptually . I have a database with 2 columns
Why does AxisBase.setLabelCount has a maximum value ? And why 25 ? __EoT__ AxisBase.setLabelCount put a maximum of 25 labels . Why this limit ? How has it been decided ? `` ` public void setLabelCount ( int count ) { if ( count > 25 ) count = 25 ; if ( count < 2 ) count = 2 ; mLabelCount = count ; mForceLabels = false ; } `` ` I 'm trying to have only specific labels displayed on xAxis ( one every two points , starting at the second data point ) , so I was going to tell the axis I have 52 labels ( the number of points in my case , from 0 to 51 ) , and then in my custom axisFormatter , return empty string for labels that should not be shown . Is there an easier way ? In other word , I want to specifically tell the graph to show a label for one ( or several ) x points , by deciding which x point ( not having it automatically chosen by the lib ) . thanks
linechart fill incomplete when cubic is set __EoT__ I have a chart with 5 datasets . They are ordered so that filled areas block each other . This works great until I set drawCubic to true . Then all the fills are drawn from 0,0 to the entry point . This works : ! [ screen shot 2014-10-28 at 1 52 58 pm ] ( https : //cloud.githubusercontent.com/assets/1617276/4815044/ef1a5434-5ed3-11e4-8579-dd686bad9dd7.png ) This shows the bug ; ! [ screen shot 2014-10-28 at 1 54 39 pm ] ( https : //cloud.githubusercontent.com/assets/1617276/4815057/ff2c23fc-5ed3-11e4-8009-4dd32dd7f900.png )
X Axis Labels being cut off horizontally __EoT__ I have a line chart with the X Axis position set to BOTTOM . A visual issue occurs where some labels are cut off horizontally . Adding a margin or extra padding does not resolve this issue . I 'm confused at to why the first label appears correctly and the rest do not . It 's worth noting that I 'm using a custom font for the chart level TypeFace . ! [ chartxaxisissue ] ( https : //cloud.githubusercontent.com/assets/3513340/14315104/549a12be-fbf3-11e5-8f1a-5b254d38616d.png ) Using version 2.2.4 Potentially related to Issue # 1484
Why ca n't Override init ( ) to set some attribute ? __EoT__ * I have read all issues . When I override init ( ) to set some attribute like ` setScaleYEnabled ( false ) ; ` ` setDoubleTapToZoomEnabled ( false ) ; ` Its wo n't work ! I have debug this issues , ` mScaleXEnabled=true ` ` mDoubleTapToZoomEnabled = true ` after ` setData ( CombinedData data ) ` . ref : # 2733 # 2511 # 2055
Eliminate GC-induced stuttering during animations by eliminating wasteful allocations __EoT__ I noticed that the Realtime chart demo can stutter due to many repeated and wasteful allocations in sections of code that are called in each update of the data , and it would be great to smooth out the animations and remove stuttering . I 've so far identified , verified , and tested ways to reduce the number of allocations by approximately 70 % and memory consumed by about 30 % , with an attendant improvement in animation quality through various means , such as : 1 . Eliminating the use of convenience iterations in favor of old fashioned iteration . for ( ; ; ) { } instead of for ( Object foo : inSet ) { } 2 . Caching the results of String Formatting and using those cached results when the value in the dataset has not changed 3 . Using field level references to store short-lived instances within methods and re-setting them instead of instantiating a new one eg 1 : instead of instantiating a float [ ] temp = new float [ 2 ] ; inside a method declare the float [ ] as
Option to add checkbox as in system permission dialog __EoT__ Would be useful if we can have the option to add a checkbox like the one in the system permission dialog . This can be used to have options like `` Never ask again '' or `` Save this preference '' .
Animation timing drifts for a long animation ( 233s or more ) __EoT__ I am trying to play long animations with lottie 2.0.0-rc2 . There is a drift of 7s , so the animation ends after 240s instead of 233s . Here the json file that I use : [ lottie-drift.zip ] ( https : //github.com/airbnb/lottie-android/files/1048318/lottie-drift.zip ) I used the lottie sample , and replaced the `` WeAccept '' demo by my json file and my images . I also added some System.currentTimeMillis ( ) logs in the AnimatorListener onAnimationStart and onAnimationEnd methods to measure the drift . Note that I can reproduce the issue with other json files that are similar ( images animation , with a duration of several minutes ) . Let me know if you need more information .
Appintro Animation start progress is not the same on different devices __EoT__ On testing my appIntro animation it works well on my Xiaomi Mi A1 Android Oreo , it starts on the expected progress which is 0.20f shown in [ this screenshot ] ( https : //drive.google.com/open ? id=1-ejQkg19QUGuD2lSytlTuOUAdHuBc0eg ) . But on testing on a Samsung Galaxy S4 Android Lollipop 5.0.1 it starts on a different Progress shown in [ this screenshot ] ( https : //drive.google.com/open ? id=1FQHHv6EEwg9ALC5jbjo3lWNnh9B09Fmo ) , I do n't know the reason for this I tried to Debug to check the progress value that the AnimationView takes on the start and it takes the correct value which is 0.20f . Here is my AppIntro Class code `` ` public class AppIntroActivity extends IntroActivity { private static final float [ ] ANIMATION_TIMES = new float [ ] { 0.20f , 0.60f , 1f , 1f } ; private LottieAnimationView animationView ; private LockableViewPager viewPager ; @ Override protected Collection < ? extends Fragment > generatePages ( Bundle savedInstanceState ) { return new ArrayList < EmptyFragment > ( ) { { add ( EmptyFragment.newInstance ( ) ) ; add ( EmptyFragment.newInstance ( ) ) ; add
OutOfMemoryError when loading a ludicrously huge JSON animation on a Galaxy S3 __EoT__ JSON is 1.5 MB uncompressed , 94 KB zipped . Lottie should probably switch from JSON to Flatbuffers . I 'll open a separate issue for that .
Letters disappears on changing the screen orientation in FontActivity of Sample App __EoT__ Currently when the screen orientation is changed then the letters written disappears . Expected that letters should not disappears on changing the orientation . : )
Create a pluggable JSON parsing module __EoT__ Ideally there would be 2 ( or n ) optional json parsing modules . 1 would use raw json objects so there would be no transitive dependencies The other would use jackson or another more performant json parsing library .
setProgress going to wrong frame when startFrame > 0 __EoT__ This is happening after # 624. https : //github.com/airbnb/lottie-android/blob/05df617dc2c1656b0db2dc5f24f2bde0eb4c2c8c/lottie/src/main/java/com/airbnb/lottie/LottieDrawable.java # L514is not considering the startFrame .
Improve the performance of mattes and masks __EoT__ This seems to be an issue that 's relegated to Android playback of JSON files that is n't reproducible on iOS . When using track mattes from After Effects , frame rates just plummet . Not sure what exactly is going on , but wondering if anybody else has seen same issues .
Improve the performance of mattes and masks __EoT__ This seems to be an issue that 's relegated to Android playback of JSON files that is n't reproducible on iOS . When using track mattes from After Effects , frame rates just plummet . Not sure what exactly is going on , but wondering if anybody else has seen same issues .
Animation max size __EoT__ I have animation with following spec : `` ` `` v '' : `` 4.5.6 '' , `` fr '' : 25 , `` ip '' : 0 , `` op '' : 38 , `` w '' : 360 , `` h '' : 146 , `` ddd '' : 0 , ... ... . `` ` I want to achieve behavior when animation view fits on screen width . If i set to LottieAnimationView layout_width= '' match_parent '' and layout_height= '' wrap_content '' i faced with following issue on phones : if phone 's width is 1440px ( samsung s7 ) , animation viewport width is 1000px because of LottieComposition MAX_PIXELS = 1000 constraint . So i got space between animation and screen edge . I solved this issue by dynamically changing view height to proper value : `` ` DisplayMetrics displayMetrics = getResources ( ) .getDisplayMetrics ( ) ; float dpWidth = displayMetrics.widthPixels / displayMetrics.density ; float dpHeight = displayMetrics.heightPixels / displayMetrics.density ; mLottieAnimationView.getLayoutParams ( ) .height = ( int ) ( displayMetrics.density * 146f / ( 360f / dpWidth ) ) ; `` ` After applying new height on view , animation
Improve the keyframe value caching __EoT__ https : //github.com/airbnb/lottie-android/commit/d5f141dbbe6c7e1ab90e7ca94bb0b38af561fec5 does n't work . Investigate .
Improve the keyframe value caching __EoT__ https : //github.com/airbnb/lottie-android/commit/d5f141dbbe6c7e1ab90e7ca94bb0b38af561fec5 does n't work . Investigate .
Animation not being chained properly since 2.2.2 __EoT__ On every version since 2.2.2 included , I see my animations not being chained properly . Here is a gif of the chained animation working on 2.2.1 ( see the little robot at the bottom of the screen ) : ! [ good ] ( https : //user-images.githubusercontent.com/14746791/31183410-ca5e0e7e-a926-11e7-9d1f-cc5824d8e396.gif ) it is made of 2 compositions that are chained following user 's actions : ( 1 ) - > When the user scroll away from the top of the RecyclerView : the robot scales down and goes gray ( 2 ) - > When the user scrolls back to top of the RecyclerView : the robot scales up and goes colorful ( 3 ) - > When user clicks on the robot : the robot 's helmet smoothly transition from a face to a cross The logic of chaining the animation goes like this : - Whenever the user enter a different state ( scrolled away from the top , clicked the robot ... ) : - If no animation are running , I launch an animation to go to that state - Else , I save the different state - At the
Scaling Issues with Matte Layer __EoT__ It seems that the presence of a matte layer causes incorrect scaling . There was an issue with this in release 2.1.0 and now there seems to be a different issue in 2.1.2 . The attached zip contains a document and JSON that describe the behavior . [ Android Scaling Issues With Matte Layer.zip ] ( https : //github.com/airbnb/lottie-android/files/1192946/Android.Scaling.Issues.With.Matte.Layer.zip )
Frame Drop __EoT__ @ gpeal My animations are dropped frame . Currently I have an onboarding screen in which it has four 4 , each with an animation . *Pixel 1 - Android Oreo *Lottie 2.5.0 [ raw.zip.zip ] ( https : //github.com/airbnb/lottie-android/files/1749837/raw.zip.zip )
When I used the version of 2.2.5.I could n't get the com.android.support : appcompat-v7:26.1.0 ? __EoT__ Error : Failed to resolve : com.android.support : appcompat-v7:26.1.0 Install Repository and sync project
setMinAndMaxFrame may be off by one frame for the min value __EoT__ i found that when i had to update the ` playAnimation ` call - previously we could pass a frame range , now to effect the same i needed to ` setMinAndMaxFrame ` before calling ` playAnimation ` , here i note that i was needing to add +1 to the min frame value . could this also need the same fix you had implemented for set/get frames ? Thanks , Shyam
Backspace in iOS with non-continuous rendering issue . __EoT__ Sort of specific , but I suppose it is a bug . This only happens on iOS with **Gdx.graphics.setContinuousRendering ( false ) ** . Typing in a TextField works , but backspace does n't **appear** to change the text ( no rendering occurs I suppose ) until the user goes to type something , which at that point the TextField refreshes to show what was backspaced . This can be re-created easily with the TextAreaTest , just set it to non-continuous rendering . As a gag , I extended the TextField class with this code : `` ` @ Override protected InputListener createInputListener ( ) { return new TextFieldClickListener ( ) { @ Override public boolean keyTyped ( InputEvent event , char character ) { if ( super.keyTyped ( event , character ) == true ) { Gdx.graphics.requestRendering ( ) ; return true ; } return false ; } } ; } `` ` It does fix the issue , but it 's obviously a bit hacky .
Distance Field Font renders certain characters with improper padding __EoT__ # # # # Issue details When rendering text on screen using Distance Field Fonts as described in the tutorial , some letters have the wrong padding . I tried this with multiple fonts and they all had this problem . The last one I tried was Arial Black with the same settings in Hiero as described in this tutorial : [ https : //github.com/libgdx/libgdx/wiki/Distance-field-fonts ] ( https : //github.com/libgdx/libgdx/wiki/Distance-field-fonts ) I noticed the problem always seemed to be with the same letters , like with the letter 'j ' in this case ! [ 6e03375d772b45e243484ccb470a10e2 ] ( https : //cloud.githubusercontent.com/assets/15983269/15627771/4e6147c8-24f7-11e6-9ce0-957ba645e51f.png ) As you can see , the first 'i ' after the 'j ' is too close . I tried this again with another font ( `` Roboto '' ) and it still had the same problem with the same settings . Note that this problem persisted regardless of my settings or my font . ! [ 524f56d475893268c3385e2572cda93e ] ( https : //cloud.githubusercontent.com/assets/15983269/15627781/aa5fc77a-24f7-11e6-9c91-fba943575bd5.png ) # # # # Reproduction steps/code Here is the code I used . This code was compiled using IntelliJ and Gradle , with LibGDX version
Lwjgl backend does n't support OpenGL ES 3.2+ __EoT__ Creating a LwjglApplication with useGL30 set to true still does n't create an OpenGL ES 3 context . Additionally , Gdx.gl30 is null . The issue seems to be [ here ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L166 ) . context should be passed in to Display.create along with the PixelFormat . [ This line ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L241 ) should also check whether the major version is 3 and set gl30 accordingly .
Support Immutable Color __EoT__ We are running into an issue where a static Color stored in the Colors map is being changed - so that the shared Color used across the game changes also . ( i.e `` BLACK '' was changed to no longer be black ) While we 've fixed the cause of this , it is n't possible currently to make a Color object that enforces this . The ` r ` ` g ` ` b ` values are public , which means there is no easy way to subclass Color to make an `` UnchangeableColor '' class . There are hundreds of direct references to these public variables in the libGDX codebase . Here 's what i 'd propose : 1 . Replace the ` public float r , g , b , a ` with getters and setters . 2 . Create an unchangeable Color class that is only set in the constructor and use it for colors like `` BLACK '' and `` RED '' which should never be accidentally changed , and optionally for any unchangable colors that a game wants to add to the Colors map . Thoughts ?
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
Intersector.intersectRayTriangle failures ( again ) __EoT__ I have found another issue with intersectRayTriangle . How to reproduce : `` ` java Vector3 t1 = new Vector3 ( 90.0f , -150.0f , 1077.0f ) ; Vector3 t2 = new Vector3 ( 90.0f , -120.0f , 1109.0f ) ; Vector3 t3 = new Vector3 ( 120.0f , -150.0f , 1076.0f ) ; Ray ray = new Ray ( new Vector3 ( 90.0f , -150.0f , 1077.1f ) , new Vector3 ( -0.0f , 0.99503726f , 0.099503726f ) ) ; System.out.println ( Intersector.intersectRayTriangle ( ray , t1 , t2 , t3 , null ) ; // error : print false `` ` It 's not obvious there is an intersection , but it is at : [ 90.0 , -149.89658 , 1077.1104 ] Suggested fix ( adapted from the [ Möller-Trumbore algorithm ] ( http : //www.cs.virginia.edu/~gfx/Courses/2003/ImageSynthesis/papers/Acceleration/Fast % 20MinimumStorage % 20RayTriangle % 20Intersection.pdf ) ) : `` ` java private static final float epsilon = 0.00001f ; public static boolean intersectRayTriangle ( Ray ray , Vector3 t1 , Vector3 t2 , Vector3 t3 , Vector3 intersection ) { Vector3 edge1 = v0.set ( t2 ) .sub ( t1 ) ; Vector3 edge2 =
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
`` unknown error 36059 '' when instantiating FrameBufferCubemap __EoT__ When attempting to construct a simple FrameBufferCubemap on OS/X Yosemite ( 10.10.5 ) , using LibGDX 1.9.4 stable on the LWJGL/Desktop backend , I 'm getting the error below . I have not attempted to reproduce on other platforms . OpenGL appears to return an error status from ` glCheckFramebufferStatus ` if it 's queried before ` glBindFramebuffer ` . In the current state of GLFrameBuffer the status is queried before the FB bind , resulting in an error code . This appears to be regression on https : //github.com/libgdx/libgdx/issues/3227 . See also the original fix commit at : https : //github.com/libgdx/libgdx/pull/3233 . Stack trace : `` ` Exception in thread `` LWJGL Application '' java.lang.IllegalStateException : frame buffer could n't be constructed : unknown error 36059 at com.badlogic.gdx.graphics.glutils.GLFrameBuffer.build ( GLFrameBuffer.java:230 ) at com.badlogic.gdx.graphics.glutils.GLFrameBuffer. < init > ( GLFrameBuffer.java:118 ) at com.badlogic.gdx.graphics.glutils.FrameBufferCubemap. < init > ( FrameBufferCubemap.java:88 ) at com.badlogic.gdx.graphics.glutils.FrameBufferCubemap. < init > ( FrameBufferCubemap.java:75 ) at xyz.jmullin.fbcube.error.desktop.FbCubeError.create ( FbCubeError.java:11 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop ( LwjglApplication.java:147 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication $ 1.run ( LwjglApplication.java:124 ) `` ` Minimal application to reproduce : `` ` import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx . * ; import
JSON improvements : # toString and # name ( ) __EoT__ Hi , # # # # Problem : it seems that this commit : https : //github.com/libgdx/libgdx/commit/72c9d62cfb9810459a1de85f3101f1a3cb6f7213 changed JSON to use Enums # name ( ) instead of Enums # toString ( ) and this broke our tests and build . # # # # Use case : Having the following autogenerated java class : `` ` java /** * Simple object for storing information about the current release of the ead2 editor . This release.json file should be generated automatically on each release . * */ @ Generated ( `` org.jsonschema2pojo '' ) public class ReleaseInfo { /** * Name of the application . Used mostly in tracking * */ private String appName ; /** * The release version given as three numbers separated by dots ( e.g . 2.0.0 ) * */ private String appVersion = `` 0.0.0 '' ; /** * The release flavour . For explanations on canary , beta and stable , see the wiki * */ private ReleaseInfo.ReleaseType releaseType ; /** * true if this is a dev working copy , not an actual release . If true , the update system is
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
VerticalGroup ignores Width of children __EoT__ Put a TextField into an VerticalGroup and the TextField will be drawn with a width of 150px regardless of its set width ( eg . 300px ) , even if the VerticalGroups width is set much higher ( eg . 500px ) . Put the TextField instead directly onto the stage and it will be drawn with the correct size . I used setWidth ( ... ) to set the width of each actor .
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
A clean test app wo n't launch due to LwjglGraphics.createDisplayPixelFormat error __EoT__ I just installed created a fresh libgdx application via the generator found on the official web site . I left practically all things at default . Once generated , I imported the project in eclipse using Gradle ( as explained in the official procedure ) . Upon trying to launch my application on desktop , I get the following error : Exception in thread `` LWJGL Application '' java.lang.NullPointerException at com.badlogic.gdx.backends.lwjgl.LwjglGraphics.createDisplayPixelFormat ( LwjglGraphics.java:322 ) at com.badlogic.gdx.backends.lwjgl.LwjglGraphics.setupDisplay ( LwjglGraphics.java:216 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop ( LwjglApplication.java:142 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication $ 1.run ( LwjglApplication.java:124 ) Under `` Project and External Dependencies '' I can see it links to libgdx 1.9.4 and lwjgl 2.9.2 ( by the way , why is n't libgdx using lwjgl 2.9.3 , which is the latest version ? ) and some other non-important stuff . Note that this is a fresh project generated by the `` Libgdx Project Generator '' - I have n't modified a thing ! I 'm running Windows 10 on HP Elitebook 8560p ( it 's a laptop ) and it has Intel HD Graphics 3000 ( which is Microsoft DirectX 10.1 ( Shader
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
LWJGL3 backend expose window hint auto_iconify __EoT__ I am trying to have multiple fullscreen windows on multiple displays . In GLFW , it seems the default behavior for fullscreen windows is to minimize itself when input focus is lost , for instance by clicking on another monitor 's desktop . Which breaks the ability to have multiple fullscreen windows ? GLFW documentation shows a window hint to disable this behavior : GLFW_AUTO_ICONIFY Would it be possible to add a parameter to lwjgl3 application configuration to expose this ?
Intersector duplicating vertices when overlapping polygon __EoT__ Intersector : ` public static boolean intersectPolygons ( Polygon p1 , Polygon p2 , Polygon overlap ) ` method is working presumably faulty for a specific scenario when intersecting polygons have exactly intersecting vertices , as a result this vertices get duplicated . Here is an example : ! [ polytestdiag ] ( https : //cloud.githubusercontent.com/assets/2115888/12695409/b3a08cbe-c766-11e5-8f26-125b3b726409.png ) The resulting overlap polygon has A and B vertices duplicated , resulting in a 10 size array of floats .
Fix for getPosition ( ) on OpenALMusic __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details After trying to sync some music on desktop , I found out that music.getPosition ( ) does not always return accurate values . This is due to the field `` renderedSeconds '' being set to 0 once there is n't data to be put on one of the buffer , even with the other two buffers still not processed . # # # # Reproduction steps/code The music being used for this example was .wav , 10s long , 16bit , 44100Hz , mono -- > 10s_2bytes_44100Hz = 882000 bytes of music . It was set to loop and , on the first loop , the method music.getPosition ( ) did not go all the way to 10s , instead only went to 9.287981859s before going back to 0 , and here is why : The class OpenALMusic uses three byte buffers of maximum size 40960 bytes each to transfer data to the audio device . In this example it is needed 21 buffers of size 40960 bytes and 1 of size
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
TextArea assumes Raw Array is bigger than FloatArray __EoT__ # # # # Issue details During development and debugging a different issue ( on my my side ) I came across the following issue : The TextArea class assumes that the raw backing array of FloatArray is bigger than the actual used data . When filling the text area with x amount of characters the letterUnderCursor method ( TextArea:90 ) will cause an ArrayOutOfBoundsException because of this . ( this method wrongly assumes the backing array is bigger ) . # # # # Reproduction steps/code Compile and run the code below ; then click just anywhere on the right side of the text ( but inside the text area ) . This will cause the TextArea to throw a ArrayIndexOutOfBoundsException . Note : The code snippet below is based upon the TextAreaTest class ( in gidx-tests ) . `` ` java /******************************************************************************* * Copyright 2011 See AUTHORS file . * * Licensed under the Apache License , Version 2.0 ( the `` License '' ) ; * you may not use this file except in compliance with the License . * You may obtain a copy of the License
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
LWJGL3 - Windows Only - glViewport must now be called by user after any resize . __EoT__ # # # Description When using LWJGL3 on Windows , when the window is resized , the application must call ` glViewport ( ) ` in order to be able to access the new screen size . # # # Modified Example App To see the problem , resize the app on Windows . Make the window wider than it was . EXPECTED : The logo fills the window : ACTUAL : There is a red bar at the right edge of the window . Then recompile with the glViewport ( ) line commented in , and see that it behaves as expected . gradle : `` ` project ( `` : desktop '' ) { apply plugin : `` java '' dependencies { compile project ( `` : core '' ) compile `` com.badlogicgames.gdx : gdx-backend-lwjgl3 : $ gdxVersion '' compile `` com.badlogicgames.gdx : gdx-platform : $ gdxVersion : natives-desktop '' } } `` ` Launcher : `` ` public class DesktopLauncher { public static void main ( String [ ] arg ) { Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration ( ) ;
Tiled map tiles objects support __EoT__ Tiled tiles collision objects support request http : //doc.mapeditor.org/reference/tmx-changelog/ # tiled-010 LibGDX 1.9.5 *.tmx file fragment sample with emded tileset based on image collestion : `` ` < tileset > < tile id= '' 14 '' > < image/ > < objectgroup draworder= '' index '' > < object id= '' 1 '' x= '' 0 '' y= '' 0 '' width= '' 256 '' height= '' 210 '' / > < ! -- rectangle -- > < /objectgroup > < /tile > < /tileset > `` ` *.tsx file fragment sample to tilemap with tileset in source based on tileset image : `` ` < tileset > < image source= '' ... '' / > < tile id= '' 34 '' > < objectgroup draworder= '' index '' > < object id= '' 1 '' x= '' 25 '' y= '' 34 '' width= '' 102 '' height= '' 26 '' / > < ! -- rectangle -- > < object id= '' 2 '' x= '' 35 '' y= '' 105 '' width= '' 95 '' height= '' 27 '' > < ellipse/ > < /object > < object id= '' 3
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Usage of controllers in non continous rendering __EoT__ # # # # Issue details My application uses LibGDX in non continuous rendering , with deployment to desktop targets using the LWJGL3 backend . The problem I 'm encountering at the moment is that the ` Lwjgl3ControllerManager ` polls the controller by constantly posting runnables , which triggers the application to redraw immediately , thus moving the application back to continuous rendering . I have a couple of different workarounds in mind , but was curious if any of them would be acceptable to be merged back , or if I should just interact with the GLFW controllers directly in my code . 1 . Add a static function to Controllers and pass it to each backend when instantiated to indicate if it should be continuously polled or not . The signficiant downside to this is that it 's a lot of noise/change to the other back ends for a feature they wo n't implement . 1 . Add a static function to ` Lwjgl3ControllerManager ` to indicate if it should be continously polled or not . Then make ` Lwjgl3ControllerManager.pollState ( ) ` a public funcation , and add a
[ iOS RoboVM ] System Gestures overriding app gestures at edges on iOS11 __EoT__ # # # # Issue details iOS 11 changed the way apps had to override system gestures ( for example a swipe from the bottom up to display the Control Center ) so that they do n't get over the app . Before iOS11 , it was just enough hiding the Status Bar but now it 's also required to override ` UIViewController # preferredScreenEdgesDeferringSystemGestures ` . This article explains the issue in detail : https : //useyourloaf.com/blog/avoiding-conflicts-with-system-gestures-at-screen-edges/ System gestures taking priority over app gestures may cause several undesired behaviour that not only affect swipe gestures but also simple taps the edge of the screen area ( which are delayed until the system resolves what the user is trying to do making it less responsive ) # # # # Reproduction steps/code Open a RoboVM libGDX app on iOS 11 that has the status bar hidden and do a swipe gesture from the bottom edge of the screen . The whole Control Center appears instead of just `` an arrow '' . # # # # Version of LibGDX and/or relevant dependencies 1.9.8 **NOTE** : It
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
selector drawable support ? __EoT__
Bitmap too large to be uploaded into a texture error __EoT__ Whenever i load high quality photos and zoom the photos . I am getting Bitmap too large to be uploaded into a texture error and the image view background is hidden . After that only the blank image view is being shown .
还是引用的问题 __EoT__ JSON如下 , `` $ ref '' : `` $ [ 0 ] .dataType '' 为空 , `` version '' : { `` $ ref '' : `` $ [ 0 ] .version '' } 为空 `` ` [ { '' dataType '' : { `` categoryType '' : { `` dataTypes '' : [ { `` $ ref '' : `` $ [ 0 ] .dataType '' } , { `` categoryType '' : { `` $ ref '' : `` $ [ 0 ] .dataType.categoryType '' } , `` id '' : 6 } , { `` categoryType '' : { `` $ ref '' : `` $ [ 0 ] .dataType.categoryType '' } , `` id '' : 7 } , { `` categoryType '' : { `` $ ref '' : `` $ [ 0 ] .dataType.categoryType '' } , `` id '' : 51 } ] } } , '' type '' : { `` $ ref '' : `` $ [ 0 ] .dataType.categoryType '' } , '' version '' : { `` available '' : true , `` id '' : 6001 } } , { '' dataType '' : { ``
sqlserver 的 url 怎么无法识别 __EoT__ sqlserver 2005 之后的 url 可以直接写 jdbc : sqlsever 了，但是 druid 1.0.6版本识别有问题，查了下源码，在 JdbcUtils.java 中的 getDriverClassName ( ) 和 getDbType ( ) 中对 rawUrl 的分析不一致，前者处理了 `` jdbc : sqlserver : '' ，而后者没有处理，这是怎么回事呢？另外后者方法签名里的参数 ” String driverClassName “ 是做什么用的？
sqlserver 的 url 怎么无法识别 __EoT__ sqlserver 2005 之后的 url 可以直接写 jdbc : sqlsever 了，但是 druid 1.0.6版本识别有问题，查了下源码，在 JdbcUtils.java 中的 getDriverClassName ( ) 和 getDbType ( ) 中对 rawUrl 的分析不一致，前者处理了 `` jdbc : sqlserver : '' ，而后者没有处理，这是怎么回事呢？另外后者方法签名里的参数 ” String driverClassName “ 是做什么用的？
GitHub links do n't offer the app from K9 Mail __EoT__ When I receive a notification email from GitHub and tap on the link to `` View this on GitHub '' , I get a list of browsers as a choice , but not the GitHub app . However , if I tap and hold on the link , then choose Open Link , I now have a choice of apps including the GitHub app . Maybe a bug in K9 Mail or could it be in the GitHub app ?
Integrate with Google 's Navigation Drawer __EoT__ http : //developer.android.com/training/implementing-navigation/nav-drawer.html
Integrate with Google 's Navigation Drawer __EoT__ http : //developer.android.com/training/implementing-navigation/nav-drawer.html
Crash in gist 's `` all tab '' , NullPointerException __EoT__ Commit 7bee3b232c876db7c9f80a753079b690b4db8927 ! [ git ] ( http : //7tsy92.com1.z0.glb.clouddn.com/commit_7bee3b232c876db7c9f80a753079b690b4db8927.gif ) Log message : `` ` brash 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : FATAL EXCEPTION : main 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : Process : com.github.mobile , PID : 2054 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : java.lang.NullPointerException : Attempt to invoke virtual method 'java.lang.String org.eclipse.egit.github.core.User.getAvatarUrl ( ) ' on a null object reference 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.util.AvatarLoader.getAvatarUrl ( AvatarLoader.java:200 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.util.AvatarLoader.bind ( AvatarLoader.java:159 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.ui.gist.GistListAdapter.update ( GistListAdapter.java:91 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.ui.gist.GistListAdapter.update ( GistListAdapter.java:37 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.kevinsawicki.wishlist.SingleTypeAdapter.update ( SingleTypeAdapter.java:164 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.kevinsawicki.wishlist.SingleTypeAdapter.getView ( SingleTypeAdapter.java:180 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.HeaderViewListAdapter.getView ( HeaderViewListAdapter.java:220 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.AbsListView.obtainView ( AbsListView.java:2344 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.ListView.makeAndAddView ( ListView.java:1864 ) 04-16 08:27:14.040 :
Not possible to override headers __EoT__ The **header ( String header , String value ) ** method only adds headers ( contrary to what the javadoc states ) `` ` response.header ( `` X-Frame-Options '' , `` DENY '' ) ; response.header ( `` X-Frame-Options '' , `` SAMEORIGIN '' ) ; //X-Frame-Options is now `` DENY , SAMEORIGIN '' `` ` I suggest setHeader and addHeader . **Current workaround** ` response.raw ( ) .setHeader ( `` X-Frame-Options '' , `` SAMEORIGIN '' ) ; `
Where Can I Report Security Vulnerability ? __EoT__ HI , I found a vulnerability and followed the [ steps ] ( http : //sparkjava.com/news # vulnerability ) , and sent mail to people on [ this page ] ( http : //sparkjava.com/contact ) . But seems one of these mail addresses are not exists and there are no reply for 3 days . Could you check the mail box ? Thanks !
Enable custom error pages , when deploy Sparkjava embedded by ( Jetty ) __EoT__ - Can not config custom error pages when deploy SparkJava embedded by Jetty - Description : Jetty 9 config - contextPath = `` / '' - jetty base folder ... ... ./webapps/ ... ... ... ... ... ./WEB-INF/ ... ... ... ... ... ./WEB-INF/lib/ ... ... ... ... ... ./WEB-INF/web.xml ... ... ... ... ... ./errors/ ... ... ... ... ... ... ... ... ... /404.html ... ... ... ... ... ... ... ... ... /500.html - web.xml setting custom errors `` ` xml < error-page > < error-code > 404 < /error-code > < location > /errors/404.html < /location > < /error-page > `` ` When access /not_exists , current 404 error page return by Sparkjava embedded by Jetty is : `` ` code HTTP ERROR 404 Problem accessing /errors/404.html . Reason : Not Found Powered by Jetty : // `` ` # # Expectation Url should redirect from : /not_exists to /errors/404.html
Need a finally ( ) or around ( ) filter to do proper transactions __EoT__ Currently it is not possible to do a reliable transaction filter with Spark . The problem : after ( ) runs only on successful requests exception ( ) runs only the filter with matching exception , i.e . it is not possible to register another 'global ' exception handler that would run on any error Some filters need to always run after the original route handler , no matter was it successful or not . This is needed for cleanup-type tasks , e.g . close a transaction , or logging of execution times , etc . It would be nice to have a Spark.finally ( ) or similar that would ensure that this filter will be run anyway , after both successful and failing requests . Another option would be to add a Spark.around ( ) filter that will work similarly to java.servlet.Filter in wrapping and delegating the original call , e.g . `` ` java Spark.around ( ( req , res , route ) - > { try { startSomething ( ) ; return route.handle ( req , res ) ; } finally {
Allow ` null ` /empty response body __EoT__ For example : `` ` groovy post ( `` /accounts '' , { req , res - > res.status ( 201 ) } ) `` ` Currently this fails with as a 404 . ` INFO spark.webserver.MatcherFilter - The requested route [ /accounts ] has not been mapped in Spark ` In MatcherFilter.java:227 , ` bodyContent == null ` is not enough to indicate the request has n't been consumed . `` ` boolean consumed = bodyContent ! = null ; if ( ! consumed & & hasOtherHandlers ) { throw new NotConsumedException ( ) ; } if ( ! consumed & & ! isServletContext ) { LOG.info ( `` The requested route [ `` + uri + `` ] has not been mapped in Spark '' ) ; httpResponse.setStatus ( HttpServletResponse.SC_NOT_FOUND ) ; bodyContent = String.format ( NOT_FOUND ) ; consumed = true ; } `` `
Allow ` null ` /empty response body __EoT__ For example : `` ` groovy post ( `` /accounts '' , { req , res - > res.status ( 201 ) } ) `` ` Currently this fails with as a 404 . ` INFO spark.webserver.MatcherFilter - The requested route [ /accounts ] has not been mapped in Spark ` In MatcherFilter.java:227 , ` bodyContent == null ` is not enough to indicate the request has n't been consumed . `` ` boolean consumed = bodyContent ! = null ; if ( ! consumed & & hasOtherHandlers ) { throw new NotConsumedException ( ) ; } if ( ! consumed & & ! isServletContext ) { LOG.info ( `` The requested route [ `` + uri + `` ] has not been mapped in Spark '' ) ; httpResponse.setStatus ( HttpServletResponse.SC_NOT_FOUND ) ; bodyContent = String.format ( NOT_FOUND ) ; consumed = true ; } `` `
bad file descriptor when started with `` nohup '' __EoT__ Hi , I 've normally run my jetty based applications with `` nohup '' so they stay started even when I 'm logged out . However , with Spark it 's not possible : `` ` java.io.IOException : Bad file descriptor at java.io.FileInputStream.readBytes ( Native Method ) at java.io.FileInputStream.read ( FileInputStream.java:236 ) at java.io.BufferedInputStream.fill ( BufferedInputStream.java:235 ) at java.io.BufferedInputStream.read ( BufferedInputStream.java:254 ) at spark.webserver.SparkServerImpl.ignite ( SparkServerImpl.java:65 ) at spark.Spark $ 1.run ( Spark.java:176 ) at java.lang.Thread.run ( Thread.java:636 ) `` ` I guess it want to something with stdin which is not available _then_ which is why it fails . I do n't know any other easy way of demonizing it right now .
Mime-type differences between 2.5 and 2.5.1 __EoT__ [ This is original description is in error - the bug is not before ( ) /mime-type handling related ] My HTML in static resources does n't end in .html . I 'm adding that with a filter . `` ` public static void main ( String [ ] args ) { staticFiles.location ( `` / '' ) ; // `` foo '' - a html file is in there . before ( `` / '' , ( request , response ) - > { response.type ( `` text/html '' ) ; // `` foo '' gets its html mime type } ) ; } `` ` Was working fine in 2.5 . **Is not working in 2.5.1** I 've looked at https : //github.com/perwendel/spark/compare/2.5 ... 2.5.1 and can not see what broke it .
Mime-type differences between 2.5 and 2.5.1 __EoT__ [ This is original description is in error - the bug is not before ( ) /mime-type handling related ] My HTML in static resources does n't end in .html . I 'm adding that with a filter . `` ` public static void main ( String [ ] args ) { staticFiles.location ( `` / '' ) ; // `` foo '' - a html file is in there . before ( `` / '' , ( request , response ) - > { response.type ( `` text/html '' ) ; // `` foo '' gets its html mime type } ) ; } `` ` Was working fine in 2.5 . **Is not working in 2.5.1** I 've looked at https : //github.com/perwendel/spark/compare/2.5 ... 2.5.1 and can not see what broke it .
Mime-type differences between 2.5 and 2.5.1 __EoT__ [ This is original description is in error - the bug is not before ( ) /mime-type handling related ] My HTML in static resources does n't end in .html . I 'm adding that with a filter . `` ` public static void main ( String [ ] args ) { staticFiles.location ( `` / '' ) ; // `` foo '' - a html file is in there . before ( `` / '' , ( request , response ) - > { response.type ( `` text/html '' ) ; // `` foo '' gets its html mime type } ) ; } `` ` Was working fine in 2.5 . **Is not working in 2.5.1** I 've looked at https : //github.com/perwendel/spark/compare/2.5 ... 2.5.1 and can not see what broke it .
Tests fail if port 4567 is in use __EoT__ Not sure if this is a bug , but we should probably use a random open port for tests . Or at least not 4567 .
Demo-App : Many deprecated methods are used __EoT__ Example : - DepthAnimation
Demo-App : Many deprecated methods are used __EoT__ Example : - DepthAnimation
Demo-App : Many deprecated methods are used __EoT__ Example : - DepthAnimation
Changelog for AppIntro v4.1.0 __EoT__ ( Ignoring issue template because it does n't apply to this issue . ) It would be awesome if we could get a full changelog going with credits and everything . I think @ maxee has made some big changes , but there have also been some other people as well . If we can track them down and formulate a good changelog , that would help @ PaoloRotolo out a lot . Thanks guys !
Changelog for AppIntro v4.1.0 __EoT__ ( Ignoring issue template because it does n't apply to this issue . ) It would be awesome if we could get a full changelog going with credits and everything . I think @ maxee has made some big changes , but there have also been some other people as well . If we can track them down and formulate a good changelog , that would help @ PaoloRotolo out a lot . Thanks guys !
Custom Typefaces Ignored __EoT__ < ! -- Please fill in the below fields with some data to help us best diagnose the issue . The more specific you are , the better ! You can help a lot by not making us ask these questions . Feel free to remove any irrelevant parts that you know are not related to the issue . Any HTML comment like this will be stripped when rendering markdown , no need to delete them . If an issue does not have the following template filled out , it will be closed without discussion . -- > < ! -- What version of AppIntro you 're running , for example : 4.1.0 | 4.0.0 It 's essentially the version number from your build.gradle : ` dependencies { compile ' ... : x.y.z ' } ` -- > **AppIntro Version** : 4.1.0 < ! -- What devices you managed to get the issue to come up on ? For example : fails on Galaxy S4/GT-I9500 4.4.2 , works fine on Nexus 6P 5.1 and Genymotion Nexus 5 5.0.1 -- > **Device/Android Version** : Xiaomi Mi Max ( Android Marshmallow ) < ! -- Share the details
Custom Typefaces Ignored __EoT__ < ! -- Please fill in the below fields with some data to help us best diagnose the issue . The more specific you are , the better ! You can help a lot by not making us ask these questions . Feel free to remove any irrelevant parts that you know are not related to the issue . Any HTML comment like this will be stripped when rendering markdown , no need to delete them . If an issue does not have the following template filled out , it will be closed without discussion . -- > < ! -- What version of AppIntro you 're running , for example : 4.1.0 | 4.0.0 It 's essentially the version number from your build.gradle : ` dependencies { compile ' ... : x.y.z ' } ` -- > **AppIntro Version** : 4.1.0 < ! -- What devices you managed to get the issue to come up on ? For example : fails on Galaxy S4/GT-I9500 4.4.2 , works fine on Nexus 6P 5.1 and Genymotion Nexus 5 5.0.1 -- > **Device/Android Version** : Xiaomi Mi Max ( Android Marshmallow ) < ! -- Share the details
setting typeface isnt working . __EoT__ < ! -- Please fill in the below fields with some data to help us best diagnose the issue . The more specific you are , the better ! You can help a lot by not making us ask these questions . Any HTML comment like this will be stripped when rendering markdown , no need to delete them . If an issue does not have the following template filled out , it will be closed without discussion . -- > < ! -- What version of AppIntro you 're running , for example : 4.1.0 | 4.0.0 It 's essentially the version number from your build.gradle : ` dependencies { compile ' ... : x.y.z ' } ` -- > **AppIntro Version** : < ! -- What devices you managed to get the issue to come up on ? For example : fails on Galaxy S4/GT-I9500 4.4.2 , works fine on Nexus 6P 5.1 and Genymotion Nexus 5 5.0.1 -- > **Device/Android Version** : < ! -- Share the details of your issue in prose , detailing actual and expected behavior . It also helps if you give some info **why** you are
HystrixPlugins.getInstance ( ) returns private instance __EoT__ In Hystrix 1.5.5 , when calling ` HystrixPlugins.getInstance ( ) ` I get a `` ` java.lang.NoClassDefFoundError : Could not initialize class com.netflix.hystrix.strategy.HystrixPlugins $ LazyHolder `` ` exception in an OSGi environment . In 1.4.x it worked without problems . How is intended to work ? The private inner class effectively prevents the OSGi classloader to make it available to client bundles . As soon as I patch it to be publicly available , I can use the plugin mechanism again . As it worked fine in 1.4.x I 'd consider this a defect .
Make thread-interruption of Hystrix thread depend on property value __EoT__ At the moment , thread-interrupt is controlled by the internals of the Rx Scheduler infrastructure . @ akarnokd has got an addition to the API in https : //github.com/ReactiveX/RxJava/pull/2579/files that will expose this functionality for the ` HystrixContextScheduler ` to use . Once the next RxJava release comes out , move to that API . Also , see # 593 , # 596 for history
interruptOnTimeout does n't work in Hystrix 1.4.0-RC5 __EoT__ When using Hystrix 1.4.0-RC5 , the commands are not interrupted when the command times out . The following naive test shows how to reproduce this : `` ` java public class InterruptTest { private static final Logger LOG = LoggerFactory.getLogger ( InterruptTest.class ) ; private class SleepingCommand extends HystrixCommand < Void > { public SleepingCommand ( ) { super ( Setter.withGroupKey ( HystrixCommandGroupKey.Factory.asKey ( `` mygroup '' ) ) .andCommandPropertiesDefaults ( HystrixCommandProperties.Setter ( ) .withExecutionIsolationThreadInterruptOnTimeout ( true ) .withExecutionIsolationThreadTimeoutInMilliseconds ( 1000 ) ) ) ; } private volatile boolean hasBeenInterrupted ; public boolean hasBeenInterrupted ( ) { return hasBeenInterrupted ; } @ Override protected Void run ( ) throws Exception { try { Thread.sleep ( 2000 ) ; } catch ( InterruptedException e ) { LOG.error ( `` Interrupted ! `` , e ) ; hasBeenInterrupted = true ; } return null ; } } @ Test public void shouldInterruptOnTimeout ( ) throws InterruptedException { // given SleepingCommand cmd = new SleepingCommand ( ) ; // when cmd.observe ( ) .subscribe ( ) ; // then Thread.sleep ( 3000 ) ; Assert.assertTrue ( cmd.hasBeenInterrupted ( ) ) ; } } `` `
Examine work performed on Hystrix-isolated thread __EoT__ From # 327 and # 378 , the Execution hook ` onThreadComplete ` is getting called earlier than in Hystrix 1.3 . This issue is intended to describe the differences between what work gets executed on the isolated thread in 1.3 and 1.4 and confirm this is being done properly
Examine work performed on Hystrix-isolated thread __EoT__ From # 327 and # 378 , the Execution hook ` onThreadComplete ` is getting called earlier than in Hystrix 1.3 . This issue is intended to describe the differences between what work gets executed on the isolated thread in 1.3 and 1.4 and confirm this is being done properly
Add Uninterruptibles support for Condition __EoT__ It would be nice to have Uninterruptibles support for Condition.await ( ) and overlaods . So we could write `` ` lock.lock ( ) ; try { awaitUninterrutibly ( condition,1 , MINUTE ) ; } finally { lock.unlock ( ) ; } `` `
Ca n't build app on Android Studio 3.3 [ Working as intended ] __EoT__ Works fine on Android Studio 3.1 , but on 3.3 when targeting mobile : 3 errors from Java compiler : ERROR : [ TAG ] Failed to resolve variable ' $ { animal.sniffer.version } ' ERROR : [ TAG ] Failed to resolve variable ' $ { project.version } ' ERROR : [ TAG ] Failed to resolve variable ' $ { animal.sniffer.version } ' 1 error from run tasks : `` ` org.gradle.execution.MultipleBuildFailures : Build completed with 1 failures . at org.gradle.initialization.DefaultGradleLauncher $ ExecuteTasks.run ( DefaultGradleLauncher.java:350 ) at org.gradle.internal.operations.DefaultBuildOperationExecutor $ RunnableBuildOperationWorker.execute ( DefaultBuildOperationExecutor.java:300 ) at org.gradle.internal.operations.DefaultBuildOperationExecutor $ RunnableBuildOperationWorker.execute ( DefaultBuildOperationExecutor.java:292 ) at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute ( DefaultBuildOperationExecutor.java:174 ) at org.gradle.internal.operations.DefaultBuildOperationExecutor.run ( DefaultBuildOperationExecutor.java:90 ) at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run ( DelegatingBuildOperationExecutor.java:31 ) at org.gradle.initialization.DefaultGradleLauncher.runTasks ( DefaultGradleLauncher.java:216 ) at org.gradle.initialization.DefaultGradleLauncher.doBuildStages ( DefaultGradleLauncher.java:146 ) at org.gradle.initialization.DefaultGradleLauncher.executeTasks ( DefaultGradleLauncher.java:121 ) at org.gradle.internal.invocation.GradleBuildController $ 1.call ( GradleBuildController.java:77 ) at org.gradle.internal.invocation.GradleBuildController $ 1.call ( GradleBuildController.java:74 ) at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks ( DefaultWorkerLeaseService.java:152 ) at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks ( StopShieldingWorkerLeaseService.java:38 ) at org.gradle.internal.invocation.GradleBuildController.doBuild ( GradleBuildController.java:96 ) at org.gradle.internal.invocation.GradleBuildController.run ( GradleBuildController.java:74 ) at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run ( BuildModelActionRunner.java:55 ) at org.gradle.launcher.exec.ChainingBuildActionRunner.run ( ChainingBuildActionRunner.java:35 ) at org.gradle.launcher.exec.ChainingBuildActionRunner.run ( ChainingBuildActionRunner.java:35 ) at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run ( ValidatingBuildActionRunner.java:32 )
Travis-ci configuration outdated __EoT__ 1 . Migrate from legacy to container-based infrastructure for faster builds adding ` sudo : false ` 2 . Resque the android/debug.keystore from Iosched 2014 for CI usage using wget : wget -P android https : //github.com/google/iosched/raw/0f7e56ff2588b816476fbad253554f49003e869d/android/debug.keystore 3 . Update tools is required . 4 . Travis-ci runs ` ./gradlew build connectedCheck ` by default , ` qualityassurance ` buildType requires new proguard rules and server tests run and fail on build , so I suggest only assemble by now . 5 . Updated : Use [ default android-wait-for-emulator script ] ( https : //github.com/travis-ci/travis-cookbooks/blob/a68419ebe0ce92876a70534cd145ddd931d0feee/ci_environment/android-sdk/files/default/android-wait-for-emulator ) . Optionally , use [ dependency caching ] ( http : //docs.travis-ci.com/user/languages/android/ # Caching ) `` ` before_cache : - rm -f $ HOME/.gradle/caches/modules-2/modules-2.lock cache : directories : - $ HOME/.gradle/caches/ - $ HOME/.gradle/wrapper/ `` ` and new proguard rules to avoid qualityassurance CI build warnings : `` ` # Avoid packageQualityassurance warnings on CI server -dontwarn com.android.volley.toolbox . ** -dontwarn com.google.android.gms.analytics . ** -dontwarn com.google.android.gms.internal.zzvp -dontwarn com.google.android.gms.common.GooglePlayServicesUtil -dontwarn com.google.android.gms.tagmanager . ** -dontwarn com.larvalabs.svgandroid . ** `` `
Getting this issue while using GSON Api __EoT__ S : Fault xmlns : ns4= '' http : //www.w3.org/2003/05/soap-envelope '' > < faultcode > S : Server < /faultcode > < faultstring > EJB Exception : : java.lang.StackOverflowError at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve (
Getting this issue while using GSON Api __EoT__ S : Fault xmlns : ns4= '' http : //www.w3.org/2003/05/soap-envelope '' > < faultcode > S : Server < /faultcode > < faultstring > EJB Exception : : java.lang.StackOverflowError at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:375 ) at com.google.gson.internal. $ Gson $ Types.resolve ( $ Gson $ Types.java:380 ) at com.google.gson.internal. $ Gson $ Types.resolve (
Possible dereference of a null value in JsonWriter.java from static analysis tool . __EoT__ While doing a static code analysis from CheckerFramework tool , field ` stack ` might lead to possible null dereference . Here is comparison of suggested code and original code . Code change suggestion for ` push ` method when it called from anonymous block . Here is original code : `` ` private void push ( int newTop ) { if ( stackSize == stack.length ) { `` ` Suggested changes based on class instance still being in under-initialization state . Hence , dereferencing of ` stack ` can be problematic . Error message : `` ` JsonWriter.java:360 : error : [ dereference.of.nullable ] dereference of possibly-null reference stack if ( stackSize == stack.length ) { // Annotation added from nullness checker analysis . `` ` Suggested Changes : `` ` private void push ( /* > > > @ UnknownInitialization ( java.lang.Object.class ) JsonWriter this , */ int newTop ) { if ( stack ! =null & & stackSize == stack.length ) { // Annotation added from nullness checker analysis . `` ` If this issue is needed to be considered a ` pr
Crash that happens every so often : Failed to resolve TypedValue attribute __EoT__ We see this reported by our HockeyApp crash reports in the field and I see it happen in the emulator ever once it a while . Unsure how to recreate it . E/AndroidRuntime : FATAL EXCEPTION : main android.view.InflateException : Binary XML file line # 17 : Failed to resolve attribute at index 6 : TypedValue { t=0x1c/d=0xff80cbc4 a=2 r=0x7f0e013a } at android.view.LayoutInflater.inflate ( LayoutInflater.java:539 ) at uk.co.chrisjenx.calligraphy.CalligraphyLayoutInflater.inflate ( CalligraphyLayoutInflater.java:60 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:423 ) at android.support.v7.view.menu.MenuAdapter.getView ( MenuAdapter.java:89 ) at android.support.v7.view.menu.MenuPopup.measureIndividualMenuWidth ( MenuPopup.java:160 ) at android.support.v7.view.menu.StandardMenuPopup.tryShow ( StandardMenuPopup.java:153 ) at android.support.v7.view.menu.StandardMenuPopup.show ( StandardMenuPopup.java:187 ) at android.support.v7.view.menu.MenuPopupHelper.showPopup ( MenuPopupHelper.java:286 ) at android.support.v7.view.menu.MenuPopupHelper.tryShow ( MenuPopupHelper.java:171 ) at android.support.v7.widget.ActionMenuPresenter $ OpenOverflowRunnable.run ( ActionMenuPresenter.java:803 ) at android.os.Handler.handleCallback ( Handler.java:739 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:148 ) at android.app.ActivityThread.main ( ActivityThread.java:5417 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:726 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:616 ) Caused by : java.lang.UnsupportedOperationException : Failed to resolve attribute at index 6 : TypedValue { t=0x1c/d=0xff80cbc4 a=2 r=0x7f0e013a } at android.content.res.TypedArray.getLayoutDimension ( TypedArray.java:705 ) at android.view.ViewGroup $ LayoutParams.setBaseAttributes ( ViewGroup.java:6890 ) at android.view.ViewGroup $ MarginLayoutParams. <
Is it possible to set font for Actionbar title or toast and more ? __EoT__
为什么我原来的file是jpg格式的，压缩过后onSuccess里的file就没有格式了呢 __EoT__
1.19.0以上版本ToastUtils导致应用闪退 __EoT__ 机型：小米5 Android版本：魔趣8.1 调用ToastUtils.showShort ( ) ，第一次弹出成功，第二次弹出应用崩溃。 IDE看到的错误为：libc : Fatal signal 6 ( SIGABRT ) , code -6 使用1.19.0版本不会出现这个错误。
Add support for RecycleView in umanoScrollableView __EoT__ Is there a way how to fix functionality of my RecyclerView after implementing SlidingUpPanel ?
Add support for RecycleView in umanoScrollableView __EoT__ Is there a way how to fix functionality of my RecyclerView after implementing SlidingUpPanel ?
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
Importing Androidx annotation __EoT__ the generated ViewBinding class imports annotation from android package instead of androidx package hence the error error : package android.support.annotation does not exist error : can not find symbol class UiThread error : can not find symbol class CallSuper # # # Gradle Properties `` ` repositories { google ( ) mavenCentral ( ) maven { name 'Sonatype SNAPSHOTs' url 'https : //oss.sonatype.org/content/repositories/snapshots/' } jcenter ( ) } `` ` `` ` dependencies { classpath 'com.android.tools.build : gradle:3.3.0-alpha09' classpath 'com.google.gms : google-services:4.0.1' classpath 'com.jakewharton : butterknife-gradle-plugin:9.0.0-SNAPSHOT' // NOTE : Do not place your application dependencies here ; they belong // in the individual module build.gradle files } `` ` `` ` implementation 'com.jakewharton : butterknife:8.8.1' annotationProcessor 'com.jakewharton : butterknife-compiler:8.8.1 ' `` `
Importing Androidx annotation __EoT__ the generated ViewBinding class imports annotation from android package instead of androidx package hence the error error : package android.support.annotation does not exist error : can not find symbol class UiThread error : can not find symbol class CallSuper # # # Gradle Properties `` ` repositories { google ( ) mavenCentral ( ) maven { name 'Sonatype SNAPSHOTs' url 'https : //oss.sonatype.org/content/repositories/snapshots/' } jcenter ( ) } `` ` `` ` dependencies { classpath 'com.android.tools.build : gradle:3.3.0-alpha09' classpath 'com.google.gms : google-services:4.0.1' classpath 'com.jakewharton : butterknife-gradle-plugin:9.0.0-SNAPSHOT' // NOTE : Do not place your application dependencies here ; they belong // in the individual module build.gradle files } `` ` `` ` implementation 'com.jakewharton : butterknife:8.8.1' annotationProcessor 'com.jakewharton : butterknife-compiler:8.8.1 ' `` `
Allow layout resources in R2 __EoT__ Currently the gradle plugin skips layout types when generating R2 ( https : //github.com/JakeWharton/butterknife/blob/master/butterknife-gradle-plugin/src/main/java/butterknife/plugin/FinalRClassBuilder.java # L28 ) Butterknife does not use these , but I have a feature in [ Epoxy ] ( https : //github.com/airbnb/epoxy ) where a layout resource is a value in an annotation . I would love to support library projects , without having to duplicate the plugin just to add support for layout . I know it 's strange to request this from Butterknife , since it is n't related to the library , but the gradle plugin Butterknife provides is potentially useful to many other libraries . It could be its own generic library . Would it be possible to have the plugin take parameters in our gradle files to specify which resource types it should allow ? @ kageiit R2 actually does include layout files when building with Buck . I 'm wondering if you did something different with buck to allow all resources ?
ButterKnife generates ViewBinding class with wrong resource ID __EoT__ I am using a 3rd-party library in our project , and compilation works fine , but the app crashes when it starts up . I looked at the logcat and generate source code , it seems the generated source code has the wrong resource ID . For example , the source file is `` ` class HomeActivity ... { @ BindView ( R2.id.mode_transition_layout ) AppModeTransitionLayout modeTransitionLayout ; @ Override protected void onCreate ( @ Nullable Bundle savedInstanceState ) { super.onCreate ( savedInstanceState ) ; setContentView ( R.layout.activity_main ) ; ButterKnife.bind ( this ) ; `` ` The generated ` HomeActivity_ViewBinding ` class has `` ` @ UiThread public HomeActivity_ViewBinding ( T target , View source ) { this.target = target ; target.modeTransitionLayout = Utils.findRequiredViewAsType ( source , R.id.infant_description_text , `` field 'modeTransitionLayout ' '' , AppModeTransitionLayout.class ) ; } `` ` ` R.id.infant_description_text ` is a different resource ID , and I 'd assume here should use ` R.id.mode_transition_layout ` . At the runtime I get an exception says ` java.lang.IllegalStateException : Required view 'infant_description_text ' with ID 2131822441 for field 'modeTransitionLayout ' was not found . If this view is
ButterKnife generates ViewBinding class with wrong resource ID __EoT__ I am using a 3rd-party library in our project , and compilation works fine , but the app crashes when it starts up . I looked at the logcat and generate source code , it seems the generated source code has the wrong resource ID . For example , the source file is `` ` class HomeActivity ... { @ BindView ( R2.id.mode_transition_layout ) AppModeTransitionLayout modeTransitionLayout ; @ Override protected void onCreate ( @ Nullable Bundle savedInstanceState ) { super.onCreate ( savedInstanceState ) ; setContentView ( R.layout.activity_main ) ; ButterKnife.bind ( this ) ; `` ` The generated ` HomeActivity_ViewBinding ` class has `` ` @ UiThread public HomeActivity_ViewBinding ( T target , View source ) { this.target = target ; target.modeTransitionLayout = Utils.findRequiredViewAsType ( source , R.id.infant_description_text , `` field 'modeTransitionLayout ' '' , AppModeTransitionLayout.class ) ; } `` ` ` R.id.infant_description_text ` is a different resource ID , and I 'd assume here should use ` R.id.mode_transition_layout ` . At the runtime I get an exception says ` java.lang.IllegalStateException : Required view 'infant_description_text ' with ID 2131822441 for field 'modeTransitionLayout ' was not found . If this view is
Generate code with JavaPoet __EoT__ Java code generating is currently performed using string builders . This in my opinion makes it hard on readability and maintainability . I would propose changing the code to use [ Square 's JavaPoet ] ( https : //github.com/square/javapoet ) . Could this be something of interest ?
Generate code with JavaPoet __EoT__ Java code generating is currently performed using string builders . This in my opinion makes it hard on readability and maintainability . I would propose changing the code to use [ Square 's JavaPoet ] ( https : //github.com/square/javapoet ) . Could this be something of interest ?
Why are n't proposed pull requests merged ? __EoT__ Hi ! Firstly , thank you very much for this library , I 've found it incredibly useful and has helped me remove lots of boilerplate code on my apps . That 's exactly why I 'm surprised it does n't have more stuff . I just read some of the PRs and there are some very useful annotations there , such as https : //github.com/JakeWharton/butterknife/pull/245 https : //github.com/JakeWharton/butterknife/pull/229 https : //github.com/JakeWharton/butterknife/pull/231 https : //github.com/JakeWharton/butterknife/pull/201 They all look like they have useful aplications . In fact , I 'm using two of them on an app I 'm working with at the moment , but I 'd be really nice if they already were integrated with the library , is there any reason they have n't been already ? ( some of them have been there for quite some time ) I understand if you just want to keep this library as small as possible , but then maybe make a butterknife 2.0 or something with the extra stuff ? Or is there another reason ? Idk , just throwing ideas here : P Anyways , just wondering , this still
Why are n't proposed pull requests merged ? __EoT__ Hi ! Firstly , thank you very much for this library , I 've found it incredibly useful and has helped me remove lots of boilerplate code on my apps . That 's exactly why I 'm surprised it does n't have more stuff . I just read some of the PRs and there are some very useful annotations there , such as https : //github.com/JakeWharton/butterknife/pull/245 https : //github.com/JakeWharton/butterknife/pull/229 https : //github.com/JakeWharton/butterknife/pull/231 https : //github.com/JakeWharton/butterknife/pull/201 They all look like they have useful aplications . In fact , I 'm using two of them on an app I 'm working with at the moment , but I 'd be really nice if they already were integrated with the library , is there any reason they have n't been already ? ( some of them have been there for quite some time ) I understand if you just want to keep this library as small as possible , but then maybe make a butterknife 2.0 or something with the extra stuff ? Or is there another reason ? Idk , just throwing ideas here : P Anyways , just wondering , this still
travis is n't useful yet __EoT__ As I see , there is n't any test in ` Matisse ` .So why do you use ` travis ` .
How to hide types that are not allowed from Matisse ? __EoT__ Hi guys , me again , I 've made a fork of this library because I had to make some minor changes in order to use it into one of my projects , some of them I 've already pull requested here , but the point is that I need to hide files that are not allowed by my application , for example , if I have ` Matisse.from ( this ) .choose ( MimeType.ofVideo ( ) , false ) ` I want to hide all the media that are n't video files , that 's an UX request from my development team , I 've tried to change the AlbumMediaAdapter by filtering and I have some success , but I still have white frames in the RecyclerView , I do n't get why , even trying to use ` notifyItemChanged ` or ` notifyDatasetChanged ` these gaps do n't move away . Do you know why or there 's a better way to achieve this ? These are the changes that I 've made so far , I know that 's not the best option doing this
How to hide types that are not allowed from Matisse ? __EoT__ Hi guys , me again , I 've made a fork of this library because I had to make some minor changes in order to use it into one of my projects , some of them I 've already pull requested here , but the point is that I need to hide files that are not allowed by my application , for example , if I have ` Matisse.from ( this ) .choose ( MimeType.ofVideo ( ) , false ) ` I want to hide all the media that are n't video files , that 's an UX request from my development team , I 've tried to change the AlbumMediaAdapter by filtering and I have some success , but I still have white frames in the RecyclerView , I do n't get why , even trying to use ` notifyItemChanged ` or ` notifyDatasetChanged ` these gaps do n't move away . Do you know why or there 's a better way to achieve this ? These are the changes that I 've made so far , I know that 's not the best option doing this
showShadow is not working ! __EoT__ When I set app : bb_showShadow= '' false '' , the shadow is visible ! and it 's not hidden . Please fix it . Thanks
[ CI ] Code formatting __EoT__ PRs are getting noisey due to formatting differences . We should check in a formatter and run over the entire project .
[ CI ] Code formatting __EoT__ PRs are getting noisey due to formatting differences . We should check in a formatter and run over the entire project .
[ CI ] Code formatting __EoT__ PRs are getting noisey due to formatting differences . We should check in a formatter and run over the entire project .
Layout issues when keyboard is shown __EoT__ If one opens a post , and the comment is automatically focused , making the keyboard appears , the layout gets `` broken '' and the position of items too . Issue seems to persist even after keyboard is hidden ... **Screenshots : ** ! [ cxlf7qjwiaawct0 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307275/b5aceb6c-ab0c-11e6-8dc3-5b100f7f2a0d.jpg ) ! [ screenshot_20161115-081142 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307276/b5afc3fa-ab0c-11e6-8cc8-5d21fc61f667.png ) ! [ screenshot_20161115-081148 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307277/b5b441d2-ab0c-11e6-961a-cba002c4255e.png )
Layout issues when keyboard is shown __EoT__ If one opens a post , and the comment is automatically focused , making the keyboard appears , the layout gets `` broken '' and the position of items too . Issue seems to persist even after keyboard is hidden ... **Screenshots : ** ! [ cxlf7qjwiaawct0 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307275/b5aceb6c-ab0c-11e6-8dc3-5b100f7f2a0d.jpg ) ! [ screenshot_20161115-081142 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307276/b5afc3fa-ab0c-11e6-8cc8-5d21fc61f667.png ) ! [ screenshot_20161115-081148 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307277/b5b441d2-ab0c-11e6-961a-cba002c4255e.png )
Unhealthy in LoginViewModelTest __EoT__ Something not good in this test , please check , i.e not related tickets like # 491 , # 492 can not go through . 😢 . `` ` loginDataChanged_withValidLogin : java.lang.AssertionError : expected : < true > but was : < false > at org.junit.Assert.fail ( Assert.java:88 ) at org.junit.Assert.failNotEquals ( Assert.java:834 ) at org.junit.Assert.assertEquals ( Assert.java:118 ) at org.junit.Assert.assertEquals ( Assert.java:144 ) at io.plaidapp.designernews.ui.login.LoginViewModelTest $ loginDataChanged_withValidLogin $ 1.doResume ( LoginViewModelTest.kt:139 ) at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume ( CoroutineImpl.kt:42 ) at kotlinx.coroutines.experimental.DispatchedTask $ DefaultImpls.run ( Dispatched.kt:161 ) at kotlinx.coroutines.experimental.DispatchedContinuation.run ( Dispatched.kt:25 ) at kotlinx.coroutines.experimental.EventLoopBase.processNextEvent ( EventLoop.kt:147 ) at kotlinx.coroutines.experimental.BlockingCoroutine.joinBlocking ( Builders.kt:244 ) at kotlinx.coroutines.experimental.BuildersKt.runBlocking ( Builders.kt:185 ) at kotlinx.coroutines.experimental.BuildersKt.runBlocking $ default ( Builders.kt:175 ) at io.plaidapp.designernews.ui.login.LoginViewModelTest.loginDataChanged_withValidLogin ( LoginViewModelTest.kt:120 ) at sun.reflect.NativeMethodAccessorImpl.invoke0 ( Native Method ) at sun.reflect.NativeMethodAccessorImpl.invoke ( NativeMethodAccessorImpl.java:62 ) at sun.reflect.DelegatingMethodAccessorImpl.invoke ( DelegatingMethodAccessorImpl.java:43 ) at java.lang.reflect.Method.invoke ( Method.java:498 ) at org.junit.runners.model.FrameworkMethod $ 1.runReflectiveCall ( FrameworkMethod.java:50 ) at org.junit.internal.runners.model.ReflectiveCallable.run ( ReflectiveCallable.java:12 ) at org.junit.runners.model.FrameworkMethod.invokeExplosively ( FrameworkMethod.java:47 ) at org.junit.internal.runners.statements.InvokeMethod.evaluate ( InvokeMethod.java:17 ) at org.junit.rules.TestWatcher $ 1.evaluate ( TestWatcher.java:55 ) at org.junit.rules.RunRules.evaluate ( RunRules.java:20 ) at org.junit.runners.ParentRunner.runLeaf ( ParentRunner.java:325 ) at org.junit.runners.BlockJUnit4ClassRunner.runChild ( BlockJUnit4ClassRunner.java:78 ) at org.junit.runners.BlockJUnit4ClassRunner.runChild ( BlockJUnit4ClassRunner.java:57 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Finegrained notifications __EoT__ Hi Realm devs , we now have the RealmChangeListener to listen for changes if some background thread updates the Realm instance , which is great . But i 'd like to put a feature request forward for more fine grained control when a listener can be called . It would be nice if it were possible to add a RealmChangeListener that only fires if a certain class of RealmObject is updated . The issue i have now is that i have multiple fragments for multiple classes of RealmObject ( eg . RealmUser , RealmMessage , RealmBeer ) open at once , then a background services updates one of the RealmUser instances . Now all the RealmChangeListener are fired , and all fragments are updated individually . While ideally only the one that deals with RealmUser should be updating .
Finegrained notifications __EoT__ Hi Realm devs , we now have the RealmChangeListener to listen for changes if some background thread updates the Realm instance , which is great . But i 'd like to put a feature request forward for more fine grained control when a listener can be called . It would be nice if it were possible to add a RealmChangeListener that only fires if a certain class of RealmObject is updated . The issue i have now is that i have multiple fragments for multiple classes of RealmObject ( eg . RealmUser , RealmMessage , RealmBeer ) open at once , then a background services updates one of the RealmUser instances . Now all the RealmChangeListener are fired , and all fragments are updated individually . While ideally only the one that deals with RealmUser should be updating .
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
Logout and opend Realm instance __EoT__ From the ` SyncUser.logout ( ) ` document : `` ` * @ throws IllegalStateException if any Realms owned by this user is still open . They should be closed before * logging out . `` ` But this is not true . It is checking ` ObjectServerUser.sessions ` to determine if there is any Realm instance is still opened . But ` ObjectServerUser.sessions ` is used anymore after we moved session logic to Object Store . To solve this : - Do we really want to restrict user from logging out when Realm instance are still opened ? From my opinion . it is very difficult if there are realm instance in the background in user 's app . It the relevant Realm instance stops syncing , then it would be good enough for user . - If we allow this , we need to ensure user wo n't open a Realm instance with the same name for a different user even in **multi-processes** environment ! - If we disallow this , then needs to also consider the corner case for ` getInstanceAsync ( ) ` .
Trying to access Realm Object from an interface __EoT__ am using Realm , and i created an interface to parse RealmObject in my Adapter to be implemented in an activity but i get this error **Object is no longer valid to operate on . Was it deleted by another thread ? ** **NewsAdapter.java** `` ` ` final NewsTrend postsData = getItem ( position ) ; holder.ivLike.setOnClickListener ( new View.OnClickListener ( ) { @ Override public void onClick ( View v ) { eventListener.onLikeClick ( v , postsData , holder.tvNewsCountLike , holder.ivLike ) ; } } ) ; ` `` ` Implementing the Listener in Fragment **Fragment.java** `` ` ` @ Override public void onLikeClick ( View view , NewsTrend postData , TextView tvNewsCountLike , ImageView ivLike ) { if ( ! postData.isChecked ( ) ) { realm.beginTransaction ( ) ; postData.setChecked ( true ) ; realm.commitTransaction ( ) ; tvNewsCountLike.setText ( `` '' + ( Integer.parseInt ( tvNewsCountLike.getText ( ) .toString ( ) ) + 1 ) ) ; ivLike.setImageResource ( R.drawable.kalp_dolu_kucuk ) ; } else { realm.beginTransaction ( ) ; postData.setChecked ( false ) ; realm.commitTransaction ( ) ; tvNewsCountLike.setText ( `` '' + ( Integer.parseInt ( tvNewsCountLike.getText (
Access Realm from Background Service __EoT__ I am trying to get some data from Realm DB from ` IntentService ` class , which runs in background , and upload data to web service . I have ` RealmManager ` class which has ` Realm ` instance and does CRUD on database . So i create ` RealmManager ` intance inside my background ` IntentService ` and try to query . I am getting error : ** ` Realm access from incorrect thread . Realm objects can only be accessed on the thread they were created ` ** . I see ` Realm ` can not be shared across threads . So what might be solution for this ? Is there any way to make CRUD on Realm from background android service , thread ?
Access Realm from Background Service __EoT__ I am trying to get some data from Realm DB from ` IntentService ` class , which runs in background , and upload data to web service . I have ` RealmManager ` class which has ` Realm ` instance and does CRUD on database . So i create ` RealmManager ` intance inside my background ` IntentService ` and try to query . I am getting error : ** ` Realm access from incorrect thread . Realm objects can only be accessed on the thread they were created ` ** . I see ` Realm ` can not be shared across threads . So what might be solution for this ? Is there any way to make CRUD on Realm from background android service , thread ?
Access Realm from Background Service __EoT__ I am trying to get some data from Realm DB from ` IntentService ` class , which runs in background , and upload data to web service . I have ` RealmManager ` class which has ` Realm ` instance and does CRUD on database . So i create ` RealmManager ` intance inside my background ` IntentService ` and try to query . I am getting error : ** ` Realm access from incorrect thread . Realm objects can only be accessed on the thread they were created ` ** . I see ` Realm ` can not be shared across threads . So what might be solution for this ? Is there any way to make CRUD on Realm from background android service , thread ?
Partial Sync : Unify Notification System __EoT__ See https : //github.com/realm/product/issues/392 for details . Note that this introduce a small breaking change to the Java API 's as ` OrderedChangeSet ` will no longer be ` @ Nullable ` in callbacks .
Partial Sync : Unify Notification System __EoT__ See https : //github.com/realm/product/issues/392 for details . Note that this introduce a small breaking change to the Java API 's as ` OrderedChangeSet ` will no longer be ` @ Nullable ` in callbacks .
Partial Sync : Unify Notification System __EoT__ See https : //github.com/realm/product/issues/392 for details . Note that this introduce a small breaking change to the Java API 's as ` OrderedChangeSet ` will no longer be ` @ Nullable ` in callbacks .
Realm with a SyncAdapter __EoT__ Is there a way to make Realm http : //realm.io/docs/java/latest/ and Syncadapters https : //developer.android.com/training/sync-adapters/creating-sync-adapter.html play nicely together ? I created a stub ContentProvider so that I could persist data with Realm . The problem is I do n't know how to communicate changes from the SyncAdapter back to my Fragment that kicks off the whole sync adapter process . From the onPerformSync ( ) method in the SyncAdapter I tried using an event bus like Otto to communicate these changes , however event buses do not work across multiple threads . Realm provides an OnChangeListener which detects any changes to the DB . This works well inside the Fragment but not across multiple threads . The alternative is to do away with Realm and just use a ContentProvider . But Realm is very simple to use and I would prefer a solution that includes Realm .
Default values for fields / assignment in default constructor __EoT__ Question/request : Will the java version have default values for fields similar to the iOS one ? i.e . +defaultPropertyValues can be overriden to provide default values every time an object is created . This might also helps to alleviate the lack of null support in the interim ( and with the standalone object support now , helps with gson deserialization a bunch ) Thanks for all the awesome work on this !
Default values for fields / assignment in default constructor __EoT__ Question/request : Will the java version have default values for fields similar to the iOS one ? i.e . +defaultPropertyValues can be overriden to provide default values every time an object is created . This might also helps to alleviate the lack of null support in the interim ( and with the standalone object support now , helps with gson deserialization a bunch ) Thanks for all the awesome work on this !
Default values for fields / assignment in default constructor __EoT__ Question/request : Will the java version have default values for fields similar to the iOS one ? i.e . +defaultPropertyValues can be overriden to provide default values every time an object is created . This might also helps to alleviate the lack of null support in the interim ( and with the standalone object support now , helps with gson deserialization a bunch ) Thanks for all the awesome work on this !
Migrate to ObjectStore __EoT__ - [ ] ` Realm ` - [ x ] ` RealmConfiguration ` - see # 2372 - [ ] ` RealmResults ` - [ ] ` RealmObject `
App crashing ( librealm-jni.so ) __EoT__ Realm is working flawlessly on almost devices in our user base but one user is unable to launch the app . The screen is white and then the app closes down . I was able to get the phone having the issue and check its logs . The issue seems to happen after or during the loading of librealm-jni.so # # # # Goal > Start app and use Realm normally # # # # Expected Results > App running # # # # Actual Results > App crash instantly when starting ( ANR ) # # # # Code Sample `` ` crash stack > 11-14 16:54:23.320 32150-32150/ ? D/dalvikvm : Trying to load lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.343 32150-32150/ ? D/dalvikvm : Added shared lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.437 32150-32150/ ? A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5aa4cff0 ( code=2 ) , thread 32150 ( com.myapp ) 11-14 16:54:23.546 31669-31669/ ? I/DEBUG : pid : 32150 , tid : 32150 , name : com.myapp > > > com.myapp < < < 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : # 00 pc 00082052 /data/app-lib/com.myapp-1/librealm-jni.so 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : #
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
Fatal signal 11 ( SIGSEGV ) at 0x5f244ff2 ( code=2 ) , thread 26259 ( pool-9-thread-1 ) __EoT__ App crashes when running the app in a Samsung Galaxy Tab 3 Lite ( SM-T110 ) API 17 . Crashes on any realm versions tested ( 2.2.1 , 2.2.0 , 2.1.1 ) On any other devices and emulators ( with APIs as low as 16 ) we tested the app runs fine . Unfortunately , we do n't have another Samsung device to test . Steps : - Initialize the Realm in application - getInstance anywhere in mainActivity ( currently testing onCreate ) - > CRASH
Fatal signal 11 ( SIGSEGV ) at 0x5f244ff2 ( code=2 ) , thread 26259 ( pool-9-thread-1 ) __EoT__ App crashes when running the app in a Samsung Galaxy Tab 3 Lite ( SM-T110 ) API 17 . Crashes on any realm versions tested ( 2.2.1 , 2.2.0 , 2.1.1 ) On any other devices and emulators ( with APIs as low as 16 ) we tested the app runs fine . Unfortunately , we do n't have another Samsung device to test . Steps : - Initialize the Realm in application - getInstance anywhere in mainActivity ( currently testing onCreate ) - > CRASH
Fatal signal 11 ( SIGSEGV ) at 0x5f244ff2 ( code=2 ) , thread 26259 ( pool-9-thread-1 ) __EoT__ App crashes when running the app in a Samsung Galaxy Tab 3 Lite ( SM-T110 ) API 17 . Crashes on any realm versions tested ( 2.2.1 , 2.2.0 , 2.1.1 ) On any other devices and emulators ( with APIs as low as 16 ) we tested the app runs fine . Unfortunately , we do n't have another Samsung device to test . Steps : - Initialize the Realm in application - getInstance anywhere in mainActivity ( currently testing onCreate ) - > CRASH
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Fatal signal 11 ( SIGSEGV ) at 0x5bb29ffe ( code=2 ) on API 17 ( 4.2.2 ) __EoT__ When I try to use Realm realm = Realm.getDefaultInstance ( ) ; the app gives that error while it runs well on 4.4 and above
Fatal signal 11 ( SIGSEGV ) at 0x5bb29ffe ( code=2 ) on API 17 ( 4.2.2 ) __EoT__ When I try to use Realm realm = Realm.getDefaultInstance ( ) ; the app gives that error while it runs well on 4.4 and above
Fatal signal 11 ( SIGSEGV ) at 0x5bb29ffe ( code=2 ) on API 17 ( 4.2.2 ) __EoT__ When I try to use Realm realm = Realm.getDefaultInstance ( ) ; the app gives that error while it runs well on 4.4 and above
Fix insertOrUpdate Javadoc __EoT__ Feedback : > from the javadoc of ` insertOrUpdate ( ) ` We do n't check if the provided objects are already managed or not , so inserting a managed object might duplicate it ` ( https : //github.com/realm/realm-java/blob/master/realm/realm-library/src/main/java/io/realm/Realm.java # L863 ) this seems confusing in my opinion , it lead me to think that ` insertOrUpdate ( ) ` might duplicate objects . It is true that ` insertOrUpdate ` never duplicate objects with primary keys . We should clarify that .
realm can user annotation replace column name or table name __EoT__ realm can user annotation replace column name or table name ?
realm can user annotation replace column name or table name __EoT__ realm can user annotation replace column name or table name ?
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
io.realm.internal.Table.finalize ( ) timed out after 10 seconds __EoT__ Copy from # 1599 People are still seeing finalizer timeouts on 0.88.2 : http : //crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO . /cc @ dalinaum
io.realm.internal.Table.finalize ( ) timed out after 10 seconds __EoT__ Copy from # 1599 People are still seeing finalizer timeouts on 0.88.2 : http : //crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO . /cc @ dalinaum
io.realm.internal.Table.finalize ( ) timed out after 10 seconds __EoT__ Copy from # 1599 People are still seeing finalizer timeouts on 0.88.2 : http : //crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO . /cc @ dalinaum
io.realm.internal.Table.finalize ( ) timed out after 10 seconds __EoT__ Copy from # 1599 People are still seeing finalizer timeouts on 0.88.2 : http : //crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO . /cc @ dalinaum
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Do thread checking in DynamicRealmObject __EoT__ Methods in ` DynamicRealmObject ` do n't have thread checks . I wrote following test to expose this bug . `` ` private enum ThreadConfinedMethods { GET_LONG , } private static void callThreadConfinedMethod ( DynamicRealmObject obj , ThreadConfinedMethods method ) { switch ( method ) { case GET_LONG : obj.getLong ( AllJavaTypes.FIELD_LONG ) ; break ; default : throw new AssertionError ( `` missing case for `` + method ) ; } } @ Test public void callThreadConfinedMethodsFromWrongThread ( ) throws Throwable { dynamicRealm.beginTransaction ( ) ; dynamicRealm.deleteAll ( ) ; final DynamicRealmObject obj = dynamicRealm.createObject ( AllJavaTypes.CLASS_NAME , 100L ) ; dynamicRealm.commitTransaction ( ) ; final AtomicReference < Throwable > throwableFromThread = new AtomicReference < Throwable > ( ) ; final CountDownLatch testFinished = new CountDownLatch ( 1 ) ; final String expectedMessage ; //noinspection TryWithIdenticalCatches try { final Field expectedMessageField = BaseRealm.class.getDeclaredField ( `` INCORRECT_THREAD_MESSAGE '' ) ; expectedMessageField.setAccessible ( true ) ; expectedMessage = ( String ) expectedMessageField.get ( null ) ; } catch ( NoSuchFieldException e ) { throw new AssertionError ( e ) ; } catch ( IllegalAccessException e ) { throw new AssertionError ( e ) ; }
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
Accessing backlinks field should throw IllegalState instead of IllegalArgument if the object is deleted or not loaded __EoT__ accessing backlinks of deleted or not loaded object is now throwing ` IllegalArgumentException ` . This should be ` IllegalStateException ` .
Realm .so problem __EoT__ > **Bugs** : Build fingerprint : 'google/volantis/flounder:6.0.1/MMB29S/2489379 : user/release-keys' Revision : '0' ABI : 'arm64' pid : 22511 , tid : 22511 , name : mycom.myapp > > > com.mycom.myapp < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0x155c52b8c7e x0 0000007f8236dbf0 x1 0000007f8236dc38 x2 00000055ab2bc000 x3 00000055ab5dddb0 x4 0000000000001012 x5 0000000000000000 x6 00000155c52b8c66 x7 0000000000000000 x8 00000155c52b8c55 x9 0000000000000000 x10 0000000000000003 x11 0000000000000960 x12 0000007f8236da70 x13 00000055ab8be8b0 x14 0000000000000000 x15 00000155c52b8c50 x16 00000155c52b9d20 x17 0000000000000030 x18 0000002ab8a5718a x19 00000055ab5dcce0 x20 0000007f8236d000 x21 00000055ab5c6e20 x22 00000055ab5dcce0 x23 0000000000000000 x24 0000000070548ac8 x25 00000055ab5d81d0 x26 00000055ab5d81e0 x27 0000000012d571c0 x28 00000000715fd7ca x29 0000007fddcf8580 x30 00000155c52b8c78 sp 0000007fddcf8580 pc 0000007f8230670c pstate 0000000020000000 backtrace : # 00 pc 000000000004770c /system/lib64/libc.so ( dlfree+1036 ) # 01 pc 00000000000194e8 /system/lib64/libc.so ( free+20 ) # 02 pc 00000000000754dc /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so # 03 pc 00000000000503b0 /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so ( Java_io_realm_internal_SharedGroup_nativeClose+544 ) # 04 pc 000000000077b130 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.nativeClose ( long ) +132 ) # 05 pc 000000000077c774 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.close ( ) +168 ) # 06 pc 0000000000752e2c /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.Realm.close ( ) +848 )
Realm .so problem __EoT__ > **Bugs** : Build fingerprint : 'google/volantis/flounder:6.0.1/MMB29S/2489379 : user/release-keys' Revision : '0' ABI : 'arm64' pid : 22511 , tid : 22511 , name : mycom.myapp > > > com.mycom.myapp < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0x155c52b8c7e x0 0000007f8236dbf0 x1 0000007f8236dc38 x2 00000055ab2bc000 x3 00000055ab5dddb0 x4 0000000000001012 x5 0000000000000000 x6 00000155c52b8c66 x7 0000000000000000 x8 00000155c52b8c55 x9 0000000000000000 x10 0000000000000003 x11 0000000000000960 x12 0000007f8236da70 x13 00000055ab8be8b0 x14 0000000000000000 x15 00000155c52b8c50 x16 00000155c52b9d20 x17 0000000000000030 x18 0000002ab8a5718a x19 00000055ab5dcce0 x20 0000007f8236d000 x21 00000055ab5c6e20 x22 00000055ab5dcce0 x23 0000000000000000 x24 0000000070548ac8 x25 00000055ab5d81d0 x26 00000055ab5d81e0 x27 0000000012d571c0 x28 00000000715fd7ca x29 0000007fddcf8580 x30 00000155c52b8c78 sp 0000007fddcf8580 pc 0000007f8230670c pstate 0000000020000000 backtrace : # 00 pc 000000000004770c /system/lib64/libc.so ( dlfree+1036 ) # 01 pc 00000000000194e8 /system/lib64/libc.so ( free+20 ) # 02 pc 00000000000754dc /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so # 03 pc 00000000000503b0 /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so ( Java_io_realm_internal_SharedGroup_nativeClose+544 ) # 04 pc 000000000077b130 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.nativeClose ( long ) +132 ) # 05 pc 000000000077c774 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.close ( ) +168 ) # 06 pc 0000000000752e2c /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.Realm.close ( ) +848 )
Realm .so problem __EoT__ > **Bugs** : Build fingerprint : 'google/volantis/flounder:6.0.1/MMB29S/2489379 : user/release-keys' Revision : '0' ABI : 'arm64' pid : 22511 , tid : 22511 , name : mycom.myapp > > > com.mycom.myapp < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0x155c52b8c7e x0 0000007f8236dbf0 x1 0000007f8236dc38 x2 00000055ab2bc000 x3 00000055ab5dddb0 x4 0000000000001012 x5 0000000000000000 x6 00000155c52b8c66 x7 0000000000000000 x8 00000155c52b8c55 x9 0000000000000000 x10 0000000000000003 x11 0000000000000960 x12 0000007f8236da70 x13 00000055ab8be8b0 x14 0000000000000000 x15 00000155c52b8c50 x16 00000155c52b9d20 x17 0000000000000030 x18 0000002ab8a5718a x19 00000055ab5dcce0 x20 0000007f8236d000 x21 00000055ab5c6e20 x22 00000055ab5dcce0 x23 0000000000000000 x24 0000000070548ac8 x25 00000055ab5d81d0 x26 00000055ab5d81e0 x27 0000000012d571c0 x28 00000000715fd7ca x29 0000007fddcf8580 x30 00000155c52b8c78 sp 0000007fddcf8580 pc 0000007f8230670c pstate 0000000020000000 backtrace : # 00 pc 000000000004770c /system/lib64/libc.so ( dlfree+1036 ) # 01 pc 00000000000194e8 /system/lib64/libc.so ( free+20 ) # 02 pc 00000000000754dc /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so # 03 pc 00000000000503b0 /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so ( Java_io_realm_internal_SharedGroup_nativeClose+544 ) # 04 pc 000000000077b130 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.nativeClose ( long ) +132 ) # 05 pc 000000000077c774 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.close ( ) +168 ) # 06 pc 0000000000752e2c /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.Realm.close ( ) +848 )
Add Realm.getDefaultConfiguration ( ) __EoT__ We added ` Realm.getInstanceAsync ( ) ` and ` DynamicRealm.getInstanceAsync ( ) ` and those always required ` RealmConfiguration ` ( or ` SyncConfiguration ` ) . In order to pass default configuration to those methods , it 's better to have ` Realm.getDefaultConfiguration ( ) ` . What do you think ? @ realm/java
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Change Password API for Admin Users __EoT__ Fallout from # 4538 We need to implement admin support for changing a user 's password once support for this has been released by ROS . It has been merged but is awaiting a release : https : //github.com/realm/realm-object-server/pull/1061 API : `` ` // Should only work for ` admin ` users user.changePasswordAsync ( `` userID '' , `` newPassword '' , new Callback ( ) { @ Override public void onSuccess ( SyncUser user ) { // This standard callback might be a bit weird since we would return the admin user instead of the user that got his password changed , } @ Override public void onError ( ObjectServerError error ) { // Something went wrong } } ) ; public interface RequestCallback < T > { onSuccess ( T result ) ; onError ( ObjectServerError ) ; } new RequestCallback < Void > ( ) { public void onSuccess ( Void result ) { ... } } `` ` Some alternatives : - New ` AdminCallback ` with ` onSuccess ( String userId ) ` method instead . Might be handy if we start adding multiple admin API 's .
Single Object Notifications __EoT__ **Motivation** https : //github.com/realm/realm-object-store/pull/324 added support for single object notifications to the Object Store https : //github.com/realm/realm-cocoa/pull/4537 is adding the public API 's on the Cocoa side . We should add similar capabilities to Android . **Use cases** 1 ) Object change listeners will now only be called if the object actually changed . It should reduce the number of unnecessary updates which is happening right now due to the change notification being table based . 2 ) It should make it possible to register listeners for a single field value , e.g . if the UI should only be refreshed if a single field changed . 3 ) It should be possible to register a listener on an object and be give the old and new values , e.g . useful if you only need to refresh the UI if a String changed in a particular way . 3 ) It should now be possible to be notified when an object is deleted . See https : //github.com/realm/realm-java/issues/3138 . Realm classes only implementing `` RealmModel '' might be tricky to support . 4 ) We should strive for easy integration with Databinding https : //developer.android.com/topic/libraries/data-binding/index.html
Single Object Notifications __EoT__ **Motivation** https : //github.com/realm/realm-object-store/pull/324 added support for single object notifications to the Object Store https : //github.com/realm/realm-cocoa/pull/4537 is adding the public API 's on the Cocoa side . We should add similar capabilities to Android . **Use cases** 1 ) Object change listeners will now only be called if the object actually changed . It should reduce the number of unnecessary updates which is happening right now due to the change notification being table based . 2 ) It should make it possible to register listeners for a single field value , e.g . if the UI should only be refreshed if a single field changed . 3 ) It should be possible to register a listener on an object and be give the old and new values , e.g . useful if you only need to refresh the UI if a String changed in a particular way . 3 ) It should now be possible to be notified when an object is deleted . See https : //github.com/realm/realm-java/issues/3138 . Realm classes only implementing `` RealmModel '' might be tricky to support . 4 ) We should strive for easy integration with Databinding https : //developer.android.com/topic/libraries/data-binding/index.html
Single Object Notifications __EoT__ **Motivation** https : //github.com/realm/realm-object-store/pull/324 added support for single object notifications to the Object Store https : //github.com/realm/realm-cocoa/pull/4537 is adding the public API 's on the Cocoa side . We should add similar capabilities to Android . **Use cases** 1 ) Object change listeners will now only be called if the object actually changed . It should reduce the number of unnecessary updates which is happening right now due to the change notification being table based . 2 ) It should make it possible to register listeners for a single field value , e.g . if the UI should only be refreshed if a single field changed . 3 ) It should be possible to register a listener on an object and be give the old and new values , e.g . useful if you only need to refresh the UI if a String changed in a particular way . 3 ) It should now be possible to be notified when an object is deleted . See https : //github.com/realm/realm-java/issues/3138 . Realm classes only implementing `` RealmModel '' might be tricky to support . 4 ) We should strive for easy integration with Databinding https : //developer.android.com/topic/libraries/data-binding/index.html
Request for community comments : Better Kotlin support __EoT__ With an awesome I/O17 being over , one of the big announcements were official support for [ Kotlin ] ( https : //blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/ ) . Realm is already fully interoperable with Kotlin and we have a [ Kotlin example here ] ( https : //github.com/realm/realm-java/tree/master/examples/kotlinExample ) and [ here ] ( https : //github.com/realm-demos/realm-surveys/tree/master/Kotlin ) that demonstrates how it works . But we want to make that support even better and In order to do that , we are looking for feedback on what you would most like to see changed so Realm works even better with Kotlin We have a few ideas ourselves : 1 ) ** ( DONE ) ** : Add extension functions for all classes with methods that currently accept ` Class < ? extends RealmModel > ` so ` KClass ` can be used directly , e.g . ` realm.where ( Person : :class ) ` instead of ` realm.where ( Person : :class.java ) ` . 2 ) ** ( DONE ) ** Detect nullability automatically in model classes . Right now you are required to use the Realm ` @ Required ` annotation ,
Request for community comments : Better Kotlin support __EoT__ With an awesome I/O17 being over , one of the big announcements were official support for [ Kotlin ] ( https : //blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/ ) . Realm is already fully interoperable with Kotlin and we have a [ Kotlin example here ] ( https : //github.com/realm/realm-java/tree/master/examples/kotlinExample ) and [ here ] ( https : //github.com/realm-demos/realm-surveys/tree/master/Kotlin ) that demonstrates how it works . But we want to make that support even better and In order to do that , we are looking for feedback on what you would most like to see changed so Realm works even better with Kotlin We have a few ideas ourselves : 1 ) ** ( DONE ) ** : Add extension functions for all classes with methods that currently accept ` Class < ? extends RealmModel > ` so ` KClass ` can be used directly , e.g . ` realm.where ( Person : :class ) ` instead of ` realm.where ( Person : :class.java ) ` . 2 ) ** ( DONE ) ** Detect nullability automatically in model classes . Right now you are required to use the Realm ` @ Required ` annotation ,
Migrate SyncUser to the ObjectStore __EoT__ SyncUser class should use the ObjectStore SyncUser .
Migrate SyncUser to the ObjectStore __EoT__ SyncUser class should use the ObjectStore SyncUser .
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Regression issue after # 3379 merged . Different default values when create with JSON Stream __EoT__ This is a regression issue after # 3379 merged . The APIs to create ` RealmObject ` from JSON stream will have different behaviours from other APIs . Underneath , it is using the non-managed object 's default constructor to create an object , then set its fields from JSON . Those absent field in JSON will have the default value set by the default non-managed object 's constructor . See comments from https : //github.com/realm/realm-java/pull/3379 # discussion_r77316752 It looks like it only effect the ` create ` part , not the ` update ` part right ? I see 3 choices : 1 ) Accept the current solution and document the breaking change 2 ) Rewrite ` createFromJsonStream ` to create JSONObject instead and return the result from ` createObjectFromJson ( jsonObj ) ` 3 ) Add support for # 777 For expendiency , I would probably just go with 1 ) now and make an issue for looking into 2/3 in th next week or two , because we need a better solution before releasing anything publically . If 3 ) is
Regression issue after # 3379 merged . Different default values when create with JSON Stream __EoT__ This is a regression issue after # 3379 merged . The APIs to create ` RealmObject ` from JSON stream will have different behaviours from other APIs . Underneath , it is using the non-managed object 's default constructor to create an object , then set its fields from JSON . Those absent field in JSON will have the default value set by the default non-managed object 's constructor . See comments from https : //github.com/realm/realm-java/pull/3379 # discussion_r77316752 It looks like it only effect the ` create ` part , not the ` update ` part right ? I see 3 choices : 1 ) Accept the current solution and document the breaking change 2 ) Rewrite ` createFromJsonStream ` to create JSONObject instead and return the result from ` createObjectFromJson ( jsonObj ) ` 3 ) Add support for # 777 For expendiency , I would probably just go with 1 ) now and make an issue for looking into 2/3 in th next week or two , because we need a better solution before releasing anything publically . If 3 ) is
All fields are empty after bulk insert __EoT__ # # # # Goal I am trying to bulk insert to my db after network operation is completed . For network operation I am using retrofit and response of network operation is successful and all json fields are non-empty or not null . Bulk insert operation is successful and all fields are non-empty on LG G3 ( Android 5.0.0 ) however same operation and same code have not successful result on Samsung Galaxy S4 Mini ( GT-I9190 Android 4.4.2 ) . # # # # Expected Results > After bulk insert operation , all fields must be filled on both phones . # # # # Code Sample I am trying to add items with following codes . I also tried insertOrUpdate ( listOfData ) but after operation all fields are empty again . `` ` java dbRealm.beginTransaction ( ) ; dbRealm.copyToRealmOrUpdate ( institutionList ) ; dbRealm.commitTransaction ( ) ; or dbRealm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { realm.copyToRealmOrUpdate ( listOfData ) ; } } ) ; `` ` # # # # Version of Realm and tooling Realm version (
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Memory leak ( Row ) in Java_io_realm_internal_Table_nativeSetPrimaryKey __EoT__ I just stumbled across this while investigating a Core crash seems we 're allocating a Row on the heap https : //github.com/realm/realm-java/blob/d547fde64271229cb6bb98df30deda05faeba9ce/realm/realm-library/src/main/cpp/io_realm_internal_Table.cpp # L1508
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
io.realm.exceptions.RealmMigrationNeededException : RealmMigration must be provided __EoT__ # # # # Goal > What do you want to achieve ? Update an existing Android application using the old ( pre January 2016 ) method for including Realm in our grade file . ( https : //realm.io/news/android-installation-change/ ) without crashes # # # # Expected Results > We expected Realm would update without crashing when we changed the way we included Realm in our application to the new way ( in the article above ) # # # # Actual Results > When users update the app from the Google Play Store , the app crashes upon opening . This is occurring when users have an old version already on their phones ( with the old way of including Realm ) . This is the stack trace we see when we re-create this crash : ` 11-22 09:02:49.356 4836-4836/com. < company-name > . < client-name > E/AndroidRuntime : FATAL EXCEPTION : main Process : com. < company-name > . < client-name > , PID : 4836 java.lang.RuntimeException : Unable to start activity ComponentInfo { com. < company-name > . < client-name > /com. < company-name > . < client-name > .SplashScreen
Bulk insert __EoT__ This is feature requested by http : //stackoverflow.com/questions/33358880/realm-java-fastest-bulk-write-methodology Most SQL database support `` batch insert '' like ` INSERT INTO tbl ( col1 , col2 ) VALUES ( 'val1 ' , 'val2 ' ) , ( 'val3 ' , 'val4 ' ) , ... ` Our current bottle neck would be when inserting lots of data , lots of duplicated checking are made , and lots or jni calls are made . We should find a way to pass a batch of different types of data to JNI and insert them through one JNI call .
Bulk insert __EoT__ This is feature requested by http : //stackoverflow.com/questions/33358880/realm-java-fastest-bulk-write-methodology Most SQL database support `` batch insert '' like ` INSERT INTO tbl ( col1 , col2 ) VALUES ( 'val1 ' , 'val2 ' ) , ( 'val3 ' , 'val4 ' ) , ... ` Our current bottle neck would be when inserting lots of data , lots of duplicated checking are made , and lots or jni calls are made . We should find a way to pass a batch of different types of data to JNI and insert them through one JNI call .
Bulk insert __EoT__ This is feature requested by http : //stackoverflow.com/questions/33358880/realm-java-fastest-bulk-write-methodology Most SQL database support `` batch insert '' like ` INSERT INTO tbl ( col1 , col2 ) VALUES ( 'val1 ' , 'val2 ' ) , ( 'val3 ' , 'val4 ' ) , ... ` Our current bottle neck would be when inserting lots of data , lots of duplicated checking are made , and lots or jni calls are made . We should find a way to pass a batch of different types of data to JNI and insert them through one JNI call .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
HashCode not working correctly __EoT__ Right now we use the following for ` hashCode ` : `` ` String realmName = realm.getPath ( ) ; String tableName = row.getTable ( ) .getName ( ) ; long rowIndex = row.getIndex ( ) ; int result = 17 ; result = 31 * result + ( ( realmName ! = null ) ? realmName.hashCode ( ) : 0 ) ; result = 31 * result + ( ( tableName ! = null ) ? tableName.hashCode ( ) : 0 ) ; result = 31 * result + ( int ) ( rowIndex ^ ( rowIndex > > > 32 ) ) ; return result ; `` ` The problem is ` rowIndex ` might suddenly change through the use of ` moveLastOver ` . This will change the hashCode unexpectedly and break things like Set : https : //docs.oracle.com/javase/7/docs/api/java/util/Set.html Cocoa currently uses the PrimaryKey value ( which is not allowed to change ) if possible , otherwise fallback to the default hashcode implementation . This has the downside that ` result.get ( 0 ) .equals ( result.get ( 0 ) ) == false ` . Without persistent identifiers we have to accept
Error : Operation not permitted in io_realm_internal_SharedGroup.cpp __EoT__ # # # # Goal > What do you want to achieve ? # # # # Actual Results io.realm.exceptions.RealmError : Unrecoverable error . Operation not permitted in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions ( Native Method ) at io.realm.internal.SharedGroup.openSharedGroupOrFail ( SharedGroup.java:95 ) at io.realm.internal.SharedGroup. & lt ; init & gt ; ( SharedGroup.java:74 ) at io.realm.internal.SharedGroupManager. & lt ; init & gt ; ( SharedGroupManager.java:49 ) at io.realm.BaseRealm. & lt ; init & gt ; ( BaseRealm.java:81 ) at io.realm.Realm. & lt ; init & gt ; ( Realm.java:140 ) at io.realm.Realm.createAndValidate ( Realm.java:240 ) at io.realm.Realm.createInstance ( Realm.java:220 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:126 ) at io.realm.Realm.getDefaultInstance ( Realm.java:166 ) at br.com.jbsoft.mobile.di.modules.ProviderModule.provideRealm ( ProviderModule.java:28 ) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get ( ProviderModule_ProvideRealmFactory.java:19 ) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get ( ProviderModule_ProvideRealmFactory.java:8 ) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers ( ControleUsuario_MembersInjector.java:33 ) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers ( ControleUsuario_MembersInjector.java:9 ) at br.com.jbsoft.mobile.di.components.DaggerProviderComponent.inject ( DaggerProviderComponent.java:243 ) at br.com.jbsoft.mobile.models.ControleUsuario.inject ( ControleUsuario.java:31 ) at br.com.jbsoft.mobile.models.ControleUsuario.getUsuario ( ControleUsuario.java:35 ) at br.com.jbsoft.mobile.views.Main.onCreate ( Main.java:59 ) at br.com.jbsoft.mobile.componentes.BaseActivity.onCreate ( BaseActivity.java:86 ) at android.app.Activity.performCreate ( Activity.java:6500 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1120 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:3072 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:3218 ) at android.app.ActivityThread.access $ 1000 ( ActivityThread.java:198 ) at android.app.ActivityThread $ H.handleMessage (
Credentials.usernamePassword with multiple options __EoT__ Pr . internal discussion on API alignment on Sync API 's , we need to supply a ` createAccountIfNeeded ` or ` createUser|useExistingAccount ` option . `` ` // Current Credentials.usernamePassword ( `` username '' , `` password '' , true ) ; // Last parameters should be a flag supporting the following : // createUser , useExistingAccount and createUser|useExistingAccount ~ createUserIfNeeded // Natural suggestion would either be enum or bitwise flags , but I think just having another constructor could be simpler : Credentials.usernamePassword ( `` user '' , `` password '' ) ; // no boolean param = createifNeeded Credentials.usernamePassword ( `` user '' , `` password '' , false ) ; // Choose to create or not // Alternatives Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.Options.CREATE_IF_NEEDED ) ; Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.CREATE_ACCOUNT | Credentials.USE_EXISITING_ACCOUNT ) ; `` ` Thoughts @ realm/java ?
Credentials.usernamePassword with multiple options __EoT__ Pr . internal discussion on API alignment on Sync API 's , we need to supply a ` createAccountIfNeeded ` or ` createUser|useExistingAccount ` option . `` ` // Current Credentials.usernamePassword ( `` username '' , `` password '' , true ) ; // Last parameters should be a flag supporting the following : // createUser , useExistingAccount and createUser|useExistingAccount ~ createUserIfNeeded // Natural suggestion would either be enum or bitwise flags , but I think just having another constructor could be simpler : Credentials.usernamePassword ( `` user '' , `` password '' ) ; // no boolean param = createifNeeded Credentials.usernamePassword ( `` user '' , `` password '' , false ) ; // Choose to create or not // Alternatives Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.Options.CREATE_IF_NEEDED ) ; Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.CREATE_ACCOUNT | Credentials.USE_EXISITING_ACCOUNT ) ; `` ` Thoughts @ realm/java ?
equalToAny ( ) / equalToAll ( ) / In ( ) — query for list membership __EoT__ How can I achieve a query like this in Realm ? Is there a way to pass ` RealmResults ` as a parameter for the queries ? `` ` sql SELECT * FROM users WHERE id IN ( SELECT * FROM banned_user_ids ) ; `` `
Calling setter method in no argument constructor results in NPE __EoT__ # # # # Goal Be able to use setter methods in the no arguments constructor . # # # # Expected Results No NPE and field set to the given value . # # # # Actual Results `` ` Caused by : java.lang.NullPointerException : Attempt to invoke virtual method 'void io.realm.BaseRealm.checkIfValid ( ) ' on a null object reference at io.realm.ModelRealmProxy.realmSet $ string ( ModelRealmProxy.java:62 ) at de.jonasrottmann.realmtest.Model.setString ( Model.java:13 ) at de.jonasrottmann.realmtest.Model. < init > ( Model.java:19 ) at io.realm.ModelRealmProxy. < init > ( ModelRealmProxy.java:51 ) at io.realm.DefaultRealmModuleMediator.newInstance ( DefaultRealmModuleMediator.java:80 ) at io.realm.BaseRealm.get ( BaseRealm.java:521 ) at io.realm.Realm.createObject ( Realm.java:709 ) `` ` # # # # Code Sample `` ` java public class Model extends RealmObject { public String string ; public void setString ( String string ) { this.string = string ; } public Model ( ) { setString ( `` Success ! `` ) ; } } `` ` # # # # Version of Realm and tooling Realm version ( s ) : 0.88.2 Android Studio version : 2.1 Preview 4 Which Android version and device : 6.0.1 ( MHC19J ) on
Use ObjectStore functions for creating meta tables __EoT__ To ensure full and stable compatibility between platforms we need to use Object Store functionality for creating the ` meta ` and ` pk ` tables . See e.g https : //github.com/realm/realm-java/pull/3409 # discussion-diff-78084779
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Reach the Local Ref Table size limit when 512+ fields changes for the same object . __EoT__ Currently the ` String ` array of changed field names are created from JNI which may reach the local ref table size limits . Idea to fix it is creating ` JavaString ` class and acquire a global ref then release the local ref . Test to reproduce it : `` ` java @ Test @ RunTestInLooperThread public void moreFieldsChangedThanLocalRefTableSize ( ) { final String CLASS_NAME = `` ManyFields '' ; final int FIELD_COUNT = 1024 ; RealmConfiguration config = looperThread.createConfiguration ( `` many_fields '' ) ; DynamicRealm realm = DynamicRealm.getInstance ( config ) ; realm.beginTransaction ( ) ; RealmSchema schema = realm.getSchema ( ) ; RealmObjectSchema objectSchema = schema.create ( CLASS_NAME ) ; for ( int i = 0 ; i < FIELD_COUNT ; i++ ) { objectSchema.addField ( `` field '' + i , int.class ) ; } DynamicRealmObject obj = realm.createObject ( CLASS_NAME ) ; realm.commitTransaction ( ) ; obj.addChangeListener ( new RealmObjectChangeListener < DynamicRealmObject > ( ) { @ Override public void onChange ( DynamicRealmObject object , ObjectChangeSet changeSet ) { assertEquals ( FIELD_COUNT , changeSet.getChangedFields ( ) .length
Realm crashes on Android 2.3 device __EoT__ This issue is reported by @ takke on twitter ( http : //twitter.com/takke/status/798782520749801472 ) . # # # # Goal Works on Android 2.3.x devices . # # # # Expected Results no crash # # # # Actual Results When executing ` Realm.getDefaultInstance ( ) ` , the app crash with following dump in logcat . `` ` 01-06 10:32:12.689 I/DEBUG ( 747 ) : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 01-06 10:32:12.689 I/DEBUG ( 747 ) : Build fingerprint : 'google/passion/passion:2.3.6/GRK39F/189904 : user/release-keys' 01-06 10:32:12.689 I/DEBUG ( 747 ) : pid : 845 , tid : 845 > > > jp.takke.realmandroid23issuesample < < < 01-06 10:32:12.689 I/DEBUG ( 747 ) : signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr de5685a7 01-06 10:32:12.689 I/DEBUG ( 747 ) : r0 00000007 r1 00000001 r2 800a3d68 r3 00000000 01-06 10:32:12.689 I/DEBUG ( 747 ) : r4 0000ce60 r5 0000abe0 r6 de5685a7 r7 00000000 01-06 10:32:12.689 I/DEBUG ( 747 ) : r8 0000abe0 r9 4214cb28 10 0000abe0 fp 800a5368 01-06 10:32:12.689 I/DEBUG ( 747 ) : ip 800a56cc sp
Realm crashes on Android 2.3 device __EoT__ This issue is reported by @ takke on twitter ( http : //twitter.com/takke/status/798782520749801472 ) . # # # # Goal Works on Android 2.3.x devices . # # # # Expected Results no crash # # # # Actual Results When executing ` Realm.getDefaultInstance ( ) ` , the app crash with following dump in logcat . `` ` 01-06 10:32:12.689 I/DEBUG ( 747 ) : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** 01-06 10:32:12.689 I/DEBUG ( 747 ) : Build fingerprint : 'google/passion/passion:2.3.6/GRK39F/189904 : user/release-keys' 01-06 10:32:12.689 I/DEBUG ( 747 ) : pid : 845 , tid : 845 > > > jp.takke.realmandroid23issuesample < < < 01-06 10:32:12.689 I/DEBUG ( 747 ) : signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr de5685a7 01-06 10:32:12.689 I/DEBUG ( 747 ) : r0 00000007 r1 00000001 r2 800a3d68 r3 00000000 01-06 10:32:12.689 I/DEBUG ( 747 ) : r4 0000ce60 r5 0000abe0 r6 de5685a7 r7 00000000 01-06 10:32:12.689 I/DEBUG ( 747 ) : r8 0000abe0 r9 4214cb28 10 0000abe0 fp 800a5368 01-06 10:32:12.689 I/DEBUG ( 747 ) : ip 800a56cc sp
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Detect when adding a ChangeListener on an IntentService __EoT__ IntentServices are Looper Threads , which means that Realm currently allow you to register change listeners there . However since every invocation of ` onHandleIntent ` is a single event . Registering a change listener will not work , since the Realm should be closed when exiting ` onHandleIntent ` . We might be able to implement a heuristic that checks if the current thread is named ` IntentServicer [ XXX ] ` the same way we test for Looper threads now , and throw an exception in that case : https : //android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/IntentService.java # 108
'and ' instead of 'an ' __EoT__ Hi , It seems to me there is a mistake in error message ` Replacing and element is not supported. ` This message appear in my release at io.realm.internal.Collection $ ListIterator.set ( Collection.java:257 ) `` ` public void set ( T object ) { throw new UnsupportedOperationException ( `` Replacing and element is not supported . `` ) ; } `` ` Best regards , Pierre
Cascade Deletes or Deleting RealmList Items from RealmObject __EoT__ I have a case where I 'm calling a copyToRealmOrUpdate ( List < MyObject > ) and I have noticed that the RealmList that is a property on MyObject gets updated to the new list for MyObject but old objects get orphaned and not deleted . My guess is that there is no support for cascading deletes . Since they do n't have primary keys , I have no identifiable way to query them and remove them after the fact . What would be the best possible solution for this ? Would MyObject 's property need to also have MyObject 's primary key in order to query and delete those old orphaned objects ? I could try some sort of app processing to remove them before the copyToRealmOrUpdate but it seems really heavy and only grows as the number of MyObjects grows . Get a List < MyObject > For each MyObject , query for the stored Realm MyObject . Get RealmList from stored Realm MyObject Loop through RealmList object and removeFromRealm Thoughts ?
Realm 1.2.0 : createAllFromJson fails on objects with @ PrimaryKey __EoT__ # # # # Goal > What do you want to achieve ? Use ` createAllFromJson ( ) ` # # # # Expected Results It should read the data . # # # # Actual Results FATAL EXCEPTION : IntentService [ LoadRealmDBIntentService ] io.realm.exceptions.RealmPrimaryKeyConstraintException : Value already exists : 0 at io.realm.internal.Table.throwDuplicatePrimaryKeyException ( Table.java:727 ) at io.realm.internal.Table.addEmptyRow ( Table.java:414 ) at io.realm.Realm.createObject ( Realm.java:681 ) at io.realm.IngredientsRealmProxy.createUsingJsonStream ( IngredientsRealmProxy.java:168 ) at io.realm.DefaultRealmModuleMediator.createUsingJsonStream ( DefaultRealmModuleMediator.java:754 ) at io.realm.Realm.createAllFromJson ( Realm.java:428 ) # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Realm sync feature enabled : no Android Studio version : . Which Android version and device : .
Crash In Android 4.2.1 & Android 4.2.2 With Realm 3.0 __EoT__ please help me . I use realm 3.0. and collect crash in android 4.2.1 & android 4.2.2 ( level 17 ) . It looks like only crash in level 17 . # # This is crash log : main ( 1 ) SIGSEGV ( SEGV_ACCERR ) # 00 pc 00018b6c /system/lib/libc.so ( memcpy+1324 ) [ armeabi-v7a ] java : io.realm.internal.SharedRealm.long nativeGetTable ( long , java.lang.String ) ( Native Method ) io.realm.internal.SharedRealm.io.realm.internal.Table getTable ( java.lang.String ) ( ProGuard:271 ) io.realm.MasteryRealmBeanRealmProxy.io.realm.internal.Table initTable ( io.realm.internal.SharedRealm ) ( ProGuard:149 ) io.realm.PersonSchemaMediator.io.realm.internal.Table createTable ( java.lang.Class , io.realm.internal.SharedRealm ) ( ProGuard:58 ) io.realm.Realm.void initializeRealm ( io.realm.Realm ) ( ProGuard:347 ) io.realm.Realm.io.realm.Realm createAndValidate ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:314 ) io.realm.Realm.io.realm.Realm createInstance ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:265 ) io.realm.RealmCache.io.realm.BaseRealm createRealmOrGetFromCache ( io.realm.RealmConfiguration , java.lang.Class ) ( ProGuard:143 ) io.realm.Realm.io.realm.Realm getInstance ( io.realm.RealmConfiguration ) ( ProGuard:228 ) com.shensz.student.service.storage.StorageService.io.realm.Realm getPersonRealm ( ) ( ProGuard:120 ) # # This is my code : private static final String REALM_NAME_PREFIX = `` person . `` ; private static final String REALM = `` .realm '' ; private RealmConfiguration getPersonRealmConfiguration ( String uid ) {
Crash In Android 4.2.1 & Android 4.2.2 With Realm 3.0 __EoT__ please help me . I use realm 3.0. and collect crash in android 4.2.1 & android 4.2.2 ( level 17 ) . It looks like only crash in level 17 . # # This is crash log : main ( 1 ) SIGSEGV ( SEGV_ACCERR ) # 00 pc 00018b6c /system/lib/libc.so ( memcpy+1324 ) [ armeabi-v7a ] java : io.realm.internal.SharedRealm.long nativeGetTable ( long , java.lang.String ) ( Native Method ) io.realm.internal.SharedRealm.io.realm.internal.Table getTable ( java.lang.String ) ( ProGuard:271 ) io.realm.MasteryRealmBeanRealmProxy.io.realm.internal.Table initTable ( io.realm.internal.SharedRealm ) ( ProGuard:149 ) io.realm.PersonSchemaMediator.io.realm.internal.Table createTable ( java.lang.Class , io.realm.internal.SharedRealm ) ( ProGuard:58 ) io.realm.Realm.void initializeRealm ( io.realm.Realm ) ( ProGuard:347 ) io.realm.Realm.io.realm.Realm createAndValidate ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:314 ) io.realm.Realm.io.realm.Realm createInstance ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:265 ) io.realm.RealmCache.io.realm.BaseRealm createRealmOrGetFromCache ( io.realm.RealmConfiguration , java.lang.Class ) ( ProGuard:143 ) io.realm.Realm.io.realm.Realm getInstance ( io.realm.RealmConfiguration ) ( ProGuard:228 ) com.shensz.student.service.storage.StorageService.io.realm.Realm getPersonRealm ( ) ( ProGuard:120 ) # # This is my code : private static final String REALM_NAME_PREFIX = `` person . `` ; private static final String REALM = `` .realm '' ; private RealmConfiguration getPersonRealmConfiguration ( String uid ) {
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Realm.getInstanceAsync ( ) __EoT__ **Edit by CM** : Changing the focus slightly of this issue . Discussions around exposing info and callbacks for custom migrations have been moved to # 4083 -- - As described in # 4270 we need to expose a ` Realm.getInstanceAsync ( config ) ` in order to allow synced Realms to be downloaded first . **Usage** `` ` java // Create configuration RealmConfiguration config = new RealmConfiguration.Builder ( ) .migration ( new MyMigration ( ) ) .schemaVersion ( 42 ) .build ( ) ; // Get instance on a Looper thread Realm.getInstanceAsync ( config , new Realm.Callback ( ) { public void OnSuccess ( Realm realm ) { // Use Realm } // Do we really want to force both onSuccess and onError ? // Perhaps make Realm.Callback abstract and provide default impl for this ? // Should we instead provide ` getInstanceAsync ( config , onSuccess , onError ) ` ? public void onError ( Exception e ) { // Something went wrong ? Migration failed , problems opening file ? } } ) `` ` **TODO** This issue is therefore now about the following : - [ x ] Add new API `
Realm.getInstanceAsync ( ) __EoT__ **Edit by CM** : Changing the focus slightly of this issue . Discussions around exposing info and callbacks for custom migrations have been moved to # 4083 -- - As described in # 4270 we need to expose a ` Realm.getInstanceAsync ( config ) ` in order to allow synced Realms to be downloaded first . **Usage** `` ` java // Create configuration RealmConfiguration config = new RealmConfiguration.Builder ( ) .migration ( new MyMigration ( ) ) .schemaVersion ( 42 ) .build ( ) ; // Get instance on a Looper thread Realm.getInstanceAsync ( config , new Realm.Callback ( ) { public void OnSuccess ( Realm realm ) { // Use Realm } // Do we really want to force both onSuccess and onError ? // Perhaps make Realm.Callback abstract and provide default impl for this ? // Should we instead provide ` getInstanceAsync ( config , onSuccess , onError ) ` ? public void onError ( Exception e ) { // Something went wrong ? Migration failed , problems opening file ? } } ) `` ` **TODO** This issue is therefore now about the following : - [ x ] Add new API `
Realm 1.2.0 : removing @ PrimaryKey constraint does not trigger RealmMigrationNeededException __EoT__ I like the whole issue template thing , but this one really does n't need one . ` deleteIfMigrationNeeded ( ) ` did not delete Realm after removing ` @ PrimaryKey ` annotation . # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Realm sync feature enabled : no Android Studio version : . Which Android version and device : .
missing field type getter of DynamicRealmObject __EoT__ In order to access model object by generic way , we have to know the type of each field . I 'd like to write as follows . `` ` DynamicRealmObject obj = ... ; for ( String fieldName : obj.getFieldNames ( ) ) { switch ( obj.getFieldType ( fieldName ) ) { // getFieldType ( String ) is missing case BOOLEAN : boolean b = obj.getBoolean ( fieldName ) ; // do something break ; case STRING : String str = obj.getString ( fieldName ) ; // do something break ; ... } } `` `
missing field type getter of DynamicRealmObject __EoT__ In order to access model object by generic way , we have to know the type of each field . I 'd like to write as follows . `` ` DynamicRealmObject obj = ... ; for ( String fieldName : obj.getFieldNames ( ) ) { switch ( obj.getFieldType ( fieldName ) ) { // getFieldType ( String ) is missing case BOOLEAN : boolean b = obj.getBoolean ( fieldName ) ; // do something break ; case STRING : String str = obj.getString ( fieldName ) ; // do something break ; ... } } `` `
missing field type getter of DynamicRealmObject __EoT__ In order to access model object by generic way , we have to know the type of each field . I 'd like to write as follows . `` ` DynamicRealmObject obj = ... ; for ( String fieldName : obj.getFieldNames ( ) ) { switch ( obj.getFieldType ( fieldName ) ) { // getFieldType ( String ) is missing case BOOLEAN : boolean b = obj.getBoolean ( fieldName ) ; // do something break ; case STRING : String str = obj.getString ( fieldName ) ; // do something break ; ... } } `` `
Case.INSENSITIVE query broken at 3.1.3 __EoT__ It appears that case-insensitive queries are broken in some cases . It appears that if you have a field with the same string in different cases , querying on the field in a case-insensitive manner returns no results , rather than the expected two results . This behaviour was working in 3.1.2 but broke in 3.1.3 . I suspect this may have been due to a change to realm core . It is still broken as of 3.3.2 . See the Repo here with a failing test : https : //github.com/51systems/RealmBugs The following test fails : `` ` java realm.beginTransaction ( ) ; Dog dog1 = realm.copyToRealm ( Dog.create ( `` ROVER '' ) ) ; Dog dog2 = realm.copyToRealm ( Dog.create ( `` Rover '' ) ) ; realm.commitTransaction ( ) ; assertThat ( realm.where ( Dog.class ) .equalTo ( `` name '' , `` ROVER '' , Case.SENSITIVE ) .findAll ( ) , containsInAnyOrder ( dog1 ) ) ; assertThat ( realm.where ( Dog.class ) .equalTo ( `` name '' , `` Rover '' , Case.SENSITIVE ) .findAll ( ) , containsInAnyOrder ( dog2 ) ) ; //Fails here assertThat ( realm.where
Loading data into Realm is not persisting and/or updating a query __EoT__ # # # # Goal Actual data storage with Realm . # # # # Expected Results A non-zero value for a size ( ) call . # # # # Actual Results Zero ( 0 ) results for a size ( ) call . # # # # Steps & Code to Reproduce `` ` classpath `` io.realm : realm-gradle-plugin:1.0.0 '' `` ` I 'm not sure what steps are necessary except to have an application similar to the one below and a JSON array containing objects at a URL . The Log.d ( ) line outputs the expected names from the JSON feed , so item2 appears to have correct information . However , when the code in UpdateMenu ( ) goes to use the data , menuitems appears to not be updated since menuitems.size ( ) == 0 according to the Android Studio debugger as I stepped through line-by-line . Either the objects did n't write out or there 's a bug in updating menuitems in Realm or I missed something important somewhere else ( special permissions ? ) . # # # # Code
DynamicRealmObject # setList ( ) causes native crash if the specified field is not a List __EoT__ Calling ` DynamicRealmObject # setList ( ) ` against an object from ` DynamicRealm ` causes a native crash if the field type is not a ` List ` .
Realm receives NPE when updating async queries after Realm is closed __EoT__ # # # # Goal > What do you want to achieve ? Write into Realm periodically and also run async queries . # # # # Expected Results No exceptions in the log # # # # Actual Results 2-01 09:53:49.315 4201-4229/com.zhuinden.realmbreak E/REALM_JAVA : java.lang.NullPointerException at io.realm.AndroidNotifier.completeAsyncResults ( AndroidNotifier.java:120 ) at io.realm.RealmQuery.closeSharedRealmAndSendEventToNotifier ( RealmQuery.java:2233 ) at io.realm.RealmQuery.access $ 000 ( RealmQuery.java:62 ) at io.realm.RealmQuery $ 3.call ( RealmQuery.java:1863 ) at io.realm.RealmQuery $ 3.call ( RealmQuery.java:1845 ) at io.realm.internal.async.BgPriorityCallable.call ( BgPriorityCallable.java:36 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:234 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1080 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:573 ) at java.lang.Thread.run ( Thread.java:856 ) 02-01 09:53:53.735 4201-4229/com.zhuinden.realmbreak E/REALM_JAVA : java.lang.NullPointerException at io.realm.AndroidNotifier.completeUpdateAsyncQueries ( AndroidNotifier.java:145 ) at io.realm.internal.async.QueryUpdateTask.run ( QueryUpdateTask.java:112 ) at io.realm.internal.async.BgPriorityRunnable.run ( BgPriorityRunnable.java:34 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:390 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:234 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1080 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:573 ) at java.lang.Thread.run ( Thread.java:856 ) # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample ` Word ` table contains 440000 entries . `` ` java public
'com.intellij : annotations ' lib included as generated code , causing DEX conflicts __EoT__ # # # # Goal Build an application that depends on Realm and an ` aar ` dependency that includes ` com.intellij : annotations ` as a dependency . # # # # Expected Results The application builds successfully . # # # # Actual Results When assembling the application , I get this error . `` ` FAILURE : Build failed with an exception . * What went wrong : Execution failed for task ' : apps : questionnaire : app : transformClassesWithDexForDebug ' . > com.android.build.api.transform.TransformException : com.android.ide.common.process.ProcessException : java.util.concurrent.ExecutionException : com.android.dex.DexException : Multiple dex files define Lorg/jetbrains/annotations/NotNull ; `` ` # # # # Steps & Code to Reproduce App build file contains the following : `` ` buildscript { repositories { classpath 'io.realm : realm-gradle-plugin:1.1.0' } } dependencies { compile project ( ' : path : to : library : project ' ) } `` ` Library build file contains : `` ` dependencies { compile 'com.intellij : annotations:12.0' } `` ` # # # # Workaround Since Realm generates the annotations library into the ` build/intermediates/transforms/RealmOptionalAPITransformer/debug/folders/1/10/realm-optional-api/org/jetbrains ` , there is no
RealmFileException when call Realm.getDefaultInstance ( ) __EoT__ I 'm called Realm.init ( context ) on Application onCreate . Then RealmFileException when call Realm.getDefaultInstance ( ) ， but default.realm is exists . The following log： 12-25 02:11:29.940 29972-29972/com.linchaolong.android.app E/AndroidRuntime : FATAL EXCEPTION : main Process : com.linchaolong.android.app , PID : 29972 io.realm.exceptions.RealmFileException : Unable to open a realm at path '/data/data/com.linchaolong.android.app/files/default.realm ' : Not a Realm file . in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 Kind : ACCESS_ERROR . at io.realm.internal.SharedRealm.nativeGetSharedRealm ( Native Method ) at io.realm.internal.SharedRealm.getInstance ( SharedRealm.java:205 ) at io.realm.internal.SharedRealm.getInstance ( SharedRealm.java:182 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:124 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) at com.linchaolong.android.library.orm.RealmUtils.get ( RealmUtils.java:72 ) at com.linchaolong.android.app.home.DatabaseFragment.onCreate ( DatabaseFragment.java:39 ) at android.support.v4.app.Fragment.performCreate ( Fragment.java:2075 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1060 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1295 ) at android.support.v4.app.BackStackRecord.run ( BackStackRecord.java:801 ) at android.support.v4.app.FragmentManagerImpl.execPendingActions ( FragmentManager.java:1682 ) at android.support.v4.app.FragmentManagerImpl $ 1.run ( FragmentManager.java:541 ) at android.os.Handler.handleCallback ( Handler.java:733 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:136 ) at android.app.ActivityThread.main ( ActivityThread.java:5016 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:515 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:795 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:611 ) at dalvik.system.NativeStart.main ( Native Method ) 12-25 02:11:30.014 2591-2591/ ? E/octvm : open /sys/class/power_supply/battery/status
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
SyncUser.getRefreshToken ( ) is package-local , should n't it be public ? __EoT__ # # # # Goal > What do you want to achieve ? Login with a previous non-expired session . # # # # Expected Results > Successful login and synchronization # # # # Actual Results > Can not login with previous token since SyncUser does not expose ` getRefreshToken ( ) ` anymore . I managed to find [ some code that uses reflection ] ( https : //github.com/realm/realm-java/blob/3f6844a3cc82859d746437b4c4106c13601222f4/realm/realm-library/src/androidTestObjectServer/java/io/realm/util/SyncTestUtils.java # L112 ) to access this method , but I do n't believe this should be the way . # # # # Steps code to reproduce `` ` SyncCredentials creds = SyncCredentials.usernamePassword ( `` xxxxxxxxxx '' , `` xxxxxxxxxxx '' ) ; SyncUser.Callback callback = new SyncUser.Callback < SyncUser > ( ) { @ Override public void onSuccess ( SyncUser user ) { SyncConfiguration build = new SyncConfiguration.Builder ( user , REALM_URL ) .waitForInitialRemoteData ( ) .modules ( new CnaRealmModule ( ) ) .build ( ) ; Realm.setDefaultConfiguration ( build ) ; Token refreshToken = getRefreshToken ( user ) ; // prefs.realmRefreshToken ( ) } public void onError ( ObjectServerError error ) { String errorMsg
onSuccess might not be called with the right Realm version for async transaction __EoT__ Now the ` onSuccess ` relies on the ` REALM_CHANGED ` triggers the ` advance_read ` first . If it is running with a unfinished async query , the ` REALM_CHANGED ` might be swallowed by ` updateAsyncQueries ` and the Realm does n't make a ` andvance_read ` . In above case , the next message in the handler queue is to run ` onSuccess ` , but it the function will be called in a wrong earlier Realm version which the changes in the async transaction is not in . -- -- -- -- -- -- -- -- -- -- - Update Jan. 25th 2016 -- -- -- -- -- -- -- -- -- -- -- -- - http : //stackoverflow.com/questions/34938152/callback-never-be-invoked-when-i-excute-a-asynchronous-transaction-with-realm See above question on SO . We need to discuss of the user case of ` onSuccess ` . Currently if the Realm instance is closed , then the ` onSuccess ` wo n't be called depends on the timing . But it might not be what user expect . Shall we just let ` onSuccess ` be delivered whenever the transaction is
release step failed at monkeyDebug __EoT__ I got a COULD_NOT_FIND_MATCHING_ABI error when running ` monkeyDebug ` against our GridViewExample that uses APK Split . We need to figure out why
[ Sync ] Change stop policy to SyncSessionStopPolicy : : __EoT__ Current policy for the session is ` SyncSessionStopPolicy : :Immediately ` we should change it to ` SyncSessionStopPolicy : : AfterChangesUploaded ` to align with other binding and to prevent use cases where the Realm might be deleted before the last changes get synchronised . This can happen when using ` logout ` which will mark the ` SyncUser ` and associated Realms to be deleted on the next app launch . https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp # L177-L182 https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_manager.cpp # L123-L140
Enable encryption with Sync __EoT__ We ’ re not using the encryption key for Synced Realm https : //github.com/realm/realm-java/blob/fef417cb35a9920838a07f1ab93c8a84645b4d6f/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp # L134 this is because the ObjectStore has a different ` realm_encryption_key ` https : //github.com/realm/realm-object-store/blob/3eada170f380174992b47b6023f375f3f372a9d2/src/sync/sync_config.hpp # L108 parameter that we need to set ( as opposed to the non sync encryption param ` encryption_key ` https : //github.com/realm/realm-object-store/blob/563f2e9993ae4f4a8ab6f524a1ba71e707ebe78f/src/shared_realm.hpp # L145 ) https : //github.com/realm/realm-object-store/pull/414
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Permission denied in io_realm_internal_SharedGroup.cpp line 113 __EoT__ io.realm.exceptions.RealmError : Unrecoverable error . Permission denied in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions ( Native Method ) at io.realm.internal.SharedGroup.openSharedGroupOrFail ( SharedGroup.java:95 ) at io.realm.internal.SharedGroup. < init > ( SharedGroup.java:74 ) at io.realm.internal.SharedGroupManager. < init > ( SharedGroupManager.java:49 ) at io.realm.BaseRealm. < init > ( BaseRealm.java:86 ) at io.realm.Realm. < init > ( Realm.java:135 ) at io.realm.Realm.createAndValidate ( Realm.java:233 ) at io.realm.Realm.createInstance ( Realm.java:214 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:126 ) at io.realm.Realm.getDefaultInstance ( Realm.java:160 ) at com.example.ouxch.myrealmdemo.MainActivity.onCreate ( MainActivity.java:43 ) at android.app.Activity.performCreate ( Activity.java:6303 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1108 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2376 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2483 ) at android.app.ActivityThread.access $ 900 ( ActivityThread.java:153 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1349 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:148 ) at android.app.ActivityThread.main ( ActivityThread.java:5438 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:739 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:629 ) # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Android Studio version : 2.2 Which Android version and device : Android 4.4.3 device is PDA I am learning to use Realm database , I want modify Realm file path ,
Permission denied in io_realm_internal_SharedGroup.cpp line 113 __EoT__ io.realm.exceptions.RealmError : Unrecoverable error . Permission denied in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions ( Native Method ) at io.realm.internal.SharedGroup.openSharedGroupOrFail ( SharedGroup.java:95 ) at io.realm.internal.SharedGroup. < init > ( SharedGroup.java:74 ) at io.realm.internal.SharedGroupManager. < init > ( SharedGroupManager.java:49 ) at io.realm.BaseRealm. < init > ( BaseRealm.java:86 ) at io.realm.Realm. < init > ( Realm.java:135 ) at io.realm.Realm.createAndValidate ( Realm.java:233 ) at io.realm.Realm.createInstance ( Realm.java:214 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:126 ) at io.realm.Realm.getDefaultInstance ( Realm.java:160 ) at com.example.ouxch.myrealmdemo.MainActivity.onCreate ( MainActivity.java:43 ) at android.app.Activity.performCreate ( Activity.java:6303 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1108 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2376 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2483 ) at android.app.ActivityThread.access $ 900 ( ActivityThread.java:153 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1349 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:148 ) at android.app.ActivityThread.main ( ActivityThread.java:5438 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:739 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:629 ) # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Android Studio version : 2.2 Which Android version and device : Android 4.4.3 device is PDA I am learning to use Realm database , I want modify Realm file path ,
Permission denied in io_realm_internal_SharedGroup.cpp line 113 __EoT__ io.realm.exceptions.RealmError : Unrecoverable error . Permission denied in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions ( Native Method ) at io.realm.internal.SharedGroup.openSharedGroupOrFail ( SharedGroup.java:95 ) at io.realm.internal.SharedGroup. < init > ( SharedGroup.java:74 ) at io.realm.internal.SharedGroupManager. < init > ( SharedGroupManager.java:49 ) at io.realm.BaseRealm. < init > ( BaseRealm.java:86 ) at io.realm.Realm. < init > ( Realm.java:135 ) at io.realm.Realm.createAndValidate ( Realm.java:233 ) at io.realm.Realm.createInstance ( Realm.java:214 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:126 ) at io.realm.Realm.getDefaultInstance ( Realm.java:160 ) at com.example.ouxch.myrealmdemo.MainActivity.onCreate ( MainActivity.java:43 ) at android.app.Activity.performCreate ( Activity.java:6303 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1108 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2376 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2483 ) at android.app.ActivityThread.access $ 900 ( ActivityThread.java:153 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1349 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:148 ) at android.app.ActivityThread.main ( ActivityThread.java:5438 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:739 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:629 ) # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Android Studio version : 2.2 Which Android version and device : Android 4.4.3 device is PDA I am learning to use Realm database , I want modify Realm file path ,
Allow 0-length values array on RealmQuery.in ( ) __EoT__ Allow 0-length values array on RealmQuery.in ( ) > cmelchior : Should we allow the 0-length values array ? It would basically default to the query always returning the empty set , but I would imagine that this values array in most cases will be generated in a loop based on some other input , so I think that this array in a lot of cases will actually be empty , making it a hassle for the user to work around . > > bdash : In Cocoa we have [ ` TrueExpression ` and ` FalseExpression ` ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L88-L114 ) that we use for cases like [ handling an ` or ` group containing zero elements ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L727-L732 ) . from [ previous discussion ] ( https : //github.com/realm/realm-java/pull/3133 # discussion_r73099630 )
Support transient keyword __EoT__ From this article https : //medium.com/ @ ffvanderlaan/realm-auto-updated-objects-what-you-need-to-know-b2d769d12d76 # .hzmdv62a9 Would it make sense to allow the ` transient ` keyword and just treat any field with ` transient ` as having ` @ Ignore ` ? On the top of my head I can not come with any negatives , but plenty of positives : * ` transitive ` literally means `` do n't serialize this '' = `` Do n't save to disk '' = `` @ Ignore '' * Better support for GSON . * Closer to language semantics instead of using custom annotations . * Open question : Should we deprecate/remove ` @ Ignore ` ? Some good counter points here http : //stackoverflow.com/questions/2154622/why-does-jpa-have-a-transient-annotation , but I 'm not entirely convinced they apply to the Android world . `` ` public class Person extends RealmObject { // Today @ Ignore public String foo ; // With change public transient String foo ; } `` ` Thoughts @ realm/java ? **TODO** - [ ] Decide if ` @ Ignore ` should be deprecated - [ ] Modify annotation processor so ` transient ` are treated as ` @ Ignore ` - [ ]
`` Object '' is not part of the schema for this Realm after upgrading from 2.1.1 to 2.2.0 __EoT__ # # # # Goal I want to upgrade to Realm 2.2.0 . # # # # Expected Results All my Realm Objects should work the same way as they did in 2.1.1 . # # # # Actual Results > When I try to do a simple Query : `` ` java public AccessToken getAccessToken ( ) { return realm.where ( AccessToken.class ) .equalTo ( AccessToken.PRIMARY_KEY , AccessToken.PRIMARY_KEY_VALUE ) .findFirst ( ) ; } `` ` > I get this Crash : `` ` 11-12 23:37:15.172 26922-26922/com.plzjoinus.plzjoinus E/AndroidRuntime : FATAL EXCEPTION : main Process : com.plzjoinus.plzjoinus , PID : 26922 java.lang.RuntimeException : Unable to start activity ComponentInfo { com.plzjoinus.plzjoinus/com.plzjoinus.plzjoinus.Activities.LoginActivity } : java.lang.IllegalArgumentException : AccessToken is not part of the schema for this Realm at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2646 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2707 ) at android.app.ActivityThread.-wrap12 ( ActivityThread.java ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1460 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:154 ) at android.app.ActivityThread.main ( ActivityThread.java:6077 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:865 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:755 ) Caused by
`` Object '' is not part of the schema for this Realm after upgrading from 2.1.1 to 2.2.0 __EoT__ # # # # Goal I want to upgrade to Realm 2.2.0 . # # # # Expected Results All my Realm Objects should work the same way as they did in 2.1.1 . # # # # Actual Results > When I try to do a simple Query : `` ` java public AccessToken getAccessToken ( ) { return realm.where ( AccessToken.class ) .equalTo ( AccessToken.PRIMARY_KEY , AccessToken.PRIMARY_KEY_VALUE ) .findFirst ( ) ; } `` ` > I get this Crash : `` ` 11-12 23:37:15.172 26922-26922/com.plzjoinus.plzjoinus E/AndroidRuntime : FATAL EXCEPTION : main Process : com.plzjoinus.plzjoinus , PID : 26922 java.lang.RuntimeException : Unable to start activity ComponentInfo { com.plzjoinus.plzjoinus/com.plzjoinus.plzjoinus.Activities.LoginActivity } : java.lang.IllegalArgumentException : AccessToken is not part of the schema for this Realm at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2646 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2707 ) at android.app.ActivityThread.-wrap12 ( ActivityThread.java ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1460 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:154 ) at android.app.ActivityThread.main ( ActivityThread.java:6077 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:865 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:755 ) Caused by
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
OutOfMemoryError : std : :bad_alloc in io_realm_internal_TableQuery.cpp line 1285 __EoT__ # # # # Goal > Our app logs metrics from a wearable ( sent via BTLE ) . Metrics are sent and saved to Realm every second . The Realm is observed to display the metrics back to the user . Other metrics are periodically sent to a backend ( and then removed from the Realm ) . The app operates for about 5 hours before getting closed due to an OoM . The Realms all seem to be closed correctly ( no warnings about about open Realms ) . # # # # Expected Results > I 'm expecting uninterrupted periods of use . # # # # Actual Results Logcat reveals the following at the point that the app is closed : > 11-21 05:15:33.808 27702-28621/com.snuza.picoconnect E/REALM_JNI : jni : ThrowingException 4 , std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 , . 11-21 05:15:33.809 27702-28655/com.snuza.picoconnect E/REALM_JNI : jni : ThrowingException 4 , std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 , . 11-21 05:15:33.841 27702-28621/com.snuza.picoconnect E/REALM_JNI : Exception has been throw : std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 11-21 05:15:33.841 27702-28655/com.snuza.picoconnect E/REALM_JNI : Exception has been throw
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
SIGSEGV ( SEGV_MAPERR ) SIGSEGV ( SEGV_ACCERR ) __EoT__ 1 # 00 pc 00086598 /data/app-lib/com.netease.ntespm-1/librealm-jni.so [ armeabi-v7a ] 2 # 01 pc 000a9d37 /data/app-lib/com.netease.ntespm-1/librealm-jni.so [ armeabi-v7a ] 3 # 02 pc 0005ec8d /data/app-lib/com.netease.ntespm-1/librealm-jni.so [ armeabi-v7a ] 4 java : 5 io.realm.internal.SharedRealm.void nativeSetVersion ( long , long ) ( Native Method ) 6 io.realm.internal.SharedRealm.void setSchemaVersion ( long ) ( SharedRealm.java:236 ) 7 io.realm.BaseRealm.void setVersion ( long ) ( BaseRealm.java:496 ) 8 io.realm.Realm.void initializeRealm ( io.realm.Realm ) ( Realm.java:323 ) 9 io.realm.Realm.io.realm.Realm createAndValidate ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( Realm.java:299 ) 10 io.realm.Realm.io.realm.Realm createInstance ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( Realm.java:264 ) 11 io.realm.RealmCache.io.realm.BaseRealm createRealmOrGetFromCache ( io.realm.RealmConfiguration , java.lang.Class ) ( RealmCache.java:143 ) 12 io.realm.Realm.io.realm.Realm getDefaultInstance ( ) ( Realm.java:209 ) ! [ image ] ( https : //cloud.githubusercontent.com/assets/4246885/21756641/b2d90d9e-d65e-11e6-84df-501c09dfd998.png )
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Accelarate Realm transformer __EoT__ We got some complains ( http : //stackoverflow.com/questions/37928953/realm-gradle-tasks ) about the speed of transformers and there is always space to improve it , like : - Replace slow groovy with kotlin - ...
No Longer Receiving Object Creation Notification __EoT__ I was using `` ` java realm.where ( Item.class ) .equalTo ( `` id '' , id ) .findFirstAsync ( ) .asObservable ( ) .filter ( new Func1 < item , Boolean > ( ) { @ Override public Boolean call ( Item item ) { return item.isLoaded ( ) & & item.isValid ( ) ; } } ) .subscribe ( new Action1 < Item > ( ) { @ Override public void call ( Item item ) { // Do stuff } } ) `` ` to listen to changes to the Item with the id . Before 3.1.0 , if the item with the specified id is not in Realm yet , the observable would be triggered when the item is created . This is no longer the case .
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Predictive UI animations and local transactions __EoT__ Without https : //github.com/realm/realm-java/issues/4225 , user will still meets the un-synced list views when doing local commit . Take below sequences for example : list - 10 items local commit delete the 1st item touch event comes , since the list is always live , list.size ( ) return 9 and did a refresh ( ) , everything is up to date fine grained notification comes , with deletion = [ 0 ] , 0 should be the index in the old collection , but now , since the list has been updated already , it will delete the 1st in the updated view , which is wrong The cocoa 's solution about this : https : //realm.io/docs/objc/latest/ # interface-driven-writes My thoughts , the current cocoa solution ( suppress the next chosen listener ) is still the best option : 1 . It avoids the overhead to trigger all other listeners on the same thread , which is not necessary when other list view is not in the front 2 . Not too complex to users , user just need to update the view according to what he changed in the local transaction
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Do thread checking in ` RealmQuery ` __EoT__ Somehow most APIs in ` RealmQuery ` do n't do thread checking , so user can : ` RealmQuery q1 = realm.where ( ) ` in thread1 , then do ` q2.equalTo ( ) ` in thread2 .
Support for suppressing specific listeners from writes __EoT__ Similar issue from cocoa : https : //github.com/realm/realm-cocoa/issues/3665 > The current fine-grained notifications approach makes it challenging to support scenarios where the UI is updated before the data model , rather than the reactive approach of the model being the canonical source of truth that the UI merely displays . The simplest motivating use-case is UITableView reordering ; when using the built-in functionality for dragging rows around the delegate is merely notified of changes already displayed in the UI , and re-applying those changes in the collection notification block after the Realm is committed will corrupt the order to the UITV . Because notifications are coalesced , users ca n't reasonably filter out these redundant updates themselves . and even if they could it would be very easy to get wrong . > We should expose a variant of ` Realm.write ( _ : ) ` that would specify that the transaction should not produce notifications on the current thread , as the things they want to update with the notifications are already up-to-date . In addition , this variant of write transactions would block until all async notifications are ready and
Support android experimental plugin __EoT__ Question from SO : http : //stackoverflow.com/questions/36341822/run-realm-with-android-experimental-plugin What could be fixed in our side : in 'gradle-plugin/Realm.groovy ` check through the plugin name instead of the class . `` ` def isAndroidApp = project.plugins.hasPlugin ( `` com.android.application '' ) || project.plugins.hasPlugin ( `` com.android.model.application '' ) // Android experimental plugin def isAndroidLib = project.plugins.hasPlugin ( `` com.android.library '' ) || project.plugins.hasPlugin ( `` com.android.model.library '' ) // Android experimental plugin `` ` However , it will still fail because of the ` AndroidAptPlugin ` does n't support Android experimental plugin yet , see issue https : //bitbucket.org/hvisser/android-apt/issues/46/support-for-experimental-plugin
Support android experimental plugin __EoT__ Question from SO : http : //stackoverflow.com/questions/36341822/run-realm-with-android-experimental-plugin What could be fixed in our side : in 'gradle-plugin/Realm.groovy ` check through the plugin name instead of the class . `` ` def isAndroidApp = project.plugins.hasPlugin ( `` com.android.application '' ) || project.plugins.hasPlugin ( `` com.android.model.application '' ) // Android experimental plugin def isAndroidLib = project.plugins.hasPlugin ( `` com.android.library '' ) || project.plugins.hasPlugin ( `` com.android.model.library '' ) // Android experimental plugin `` ` However , it will still fail because of the ` AndroidAptPlugin ` does n't support Android experimental plugin yet , see issue https : //bitbucket.org/hvisser/android-apt/issues/46/support-for-experimental-plugin
Android component : RealmCursor __EoT__ Realm for Android looks awesome ; however there are some Android specific use cases where certain elements work better when backed by a Cursor ( http : //developer.android.com/reference/android/database/Cursor.html ) and when using a CursorLoader ( http : //developer.android.com/reference/android/content/CursorLoader.html ) . Is there any plans for supporting this interface ?
Get a notification about deleted RealmObject __EoT__ `` ` java Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Item > items = realm.where ( Item.class ) .findAllAsync ( ) ; // items contain item with id = 1 items.addChangeListener ( new OrderedRealmCollectionChangeListener < RealmResults < Item > > ( ) { @ Override public void onChange ( RealmResults < Item > collection , OrderedCollectionChangeSet changeSet ) { OrderedCollectionChangeSet.Range [ ] deletions = changeSet.getDeletionRanges ( ) ; // deletions array contains item with id = 1 in range , but collection does not have this item } } ) ; realm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { Item item = realm.where ( Item.class ) .equalTo ( Item.ID , 1 ) .findFirst ( ) ; item.deleteFromRealm ( ) ; } } ) ; `` ` The question is how to get deleted ` RealmObject ` ? ` collection ` does not have it , only index is received in ` getDeletionRanges ` ( it is ok for ` RecyclerView ` adapter , ` collection ` represents current db state ) . But how to get a notification about deleted ` RealmObject
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Partial Sync : Unsubscribe named queries __EoT__ See https : //github.com/realm/product/issues/391 for details
Crash on 2database access with encryption enabled __EoT__ Taking my comment from # 810 and making it its own issue - On one of my test devices , running realm with encryption enabled produces a SIGSERV in libc . The line causing the crash is ` validateMethod = generatedClass.getMethod ( `` validateTable '' , new Class [ ] { ImplicitTransaction.class } ) ; ` , in initializeRealm in Realm.java ( line 606 in 0.79.1 ) . Notably the crash is not happening on the first initializeRealm is called , only on any subsequent time . The device with the issue is a Droid X running Android 4.4.4 - notable in that it is a [ Low Ram ] ( https : //source.android.com/devices/tech/low-ram.html ) device . The issue does not happen if encryption is disabled ( so I 've only tested its presence on 0.78 and 0.79.1 ) .
Crash on 2database access with encryption enabled __EoT__ Taking my comment from # 810 and making it its own issue - On one of my test devices , running realm with encryption enabled produces a SIGSERV in libc . The line causing the crash is ` validateMethod = generatedClass.getMethod ( `` validateTable '' , new Class [ ] { ImplicitTransaction.class } ) ; ` , in initializeRealm in Realm.java ( line 606 in 0.79.1 ) . Notably the crash is not happening on the first initializeRealm is called , only on any subsequent time . The device with the issue is a Droid X running Android 4.4.4 - notable in that it is a [ Low Ram ] ( https : //source.android.com/devices/tech/low-ram.html ) device . The issue does not happen if encryption is disabled ( so I 've only tested its presence on 0.78 and 0.79.1 ) .
Fix JNI logging method level __EoT__ Currently all method uses the same level ` io_realm_log_LogLevel_ERROR ` https : //github.com/realm/realm-java/blob/fb677d98bd0c329115295d139d3fe44f3b5e5ac5/realm/realm-library/src/main/cpp/jni_util/log.hpp # L88-L108
JSON API v2 __EoT__ Design and implement a more complete solution for our JSON API . Current design doc is here : https : //github.com/cmelchior/realm-java/blob/29ab93bf7aeaa5cd048cbf468a228046496ecb13/json_api.md Other features : **Strict mode : ** We should probably consider adding something like STRICT mode to our JSON parser which could throw an exception when encountering JSON properties it did n't recognise . At least for debugging it could save a lot of time . **Json export** It should also be possible to convert any RealmObjects to JSON .
List < CustomObject > or List < List.. < CsuomObj > > convert to string using Gson and DB migration __EoT__ Hello , We are trying to migrate our DB from DB40 to Realm as we see many procs and support . Here are the observations that we found in migration , then will talk about issue that we are facing . `` ` - DB40 will have a plain models where the serialization and de-serialization is straight forward with the Gson or Jackson etc.. - We have to createObj for every instance to save in DB . - Nested ReleamList and List are bit confused . - JSON Serialization and De-serialization is not straight forward ( using Gson ) using Gson.toJson ( ) , Gson.fromJson ( ) . - Our DB modules are Plain Models , changing to Releam is bit difficult . Though its called as Migration : ) ... we have to have a considerable amount of efforts for the migration ( fingers crossed ) . `` ` The common Gson builder will not work in our case we have to have a Gson module to avoid StackOverflow . I am using `` gson:2.7 '' and here
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Can not get Realm instance : io.realm.exceptions.RealmFileException : Unable to open a realm at path __EoT__ # # # # Goal Call ` Realm realm = Realm.getInstance ( mRealmConfig ) ; ` where ` mRealmConfig = RealmConfiguration.Builder ( ) .schemaVersion ( 2 ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; ` # # # # Expected Results Get a Realm without exception . # # # # Actual Results The following exception is thrown : ` io.realm.exceptions.RealmFileException : Unable to open a realm at path '/data/data/com.dropbox.paper/files/default.realm.management ' : make_dir ( ) failed : No such file or directory . ( make_dir ( ) failed : No such file or directory ) ( /data/data/com.dropbox.paper/files/default.realm.management ) in /home/cc/repo/realm/release/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 217 Kind : ACCESS_ERROR. ` More here : [ realm-exception.txt ] ( https : //github.com/realm/realm-java/files/920336/realm-exception.txt ) # # # # Steps & Code to Reproduce This happens on first launch of the app . # # # # Version of Realm and tooling Realm version ( s ) : 2.2.1 Tried upgrading to 3.1.2 but still seeing the same issue . Realm sync feature enabled : unsure . Would this affect this ? How can I turn this on/off ? Android Studio version
Cache fieldType alongside fieldIndex __EoT__ Copy from # 1610 `` ` RealmQuery.java Line 161 columns.get ( fieldName ) called potentially 3 times . if ( columns.get ( fieldName ) == null ) { throw new IllegalArgumentException ( String.format ( `` Field ' % s ' does not exist . `` , fieldName ) ) ; } ColumnType tableColumnType = table.getColumnType ( columns.get ( fieldName ) ) ; if ( fieldType ! = null & & fieldType ! = tableColumnType ) { throw new IllegalArgumentException ( String.format ( `` Field ' % s ' : type mismatch . Was % s , expected % s . `` , fieldName , fieldType , tableColumnType ) ) ; } return new long [ ] { columns.get ( fieldName ) } ; `` ` Also , why does getColumnType need to call native jni to get column type every single time and not cached ? Strange this has to be done every time since column index is cached but column data type is not .
Samsung Galaxy S3 mini : Heap memory corruption __EoT__ Samsung Galaxy S3 mini ( i8200N ) Trying to use Realm v2 we 're getting the following crash : `` ` [ 02-10 16:15:02.593 10641-10641/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5ab96ff6 ( code=2 ) , thread 10641 ( link.thismo.app ) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm : JNI ERROR ( app bug ) : accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm : VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0xdeadd00d ( code=1 ) , thread 10713 ( AnalyticsWorker ) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc : @ @ @ ABORTING : LIBC : HEAP MEMORY CORRUPTION IN dlmalloc ] `` ` A more complete crash log that happened on version 2.4.0-SNAPSHOT : https : //gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g . 0.90.1 .
Samsung Galaxy S3 mini : Heap memory corruption __EoT__ Samsung Galaxy S3 mini ( i8200N ) Trying to use Realm v2 we 're getting the following crash : `` ` [ 02-10 16:15:02.593 10641-10641/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5ab96ff6 ( code=2 ) , thread 10641 ( link.thismo.app ) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm : JNI ERROR ( app bug ) : accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm : VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0xdeadd00d ( code=1 ) , thread 10713 ( AnalyticsWorker ) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc : @ @ @ ABORTING : LIBC : HEAP MEMORY CORRUPTION IN dlmalloc ] `` ` A more complete crash log that happened on version 2.4.0-SNAPSHOT : https : //gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g . 0.90.1 .
Samsung Galaxy S3 mini : Heap memory corruption __EoT__ Samsung Galaxy S3 mini ( i8200N ) Trying to use Realm v2 we 're getting the following crash : `` ` [ 02-10 16:15:02.593 10641-10641/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5ab96ff6 ( code=2 ) , thread 10641 ( link.thismo.app ) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm : JNI ERROR ( app bug ) : accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm : VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0xdeadd00d ( code=1 ) , thread 10713 ( AnalyticsWorker ) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc : @ @ @ ABORTING : LIBC : HEAP MEMORY CORRUPTION IN dlmalloc ] `` ` A more complete crash log that happened on version 2.4.0-SNAPSHOT : https : //gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g . 0.90.1 .
[ Sync ] Crashes in the error handler is swallowed by JNI __EoT__ If the SyncClients error handler is called , it will call back to Java , but if there is an exception in the Java code for whatever reason , that error gets completely swallowed . We need to fix that somehow , so some error information surface somewhere .
A module/schema must include all required classes __EoT__ If class ` A ` links to class ` B ` but a module/schema does not include ` B ` , object store will crash during validation ( calling ` update_schema ` ) . We must ensure that all required classes ( direct and indirect ) are included in the module/schema . If a class is missing , an exception must be thrown .
RealmMigrationNeededException only on Android 4.2.2 and Samsung Galaxy S3 Mini __EoT__ Our crash logs just start showing up this crash . It only affects Android version 4.2.2 and Samsung GT-I8200N phone . Realm version 2.3.1 `` ` java.lang.RuntimeException : Unable to start activity ComponentInfo { MainActivity } : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2262 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2316 ) at android.app.ActivityThread.access $ 700 ( ActivityThread.java:158 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1296 ) at android.os.Handler.dispatchMessage ( Handler.java:99 ) at android.os.Looper.loop ( Looper.java:176 ) at android.app.ActivityThread.main ( ActivityThread.java:5365 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:511 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:1102 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:869 ) at dalvik.system.NativeStart.main ( Native Method ) Caused by : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at io.realm.RealmPumpBasalRateConfigRealmProxy.validateTable ( RealmPumpBasalRateConfigRealmProxy.java:495 ) at io.realm.DefaultRealmModuleMediator.validateTable ( DefaultRealmModuleMediator.java:66 ) at io.realm.Realm.initializeRealm ( Realm.java:348 ) at io.realm.Realm.createAndValidate ( Realm.java:313 ) at io.realm.Realm.createInstance ( Realm.java:278 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:143 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) `` `
RealmMigrationNeededException only on Android 4.2.2 and Samsung Galaxy S3 Mini __EoT__ Our crash logs just start showing up this crash . It only affects Android version 4.2.2 and Samsung GT-I8200N phone . Realm version 2.3.1 `` ` java.lang.RuntimeException : Unable to start activity ComponentInfo { MainActivity } : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2262 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2316 ) at android.app.ActivityThread.access $ 700 ( ActivityThread.java:158 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1296 ) at android.os.Handler.dispatchMessage ( Handler.java:99 ) at android.os.Looper.loop ( Looper.java:176 ) at android.app.ActivityThread.main ( ActivityThread.java:5365 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:511 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:1102 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:869 ) at dalvik.system.NativeStart.main ( Native Method ) Caused by : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at io.realm.RealmPumpBasalRateConfigRealmProxy.validateTable ( RealmPumpBasalRateConfigRealmProxy.java:495 ) at io.realm.DefaultRealmModuleMediator.validateTable ( DefaultRealmModuleMediator.java:66 ) at io.realm.Realm.initializeRealm ( Realm.java:348 ) at io.realm.Realm.createAndValidate ( Realm.java:313 ) at io.realm.Realm.createInstance ( Realm.java:278 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:143 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) `` `
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
Upgrade to Finatra 1.1.1 __EoT__ 1.1.1 has a bunch of goodies over 0.2.4 and is available on Maven Central .
Update gradle-bintray-plugin to 1.3 when its released __EoT__ See https : //github.com/bintray/gradle-bintray-plugin/issues/68 We need update the plugin when it is released . This should solve the problem , when jars are bintrayUpload'ed they are not published and you need to bintray.com to click the publish link .
Javascript library updates __EoT__ It would be great if someone can update our javascript libraries . They are all pretty old .
Make kafka health check meaningful __EoT__ Right now , the kafka health check returns ok eventhough it is not . Let 's improve that .
Make fetch.message.max.bytes configurable __EoT__ Recently , we migrate our transport from scribe to kafka , but our zipkin seems not accept any message . Our kafka server have a ` message.max.bytes ` that are greater than the default 1024*1024 byte , and it is not easily to change it . It seems ` KafkaSpanReceiver.receiverProps ` is the ConsumerConfig , but we can not pass ` fetch.message.max.bytes ` via environment variable , which is inconvenient .
Refactor duration query in cassandra __EoT__ _From @ adriancole on May 6 , 2016 0:59_ The duration query is the most expensive query in cassandra , as it turns into 1 request per hour of lookback , limited to indexTtl . The UI 's default lookback is a day , so this means 24 requests to the backend . If someone sets the ui to an early time , it limits at index TTL , which defaults to 7 days or 168 requests ! We should look into alternatives , perhaps doing a `` peek '' at the first bucket and only proceeding to fan out if that does n't meet the response limit . Since the response limit is often 10 , it might actually be fine . See # 199 cc @ eirslett @ yurishkuro @ danchia _Copied from original issue : openzipkin/zipkin-java # 200_
Investigate custom context root __EoT__ _From @ adriancole on May 21 , 2016 13:47_ https : //github.com/openzipkin/docker-zipkin/issues/97 was opened about moving all zipkin things under the context root /zipkin ( directly vs via a reverse proxy ) . This might be possible with OOB spring boot . If so , we could consider this . Otherwise we can close it with explanation in case the question comes up again . _Copied from original issue : openzipkin/zipkin-java # 244_
Get rid of the v1 codebase __EoT__ We do n't have a lot of hands to do `` huge maintenance work '' . There was a lot of demand for a v2 format , so we released a v2 core library as soon as we could ( september 2017 ) . With this in place , we were able to decouple libraries from the v1 codebase . This included brave and zipkin-reporter , which no longer have mandatory dependencies on it . However , there 's still a large amount of work to do . This issue tracks that work : - [ x ] Port mysql ( as-is ) to the zipkin2 codebase , or redo it - [ x ] Port `` cassandra '' ( as-is ) to the zipkin2 codebase , or drop it - [ x ] Remove zipkin v1 dep from zipkin-junit and repackage under io.zipkin.zipkin2 namespace - [ x ] Make a new collector , which accepts even the old v1 thrift : make the server depend on it . - [ x ] redo all the storage tests to port to v2 codebase - [ x ] implement the zipkin UI in v2
Elasticsearch http slow on getting span names when there 's a lot of data __EoT__ from @ dragontree101 because of we have lots of data , service name and span name all time out , i remember store data in cassandra , have table only store service_name and span_name , but store in es , service_name and span_name get by es , so time is very long . ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21561603/a7a8d63c-cea9-11e6-93b0-0ef800b1f7df.png ) and chrome console have ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21561714/5254d35a-ceab-11e6-8fa2-caf5158fc269.png ) i found i set SELF_TRACING_ENABLED= '' true '' in environment ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21562108/a01478c0-ceb0-11e6-83fb-b25d98af937d.png ) and yestoday 's es index is `` ` health status index uuid pri rep docs.count docs.deleted store.size pri.store.size green open zipkin-2016-12-29 2_uXTThATbyoJ7khnXbo4g 5 1 609199726 0 140gb 70gb `` `
upgrade to Spring Boot 2.0 NoClassDefFoundError UndertowEmbeddedServletContainerFactory __EoT__ UndertowEmbeddedServletContainerFactory has been renamed in Spring Boot 2.0 . It 's now UndertowServletWebServerFactory .
Can we help uncover or explain span reporting lag ? __EoT__ from @ dan-tr > @ dan-tr Sep 28 23:09 > Is timestamp_millis created based on the timestamp field or is created based on the current time when the record is inserted into ES ? I 'm looking for away to discern if there is any lag time between the message being put on the Kafka queue ( client-side ) and the record being stored in ES ( server-side ) . We should add the description to the README here , but no . this timestamp is n't used for lag , it is based on the best timestamp . https : //github.com/openzipkin/zipkin/tree/master/zipkin-storage/elasticsearch timestamp + duration would be the time a span was recorded and eligible to be sent . In https : //github.com/openzipkin/zipkin-reporter-java , and other libraries , there would be up to a second before the span goes on the wire . We could look at our local endpoint vs one of the endpoints in the span and try to determine roughly the lag , based on limitations of clock skew guessing . If we did , we 'd likely record that as a stat vs put it
Query by multiple key/value pairs __EoT__ Sometimes it 's useful to be able to search for multiple key/value pairs . For example in order to find traces with 500 errors for a particular url . key=http.uri , value=/i/discovery.json key=http.responsecode , value=500 Internal Server Error
Query by multiple key/value pairs __EoT__ Sometimes it 's useful to be able to search for multiple key/value pairs . For example in order to find traces with 500 errors for a particular url . key=http.uri , value=/i/discovery.json key=http.responsecode , value=500 Internal Server Error
Query by multiple key/value pairs __EoT__ Sometimes it 's useful to be able to search for multiple key/value pairs . For example in order to find traces with 500 errors for a particular url . key=http.uri , value=/i/discovery.json key=http.responsecode , value=500 Internal Server Error
Lots of code duplication ? __EoT__ Looks like zipkin-common has lots of code duplication . Or is it just me not understanding the code ? E.g . https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/Storage.scala has many of the same methods as https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/SpanStore.scala I 'm wondering if it 's https : //github.com/openzipkin/zipkin/pull/321 that was merged with new interfaces , without removing the old ones . @ sprsquish @ bmdhacks @ franklinhu could that be right ?
Replace Cassie with Datastax native driver __EoT__ Currently Zipkin is using a [ thrift-based means of talking with Cassandra ] ( https : //github.com/openzipkin/zipkin/tree/master/zipkin-cassandra/src/main/scala/com/twitter/cassie ) . Support for this [ Thrift interface ] ( https : //wiki.apache.org/cassandra/ThriftInterface ) will be removed in future versions of Cassandra . @ michaelsembwever has mentioned the desire to introduce support for the datastax-driver into ` zipkin-cassandra ` . This ticket is to capture that work
'spanName ' filter should consider character case in zipkin web UI __EoT__ I 'm using finagle which might record it 's rpc method as span name , e.g . `` getResult '' , in the zipkin UI , there will be a lower case `` getresult '' show in the dropdown , when I select it I 'll find nothing , but if I manually change the url from like : http : //localhost/ ? serviceName=x & spanName=getresult ... . to http : //localhost/ ? serviceName=x & spanName=getResult ... . I could get the right answer . it looks like we should not transform the span name into lower case in UI for selection
For exception changing the Color to Red __EoT__ Hi , Can we have some feature where , if I have a tag added Key as `` Exception '' or `` error '' the color changes to red , to have it highlighted
zipkin-ui : slow meaningless request in home page __EoT__ Recently we upgraded to zipkin 2.4.5 and found that there is a request ( ` /api/v1/traces ` , without any params ) will be sent when opening the home page . This request is very slow ( about 10s ) , causing the page stuck for a while , and the front end will not render the result to the page , so it is meaningless . Before # 1789 , the request will be sent only when containing the ` serviceName ` param . But in # 1872 , which removed all constraints , an request would be sent even there is no params at all , and it will be very slow because there is no any filters in elasticsearch . The request can still get result , but in ` page/default.js ` , because ` serviceName ` does not exist , ` queryWasPerformed ` will be ` false ` , then traces will not be rendered to the page . I want bring the logic ( before # 1789 ) back ( revert part of # 1872 , re-add the ` serviceName ` constraints ) , but in
Quick-start error __EoT__ hi , I follow the quick-start and use java to run the zipkin , I get an error , and this error also occured when I use culr to post json data to the 9410 port with path /spans , anyone know what happens ? org.jboss.netty.handler.codec.frame.TooLongFrameException : Maximum frame size of 67108864 exceeded at com.facebook.nifty.codec.DefaultThriftFrameDecoder.tryDecodeFramedMessage ( DefaultThriftFrameDecoder.java:102 ) [ nifty-core-0.19.0.jar ! / : nifty-parent-0.19.0 ] at com.facebook.nifty.codec.DefaultThriftFrameDecoder.decode ( DefaultThriftFrameDecoder.java:68 ) [ nifty-core-0.19.0.jar ! / : nifty-parent-0.19.0 ] at com.facebook.nifty.codec.DefaultThriftFrameDecoder.decode ( DefaultThriftFrameDecoder.java:33 ) [ nifty-core-0.19.0.jar ! / : nifty-parent-0.19.0 ] at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode ( FrameDecoder.java:425 ) [ netty-3.10.5.Final.jar ! / : na ] at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived ( FrameDecoder.java:303 ) [ netty-3.10.5.Final.jar ! / : na ] at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream ( SimpleChannelUpstreamHandler.java:70 ) [ netty-3.10.5.Final.jar ! / : na ] at com.facebook.nifty.codec.DefaultThriftFrameCodec.handleUpstream ( DefaultThriftFrameCodec.java:42 ) [ nifty-core-0.19.0.jar ! / : nifty-parent-0.19.0 ] at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream ( DefaultChannelPipeline.java:564 ) [ netty-3.10.5.Final.jar ! / : na ] at org.jboss.netty.channel.DefaultChannelPipeline $ DefaultChannelHandlerContext.sendUpstream ( DefaultChannelPipeline.java:791 ) [ netty-3.10.5.Final.jar ! / : na ] at com.facebook.nifty.core.ChannelStatistics.handleUpstream ( ChannelStatistics.java:79 ) [ nifty-core-0.19.0.jar ! / : nifty-parent-0.19.0 ] at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream ( DefaultChannelPipeline.java:564 ) [ netty-3.10.5.Final.jar ! / : na ] at org.jboss.netty.channel.DefaultChannelPipeline $ DefaultChannelHandlerContext.sendUpstream ( DefaultChannelPipeline.java:791 ) [ netty-3.10.5.Final.jar !
Future Zipkin architecture ( post-UI-refactoring ) __EoT__ The work on refactoring the UI is complete - it 's now just a bundle of assets , with client-side rendering , and it talks to Zipkin via the query HTTP API . Should we go ahead and move zipkin-web into zipkin-query ? It 's already been discussed , my impression is that most people want to go in that direction . In which case I suggest we change the zipkin-web gradle build ; delete all the Scala code , and produce a .zip file ( or .tar/tar.gz ) with the static assets . Gradle basically becomes a thin wrapper around npm/webpack . Then , zipkin-query can import that artifact as a dependency , and serve the static assets . This means zipkin-java can also import the same dependency . While we 're at it - we could also merge zipkin-collector and zipkin-web into one application . Possibly with a configuration option to only enable the `` collector '' role , the `` query '' role , or the `` all '' role . Zipkin is known to be hard to deploy , operations-wise ; if we could reduce the number of separate
Feature Request Elastic Search Authentication __EoT__ Feature request to allow to use authenticated elastic search clusters . Unable to use Zipkin with Elastic cloud as requires basic auth . Have tried using ES_HOSTS=HTTPS : //user : pass @ elasticcloud.url Had a quick browse of the source code and do not see any way to set username and password .
scala-tools.org is gone __EoT__ With an empty ~/.ivy2 repo and a fresh git clone , I was having trouble getting all the dependencies . Noticed that on https : //github.com/twitter/zipkin/blob/master/project/ZipkinResolver.scala # L29 , it was trying to download from scala-tools.org , which appears to be gone . Replacing `` ` '' scala-tools.org '' at `` http : //scala-tools.org/repo-releases/ '' , '' testing.scala-tools.org '' at `` http : //scala-tools.org/repo-releases/testing/ '' , `` ` with `` ` '' sonatype-nexus '' at `` http : //scala-tools.org/repo-releases/testing/ '' , //replaced scala-tools.org `` ` seems to do the trick .
Should we drop the native elasticsearch transport ? __EoT__ Currently , the zipkin-server bundles a dep on elasticsearch 2.x drivers ( which themselves pull deps on guava ) . The 2.x drivers are incompatible with later versions of Elasticsearch , and can not coexist since the 2.x and 5.x libraries use the same class names . We need to decide what do do about it . The ES dependency is needed for the transport protocol . The transport protocol is only used by java clients or a `` tribe node '' . Incidentally , not all java clients support the transport protocol , either . For example , elasticsearch 's spark support uses http , and the elasticsearch rest client does as well . There are some advantages to the native protocol around multiplexing , but it adds a weight to the project I do n't think we can afford . We made `` elasticsearch-http '' to support amazon deployments which only support http . Incidentally we also use http in zipkin-dependencies , too , as that 's what spark supports . Recently ( 1.20 ) , we decoupled `` elasticsearch-http '' from the native elasticsearch driver . In doing
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
Fix : verifyLicenses thinks subprojects do n't have a license __EoT__ The dependency license verification introduced in https : //github.com/openzipkin/zipkin/pull/852 fails to recognize that the subprojects ( like ` zipkin-common ` ) have a license . Not surprising , since there 's no POM file accompanying the jars . I see three options for attacking this : - Generating a POM file and making sure the license plugin reads it - Add metadata to the jars that the plugin reads - Hard-code ( or generate with gradle ) the license for each subproject into the configuration for the plugin via ` downloadLicenses.licenses ` ( https : //github.com/hierynomus/license-gradle-plugin # license-reporting )
Zipkin server does not work with MySQL 5.7 __EoT__ # # # Technical Details MySQL Server Version `` ` 5.7.14-8 - Percona Server ( GPL ) , Release '8 ' , Revision '1f84ccd ' `` ` Zipkin Server : `` ` 1.14.3 `` ` MySQL SQL Mode : `` ` ONLY_FULL_GROUP_BY , STRICT_TRANS_TABLES , NO_ZERO_IN_DATE , NO_ZERO_DATE , ERROR_FOR_DIVISION_BY_ZERO , NO_AUTO_CREATE_USER , NO_ENGINE_SUBSTITUTION `` ` ( Default for Percona distributed by Docker containers ) # # # Summary Running Zipkin with `` ` STORAGE_TYPE=mysql `` ` causes certain requests to fail with exceptions due to semantically invalid SQL queries . This is caused by SQL_MODE=ONLY_FULL_GROUP_BY . As per the [ MySQL 5.7 release notes ] ( http : //dev.mysql.com/doc/refman/5.7/en/sql-mode.html # sqlmode_only_full_group_by ) , `` [ ... ] the default SQL mode includes ONLY_FULL_GROUP_BY . [ ... ] '' # # # Exception Information # # # # Exhibit A `` ` 11/3/2016 10:00:56 PMorg.mariadb.jdbc.internal.util.dao.QueryException : Expression # 1 of ORDER BY clause is not in SELECT list , references column 'Zipkin.zipkin_spans.start_ts ' which is not in SELECT list ; this is incompatible with DISTINCT 11/3/2016 10:00:56 PMQuery is : select distinct ` zipkin_spans ` . ` trace_id ` from `
Add error count in api/v1/dependencies response __EoT__ It would be helpful to add more metadata to the current api/v1/dependencies response . Error count should be simple to add as @ adriancole mentioned .
Support lookup of 128-bit traces by lower 64-bits in cassandra3 __EoT__ Currently , trace ids are stored as a variable-length number ( as opposed to a 2 part hi/lo 128bit id ) . In order to support query by low 64 bits , we need to split this up somehow or add a separate index . You 'll notice ` SpanStoreTest.getTrace_retrieves128bitTraceIdByLower64Bits ` is disabled due to this . cc @ openzipkin/cassandra
UI : Sort order is lost when going back to start screen __EoT__ If you sort by newest first , and then open up a trace and then go back to the start screen , the sort order is lost , making it somewhat confusing if you are trying to pinpoint a specific trace .
consider moving zipkin-ui assets under /static __EoT__ currently , zipkin-ui 's assets are included in the root directory . This has an interesting side-effect of making all contents of the zipkin-web jar fetchable by the static asset handler . For example , you can download classes and other properties in the jar via GET . If we packaged zipkin-ui 's assets under `` /static '' , then only those assets would be served . Also , it has a side-effect of being automatically exported in spring-boot apps . Alternatively , we could get fancier and make zipkin-ui a WebJar by moving the static assets under a path `` /META-INF/resources/webjars/zipkinui/1.37.0 '' ( or whatever version ) http : //www.webjars.org/
Support local spans via a LOCAL_COMPONENT ( `` lc '' ) binary annotation __EoT__ Currently it is tribal knowledge that local ( in-process ) spans exist . We need a way to designate span as local , and offer insight into how to use them . This can lead us to answer what status quo could be on this , and how they might be tested . Firstly , local spans need to be annotated with a namespace that can be used like service . A discussion on github suggests using a LOCAL_COMPONENT ( `` lc '' ) binary annotation for this . Here 's a json view : `` ` json { `` key '' : `` lc '' , `` value '' : `` encryption-service '' , `` endpoint '' : { `` serviceName '' : `` proxy '' , `` ipv4 '' : `` 1.2.3.4 '' , `` port '' : 345 } } `` ` You 'll notice that the binary annotation holds almost all information needed to identify the context of the span . It contains a searchable annotation which contains its namespace , in this case ` encryption-service ` . Via the existing contract
Elasticsearch 6+ do n't like type __EoT__ So , according to this summary , types are not a great idea moving forward . https : //github.com/elastic/elasticsearch/issues/15613 # issuecomment-303727982 Currently , we use the following types : * span * servicespan - optimization due to expensive nested service name query from our v1 span format * dependencyLink Seems we need to split out the types now into indexes . First thought is to simply delimit them Ex . * zipkin-2017-08-01/span just removes the type ( as it is default ) * zipkin-2017-08-01/dependencyLink becomes zipkin-dependencyLink-2017-08-01 this is just an idea . anyone have a smarter one ? @ openzipkin/elasticsearch
Cleanup modules __EoT__ Currently we have a confusing hierarchy of modules for the collector and query services including : - ` zipkin-common ` : common classes shared between the two - ` zipkin-thrift ` : Thrift structs and interfaces for both services - ` zipkin-scrooge ` : module to generate Scala from Thrift via Scrooge - ` zipkin-scribe ` : scribe specific classes for collector , including the service - ` zipkin-server ` : combination of code for collector and query , including the query service I think we can clean this up by breaking up the latter two modules and make things more composable . - ` zipkin-cassie ` : implementation of ` Aggregates ` , ` Index ` , and ` Storage ` interfaces that use Cassandra as the backing store - ` zipkin-collector-core ` : core code for the collector service - ` zipkin-collector-scribe ` : scribe specific classes - ` zipkin-collector-service ` : module to compose everything together - ` zipkin-query-core ` : core code for query service - ` zipkin-query-service ` : module to compose everything together
Update Kafka ( to 0.10 ) __EoT__ Last year , we attempted to update Kafka to 0.9 , but had to revert it due to the ordering problem implied . https : //github.com/openzipkin/zipkin/pull/904 Unfortunately no one responded to the email asking about kafka update plans : https : //groups.google.com/forum/ # ! topic/zipkin-user/rQpecbvc6Y0 We should n't be pinned to 0.8 forever , and we are now getting requests for 0.10 support . I 'm wondering how we should address Kafka updates , particularly as the server includes an all-jar . Unless packaging is different , it might imply weird tricks to be able support multiple versions in the same binary , or a separate build . Can anyone share their current status wrt kafka and/or have ideas on how to support multiple versions simply ? cc @ prat0318 @ dgarson @ SimenB @ sveisvei @ eirslett @ kristofa @ NegatioN @ shakuzen
1.4.9 + proguard : not called onSuccess , onFailure __EoT__ I am sorry . my english is not good . I use 1.4.9. proguard off : work . proguard on : onSuccess , onFailure not called . my proguard . `` ` -optimizationpasses 5 -repackageclasses `` -allowaccessmodification -overloadaggressively -verbose `` ` but I add ` -keep class com.loopj.android.http.HttpGet { * ; } ` to proguard . this is work ( onSuccess , onFailure called ) .
Proxy Authentication __EoT__ setproxy function should also accept username password if requires
Additional Information in AsyncHttpResponseHandler __EoT__ It 's posible I 'm missing something , but I do n't see anyway to get any additional information bout the request 's response . I 'm specifically needing two things : - **HTTP Status Code in both onSuccess and onError** : Casting the throwable in onError to HttpResponseException will let me call getStatusCode ( ) , but this really is n't the cleanest way to go about it - **Response bodies in onError** : RESTful API 's frequently send back a response message , along with an HTTP error code . **Bonus** : A way to fetch HTTP Response headers in both methods .
Additional Information in AsyncHttpResponseHandler __EoT__ It 's posible I 'm missing something , but I do n't see anyway to get any additional information bout the request 's response . I 'm specifically needing two things : - **HTTP Status Code in both onSuccess and onError** : Casting the throwable in onError to HttpResponseException will let me call getStatusCode ( ) , but this really is n't the cleanest way to go about it - **Response bodies in onError** : RESTful API 's frequently send back a response message , along with an HTTP error code . **Bonus** : A way to fetch HTTP Response headers in both methods .
Uploading progress __EoT__ Hey , When uploading files to the server , is there a way I can have a callback to see the progress of the upload ? Thanks
Including http PATCH method would be a nice enhancement __EoT__
How to solve the problem of CircularRedirectException __EoT__ How to solve the problem of callback about : org.apache.http.client.CircularRedirectException : Circular redirect to
static field in __EoT__ I have a question that why define the `` mAllowedContentTypes '' with **static** modifier at BinaryHttpResponseHandler.java ？
org.apache.http.NoHttpResponseException : The target server failed to respond __EoT__ `` ` [ org.apache.http.impl.conn.DefaultResponseParser.parseHead ( DefaultResponseParser.java:85 ) , org.apache.http.impl.io.AbstractMessageParser.parse ( AbstractMessageParser.java:174 ) , org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader ( AbstractHttpClientConnection.java:179 ) , org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader ( DefaultClientConnection.java:235 ) , org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader ( AbstractClientConnAdapter.java:259 ) , org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse ( HttpRequestExecutor.java:279 ) , org.apache.http.protocol.HttpRequestExecutor.execute ( HttpRequestExecutor.java:121 ) , org.apache.http.impl.client.DefaultRequestDirector.execute ( DefaultRequestDirector.java:421 ) , org.apache.http.impl.client.AbstractHttpClient.execute ( AbstractHttpClient.java:555 ) , org.apache.http.impl.client.AbstractHttpClient.execute ( AbstractHttpClient.java:487 ) , com.loopj.android.http.AsyncHttpRequest.makeRequest ( AsyncHttpRequest.java:74 ) , com.loopj.android.http.AsyncHttpRequest.makeRequestWithRetries ( AsyncHttpRequest.java:93 ) , com.loopj.android.http.AsyncHttpRequest.run ( AsyncHttpRequest.java:55 ) , java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:444 ) , java.util.concurrent.FutureTask $ Sync.innerRun ( FutureTask.java:306 ) , java.util.concurrent.FutureTask.run ( FutureTask.java:138 ) , java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1088 ) , java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:581 ) , java.lang.Thread.run ( Thread.java:1019 ) ] `` ` From time to time after the upgrade from 1.4.1 to 1.4.2 the emergence org.apache.http.NoHttpResponseException : The target server failed to respond
Windows os How to build ? __EoT__ # # My Environment - os : WIndows 7 Ultimake - SET ANDROID_HOME=C : \android-sdk-windows - SET PATH=C : \android-ndk-r10d ; % PATH % # # Run - gradlew build # # Result FAILURE : Build failed with an exception . \* What went wrong : Execution failed for task ' : imagepipeline : ndk_build_gifimage ' . > A problem occurred starting process 'command 'ndk-build '' \* Try : Run with -- stacktrace option to get the stack trace . Run with -- info or -- debug option to get more log output . BUILD FAILED ... ... . ㅜ.ㅡ # # Retry - gradlew build -- stacktrace # # Result \* What went wrong : Execution failed for task ' : imagepipeline : ndk_build_gifimage ' . > A problem occurred starting process 'command 'ndk-build '' \* Try : Run with -- info or -- debug option to get more log output . \* Exception is : org.gradle.api.tasks.TaskExecutionException : Execution failed for task ' : imagepipeline : ndk_build_gifimage ' . at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions ( ExecuteActionsTaskExecuter.java:69 ) at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute ( ExecuteActionsTaskExecuter.java:46 ) at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute ( PostExecutionAnalysisTaskExecuter.java:35 ) at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute ( SkipUpToDateTaskExecuter.java:64 ) at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute (
Unknown image format exception __EoT__ Hello , this issue is mentioned earlier , but i created new bug to show pure example of how to reproduce it and why it happens . I noticed this issue when test my app on device with WiFi disabled and 4G enabled , but there is very important detail . I have negative balance on my phone account , so there is no actually internet on 4G . So how issue looks like : 1 . I turn off Wifi there is only 4G working 2 . I try to load image and got error 3 . I enable wifi and try again - image still not loading That happens , because my 4G internet provider in case of negative balance returns me html page like `` please add money to your account '' on every html request to show me it when i open some page in browser The bad thing is that Fresco save this page to cache ( I found it there ) and tries to decode it as image again and again so user will never see actual image event if internet available . So , maybe in case of
Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . __EoT__ OS： mac 10.10.3 Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . > A problem occurred starting process 'command 'ndk-build '' # # help
A IllegalArgumentException caused by file length 0 ( get filelength failed ! ) __EoT__ Back traces starts . java.lang.IllegalArgumentException at com.facebook.common.internal.Preconditions.checkArgument ( Preconditions.java:108 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferOutputStream. < init > ( NativePooledByteBufferOutputStream.java:50 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.newByteBuffer ( NativePooledByteBufferFactory.java:98 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.newByteBuffer ( NativePooledByteBufferFactory.java:26 ) at com.facebook.imagepipeline.producers.LocalFetchProducer.getByteBufferBackedEncodedImage ( LocalFetchProducer.java:79 ) at com.facebook.imagepipeline.producers.LocalFetchProducer.getEncodedImage ( LocalFetchProducer.java:107 ) at com.facebook.imagepipeline.producers.LocalFileFetchProducer.getEncodedImage ( LocalFileFetchProducer.java:38 ) at com.facebook.imagepipeline.producers.LocalFetchProducer.produceResults ( LocalFetchProducer.java:56 )
A problem occurred starting process 'command 'ndk-build.cmd '' __EoT__ When I try to build the project I get this error : Error : Execution failed for task ' : imagepipeline : ndk_clean_bitmaps ' . > A problem occurred starting process 'command 'ndk-build.cmd '' please advice . thank you
testLowDiskSpace always checks internal storage __EoT__ DiskStorageCache testLowDiskSpace always pass StatFsHelper.StorageType.INTERNAL can not pass EXTERNAL `` ` java /** * Helper method that sets the cache size limit to be either a high , or a low limit . * If there is not enough free space to satisfy the high limit , it is set to the low limit . */ @ GuardedBy ( `` mLock '' ) private void updateFileCacheSizeLimit ( ) { // Test if mCacheSizeLimit can be set to the high limit boolean isAvailableSpaceLowerThanHighLimit = mStatFsHelper.testLowDiskSpace ( StatFsHelper.StorageType.INTERNAL , mDefaultCacheSizeLimit - mCacheStats.getSize ( ) ) ; if ( isAvailableSpaceLowerThanHighLimit ) { mCacheSizeLimit = mLowDiskSpaceCacheSizeLimit ; } else { mCacheSizeLimit = mDefaultCacheSizeLimit ; } } `` `
testLowDiskSpace always checks internal storage __EoT__ DiskStorageCache testLowDiskSpace always pass StatFsHelper.StorageType.INTERNAL can not pass EXTERNAL `` ` java /** * Helper method that sets the cache size limit to be either a high , or a low limit . * If there is not enough free space to satisfy the high limit , it is set to the low limit . */ @ GuardedBy ( `` mLock '' ) private void updateFileCacheSizeLimit ( ) { // Test if mCacheSizeLimit can be set to the high limit boolean isAvailableSpaceLowerThanHighLimit = mStatFsHelper.testLowDiskSpace ( StatFsHelper.StorageType.INTERNAL , mDefaultCacheSizeLimit - mCacheStats.getSize ( ) ) ; if ( isAvailableSpaceLowerThanHighLimit ) { mCacheSizeLimit = mLowDiskSpaceCacheSizeLimit ; } else { mCacheSizeLimit = mDefaultCacheSizeLimit ; } } `` `
Build issue ( Windows ) __EoT__ Hello , I just grabed the latest code and , I followed the steps to build the lib . I got the below JNI related error regarding the Bitmaps . Did someone know how to fix it ? Thanks , Cata `` ` : samples : uriapp : generateDebugAndroidTestAssets UP-TO-DATE : imagepipeline-base : extractReleaseAnnotations : samples : uriapp : mergeDebugAndroidTestAssets : samples : zoomable : copyDebugLint UP-TO-DATE : samples : zoomable : processDebugJavaRes UP-TO-DATE : samples : zoomable : mergeDebugProguardFiles Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o : No such file or directory Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o : No such file or directory make.exe : *** [ samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o ] Error 1 make.exe : *** Waiting for unfinished jobs ... . make.exe : *** [ samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o ] Error 1 [ x86_64 ] Compile : bitmaps < = Bitmaps.c : samples : zoomable : mergeDebugProguardFiles UP-TO-DATE Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : samples\fresco\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o : No such file or directory : samples : uriapp : mergeDebugAndroidTestAssets UP-TO-DATE
Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . __EoT__ i import the project but throw a gradle execution fail error . say my ndk-build.cmd finished with an exception error . but i was install the ndk . Please help me to solve this problem . `` ` Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . > Process 'command 'X : \AndroidSDK\ndk-bundle\ndk-build.cmd '' finished with non-zero exit value 2 `` ` `` ` Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o : No such file or directory `` `
roundingBorderColor cause the placeholder image display error __EoT__ `` ` < com.facebook.drawee.view.SimpleDraweeView android : layout_below= '' @ id/button '' android : id= '' @ +id/simple '' android : layout_centerHorizontal= '' true '' android : layout_width= '' match_parent '' android : layout_height= '' 600px '' fresco : placeholderImage= '' @ drawable/logo '' fresco : roundingBorderWidth= '' 10px '' fresco : roundingBorderColor= '' @ color/image_detail_help_background '' / > `` ` then ! [ qq20180719-1 ] ( https : //user-images.githubusercontent.com/18482342/42941365-1c51c57c-8b8f-11e8-88c8-a609a30fc3c4.png ) * Fresco version : all version * Platform version : all devices
SVG format not loading __EoT__ # # # Description When trying to load [ this ] ( https : //upload.wikimedia.org/wikipedia/commons/0/02/SVG_logo.svg ) SVG file , the image is not loaded and a ` java.lang.IllegalArgumentException ` is thrown . # # # Reproduction On [ ImageFormatSvgFragment.java class ] ( https : //github.com/facebook/fresco/blob/master/samples/showcase/src/main/java/com/facebook/fresco/samples/showcase/imageformat/svg/ImageFormatSvgFragment.java ) change ` URI_SVG_HALF_TRANSPARENT ` attribute from ` Uri.parse ( `` http : //frescolib.org/static/sample-images/fresco_logo_half_transparent.svg '' ) ; ` to ` Uri.parse ( `` https : //upload.wikimedia.org/wikipedia/commons/0/02/SVG_logo.svg '' ) ; ` run the showcase app , enable SVG support and restart the app . Looking at logcat we have the following : `` ` 07-17 15:20:19.855 13973 13973 V unknown : AbstractDraweeController : controller 2c6609d null - > 0 : initialize 07-17 15:20:19.857 13973 13973 V unknown : AbstractDraweeController : controller 2c6609d 0 : setHierarchy : com.facebook.drawee.generic.GenericDraweeHierarchy @ 6552912 07-17 15:20:19.892 13973 13973 V unknown : AbstractDraweeController : controller 2c6609d 0 : onAttach : request needs submit 07-17 15:20:19.922 13973 13973 V unknown : RequestLoggingListener : time 6584062 : onRequestSubmit : { requestId : 0 , callerContext : null , isPrefetch : false } 07-17 15:20:19.930 13973 13973 V unknown : RequestLoggingListener : time 6584069 : onProducerStart : { requestId :
CacheStats return - 1 on app update __EoT__ Hello , I do n't know if it 's the same as https : //github.com/facebook/fresco/issues/984 . When app is update ( or suppressed and reinstalled ) : ` mDiskCacheUsedSize = Fresco.getImagePipelineFactory ( ) .getMainDiskStorageCache ( ) .getSize ( ) ; ` return -1 thus all files are in cache . This has been tested using : ` .setBaseDirectoryPath ( getExternalCacheDir ( ) ) ` or ` .setBaseDirectoryPath ( context.getApplicationContext ( ) .getCacheDir ( ) ) ` as diskCacheConfig Thanks , Eric
Developer Tool No response __EoT__ When request have multipart body file , To view request head lead to developer tool no response .
Configurable annotation ? __EoT__ I 'm trying to decouple my project as much as possible from the Android framework using pure Java modules to keep things clean . But I 'd really love to use EventBus instead of Guava ( or any other pure Java implementation ) under the hood . To do that , I 'd need an abstraction layer around EventBus , using DI to inject the real implementation . But I 'm still stuck because of the ` @ Subscribe ` annotation : [ SubscriberMethodFinder ] ( https : //github.com/greenrobot/EventBus/blob/master/EventBus/src/org/greenrobot/eventbus/SubscriberMethodFinder.java ) is final/private and the annotation processor can not be configured . Would it be a no-go for you , or are you open to a future PR about that ? If so , any ideas or recommandations ?
BaseExecutor may produce ClassCastException in multithread environment __EoT__ # # MyBatis version 3.4.x ( and maybe all versions ) # # Database vendor and version HSQL , which was tested , ( and maybe all vendors ) # # Test case or example project I just add a test case and open a PR # 1275 . # # Steps to reproduce Because this is a multithread problem , in order to make it easier for testing , I have to set a breakpoint and invoke ` Thread.yield ( ) ` to simulate Thread being blocked , here is how to reproduce in IntelliJ : 1 . Create a breakpoint in ` org.apache.ibatis.executor.BaseExecutor # queryFromDatabase ` , and evaluate a expression ` Thread.yield ( ) ` , and also uncheck `` suspend '' checkbox : ! [ image ] ( https : //user-images.githubusercontent.com/15965696/39660637-160c9f42-5076-11e8-847e-9a9bae5d72dc.png ) 2 . Run the unit test ` org.apache.ibatis.executor.CachingSimpleExecutorTest # testMultiThreadQuery ` ; # # Expected result Test passed . # # Actual result ` ClassCastException ` is thrown . I think it is because we put a ` EXECUTION_PLACEHOLDER ` into the ` localCache ` in class ` BaseExecutor ` : ! [ image ] (
Change to select valid setting name in mybatis-config.xml __EoT__ I want to change to select valid setting name ( e.g . ` aggressiveLazyLoading ` , ` autoMappingBehavior ` , etc.. ) in ` mybatis-config.xml ` . I think it is frendly for MyBatis users . I will change the ` mybatis-3-config.dtd ` as below : `` ` dtd < ! ELEMENT setting EMPTY > < ! ATTLIST setting name ( aggressiveLazyLoading | autoMappingBehavior | cacheEnabled | callSettersOnNulls | configurationFactory | defaultExecutorType | defaultFetchSize | defaultScriptingLanguage | defaultStatementTimeout | jdbcTypeForNull | localCacheScope | lazyLoadingEnabled | lazyLoadTriggerMethods | logPrefix | logImpl | multipleResultSetsEnabled | mapUnderscoreToCamelCase | proxyFactory | safeRowBoundsEnabled | safeResultHandlerEnabled | useColumnLabel | useGeneratedKeys | vfsImpl ) # REQUIRED > < ! ATTLIST setting value CDATA # REQUIRED > `` ` How do think ? I will submit a PR at later . Thanks .
XML api sample __EoT__ Would be nice to be able to easily use retrofit for XML apis like AWS . I 'll volunteer to make a sample , if you do n't mind giving me pointers as to what might be needed in abstract .
Evaluate the ability to support JSON-RPC __EoT__ See # 582 for original request . We should figure out how to support this with some combination of converters , interceptors , and plugin support of v2 .
Retrofit 2.0 API Spec ( Working Draft ) __EoT__ This is a living spec for what will be v2 of Retrofit . # # Goals - Broaden the scope of how you can process successful responses and handle the results of various exceptions throughout the stack . Currently there 's a mix of exceptions , wrapped types , and callbacks depending on the usage of synchronous or asynchronous API declarations . - Unify API declaration so that both synchronous and asynchronous consumption of a resource does not change its declaration . - Introduce better request and response interceptors which allow for both tweaks to existing requests or full on replacement ( e.g. , for signing purposes ) . - Allow simple request retry and cancel support without the need to talk to the ` RestAdapter ` or generated interface instance . - Completely decouple interface declaration parsing from request invocation and processing and expose the shim layer between the two as a extension-based system for customization . This will be used to ( hopefully ) facilitate RxJava integration as an extensions rather than being baked into the core of the library itself # # Changes # # # Annotation Processors
GsonConverterFactory GsonRequestBodyConverter not handling Polymorphism __EoT__ [ http : //stackoverflow.com/questions/5800433/polymorphism-with-gson ] ( url ) This was working fine in Retrofit 1.9 . Is there any way to avoid use of registerTypeAdapter ?
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
Annotate resize ( int , int ) with @ Px __EoT__ I 'm aware this is more of a useful feature rather than bug . There is resizeDimen ( int , int ) but when I made a mistake and called resize ( R.dimen , R.dimen ) Picasso fails to load image . Is there an option to supply @ DimenRes to arguments or any other way of checking in Runtime that input is too big and then throwing IllegalArgumentException ?
Provide ScrollListener support __EoT__ It should be easy to use Picasso and attach a ScrollListener to provide smooth scrolling while the user fiings the list .
Provide ScrollListener support __EoT__ It should be easy to use Picasso and attach a ScrollListener to provide smooth scrolling while the user fiings the list .
Sometimes picasso 2.3.3 resize inaccuracy . __EoT__ ! [ aef43932-08a3-11e4-9f9a-ea94cbe6d758 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653422/a5896e6e-1152-11e4-9cb6-09c61c4fff57.jpg ) Picasso.with ( this ) .load ( new File ( path ) ) .resize ( 1440 , 1920 ) .centerInside ( ) .into ( mTarget ) ; When I use picasso 2.3.3 load this image , I put some different width and height , sometimes it resize inaccuracy . I debug some information to you . It look like width and height reversal . ! [ 1 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653448/4d37020c-1153-11e4-84be-5d7995809ba0.png ) ! [ 4 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653450/54c8ca28-1153-11e4-8d32-9edd20023efd.png ) ! [ 2 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653453/5c052868-1153-11e4-8072-f1002df4d07a.png ) ! [ 3 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653456/67acaae2-1153-11e4-9019-53239576d262.png ) I hope you can resolve this problem , thanks !
Exception : java.io.IOException : Can not reset __EoT__ Hi Square team ! We are having an issue in an app , when in a listview , images on some rows load but some of them are blank . I tried to trace it and collect as much information as I can . # # # # Exception `` ` java Picasso : Error : ImageLoadFailed : Uri http : //store.indemand.com/shared/ovs/prodimages/movies/t/troublewiththecurve_ID0360906/troublewiththecurveBM_ID0360906.jpg Picasso : Error : ImageLoadFailed : Exception java.io.IOException : Can not reset Picasso : Error : ImageLoadFailed : StackTrace [ com.squareup.picasso.MarkableInputStream.reset ( MarkableInputStream.java:94 ) , com.squareup.picasso.NetworkBitmapHunter.decodeStream ( NetworkBitmapHunter.java:91 ) , com.squareup.picasso.NetworkBitmapHunter.decode ( NetworkBitmapHunter.java:60 ) , com.squareup.picasso.BitmapHunter.hunt ( BitmapHunter.java:111 ) , com.squareup.picasso.BitmapHunter.run ( BitmapHunter.java:82 ) , java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:390 ) , java.util.concurrent.FutureTask.run ( FutureTask.java:234 ) , java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1080 ) , java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:573 ) , java.lang.Thread.run ( Thread.java:856 ) , com.squareup.picasso.Utils $ PicassoThread.run ( Utils.java:218 ) ] `` ` # # # # Responsible code ( under getView ( ) ) `` ` java pBuilder.build ( ) .load ( URL ) .fit ( ) .into ( ImageView ) ; `` ` By the way , I do n't know if it matters but airplane mode is
Throwing OutOfMemoryError `` Could not allocate JNI Env '' __EoT__ `` ` compile 'com.github.captain-miao : recyclerviewutils:1.2.1-SNAPSHOT' @ BindingAdapter ( { `` compressImageUrl '' } ) public static void loadImageCompress ( ImageView imageView , String url ) { //recycle bitmap Drawable drawable = imageView.getDrawable ( ) ; if ( drawable instanceof BitmapDrawable ) { imageView.setImageDrawable ( null ) ; Bitmap bitmap = ( ( BitmapDrawable ) drawable ) .getBitmap ( ) ; Log.d ( TAG , `` recycle bitmap , w : '' + bitmap.getWidth ( ) + `` , h : '' + bitmap.getHeight ( ) ) ; bitmap.recycle ( ) ; } Picasso.with ( imageView.getContext ( ) .getApplicationContext ( ) ) .load ( url ) .memoryPolicy ( MemoryPolicy.NO_CACHE , MemoryPolicy.NO_STORE ) .placeholder ( R.drawable.ic_image_load_place_holder ) .config ( Bitmap.Config.RGB_565 ) .tag ( PicassoOnScrollListener.TAG ) .into ( imageView ) ; } `` ` **fast scroll RecycleView , load image more and more and more ... ** `` ` ** MEMINFO in pid 4695 [ com.github.captain_miao.agera.tutorial ] ** Pss Private Private Swapped Heap Heap Heap Total Dirty Clean Dirty Size Alloc Free -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
