Integration with local/push notification libraries on Android __EoT__ # # # Issue Description I have been successfully using [ react-native-push-notification ] ( https : //github.com/zo0r/react-native-push-notification ) library to show local/push notifications in my app . After I moved to this package , I realized that the local/push notifications are no longer working on Android . After some debugging , I realized that my application never receives the notification intent due to which none of the code around the local/push notification is invoked . I think the reason for that is as stated in the ` Android specific use cases ` wiki page > MainActivity extends SplashActiviy which is used to start the react context . Once react is up and running MainActivity is stopped and another activity takes over to run our app : NavigationActivity . Due to this design , there 's usually no point in overriding lifecycle callbacks in MainActivity . In the push notification package , I can see that the notification intent is delivered to the ` MainActivity ` class which is stopped by this package . This code is from the push notification package to figure out the ` MainActivity ` class `` ` java
[ V2 ] [ iOS ] Selecting a tab by ComponentId/TabIndex __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description Selecting a tab by component id or tab index working as excepted on Android but does not any affect on iOS . # # # Steps to Reproduce / Code Snippets / Screenshots `` ` javascript Nav.mergeOptions ( `` pharma.tabs '' , { bottomTabs : { currentTabId : 'tab.map' } } ) ; `` ` -- - # # # Environment * React Native Navigation version : 2.0.2478 * React Native version : 0.56 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator/Debug
Unable to pass props as function on showInAppNotification __EoT__ # # # Issue Description Passing props as function on showInAppNotification return ` this.props.text is not function . this.props.text is an instance of Object ` Is this because passing function props on showInAppNotification is not supported yet ? I can do this with other apis like ` push ` # # # Steps to Reproduce / Code Snippets / Screenshots `` ` js this.props.navigator.showInAppNotification ( { screen : `` Notification '' , passProps : { text : ( text ) = > this.setState ( { text : text } ) } } ) `` ` -- - # # # Environment * React Native Navigation version : 2.0.0-experimental.165 * React Native version : 0.39 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Simulator
Android blank white screen after launch __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description When using react-native-navigation , the Android app launches but it only shows a white blank screen . It does n't get connected to the debugger no matter what . Even when enabling or disabling the debugger , which I think is n't the problem . When checking Logcat in android studio this error stands out . ` E/unknown : ReactNative : Unable to display loading message because react activity is n't available ` It only happened after setting up my project with react-native-navigation that this happens . This is only in Android , iOS works perfectly . # # # Steps to Reproduce / Code Snippets / Screenshots Followed the set up for Android for the documentation and the end result of my ` MainApplication ` is `` ` import com.airbnb.android.react.maps.MapsPackage ; import com.babisoft.ReactNativeLocalization.ReactNativeLocalizationPackage ; import com.brentvatne.react.ReactVideoPackage ; import com.dieam.reactnativepushnotification.ReactNativePushNotificationPackage ; import com.facebook.react.ReactPackage ; import com.facebook.react.shell.MainReactPackage ; import com.learnium.RNDeviceInfo.RNDeviceInfo ; import com.oblador.vectoricons.VectorIconsPackage ; import com.reactnativenavigation.NavigationApplication ; import java.util.Arrays ; import java.util.List ; public class MainApplication extends NavigationApplication { @ Override
Android blank white screen after launch __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description When using react-native-navigation , the Android app launches but it only shows a white blank screen . It does n't get connected to the debugger no matter what . Even when enabling or disabling the debugger , which I think is n't the problem . When checking Logcat in android studio this error stands out . ` E/unknown : ReactNative : Unable to display loading message because react activity is n't available ` It only happened after setting up my project with react-native-navigation that this happens . This is only in Android , iOS works perfectly . # # # Steps to Reproduce / Code Snippets / Screenshots Followed the set up for Android for the documentation and the end result of my ` MainApplication ` is `` ` import com.airbnb.android.react.maps.MapsPackage ; import com.babisoft.ReactNativeLocalization.ReactNativeLocalizationPackage ; import com.brentvatne.react.ReactVideoPackage ; import com.dieam.reactnativepushnotification.ReactNativePushNotificationPackage ; import com.facebook.react.ReactPackage ; import com.facebook.react.shell.MainReactPackage ; import com.learnium.RNDeviceInfo.RNDeviceInfo ; import com.oblador.vectoricons.VectorIconsPackage ; import com.reactnativenavigation.NavigationApplication ; import java.util.Arrays ; import java.util.List ; public class MainApplication extends NavigationApplication { @ Override
some bug with custom nav bar __EoT__ guys , i use some code to add nav bar . but it looks like has something on the left , i dont know why . this is my code : < hi > this code add navbar , use component TabHeader **componentDidMount ( ) { this.props.navigator.setStyle ( { navBarCustomView : 'TabHeader ' , navBarHeight : 90 , navBarBackgroundColor : ' # 34223 ' , navBarComponentAlignment : 'fill ' , } ) ; } ** and this code to create component TabHeader : ** # render ( ) { return ( < View style= { { width : '100 % ' , height : 90 , flexDirection : 'row ' , alignItems : 'flex-start ' , backgroundColor : ' # fff ' } } > < TouchableOpacity style= { { width : '15 % ' , alignItems : 'flex-start ' } } onPress= { this.props.openSideMenu } > < Image style= { { width : 25 , height : 25 , marginTop : 32 } } source= { require ( '../images/Menu.png ' ) } / > < /TouchableOpacity > < TouchableOpacity onPress= { ( ) = > this.props.changeContent ( 'go Link ' ) }
Custom buttons on Android does not work __EoT__ Hi ! I 'm changing buttons to custom buttons . I changed 'sideMenu ' button with an icon from react-native-vector-icons and it is working well . But when I try to change de 'back ' button does not work , always show the default left arrow . This is the code : `` ` js import MaterialIcon from 'react-native-vector-icons/MaterialIcons' export default class Activity extends Component { static navigatorStyle = { navBarTextFontFamily : 'Raleway-Bold ' , navBarButtonColor : COLORS.overFirst } constructor ( props ) { super ( props ) MaterialIcon.getImageSource ( 'arrow-back ' , 35 , COLORS.overFirst ) .then ( icon = > { props.navigator.setButtons ( { leftButtons : [ { icon , id : 'back' } ] } ) } ) } // ... } `` ` React native navigation version : 1.1.45 React native version : 0.43.3 Platfrom : Android Device : Simulator EDIT : I 've noticed that also occurs with 'sideMenu ' , basically it seems that the problem is when I try to change button icon from a no-root screen .
Restore # 3626 __EoT__ # 3626 , which added typing for options and layouts , was reverted as it broke the Wix app and since we were under tight schedule at the time we could n't afford to fix the issues . Lets invest the time required to restore it and fix the few remaining errors .
setOnNavigatorEvent callback not fired when switching tabs __EoT__ # # # Issue Description I have originally posted [ my question ] ( https : //stackoverflow.com/q/51225730/6928824 ) on stackoverflow but had no success so far . Thus I want to try to get some more help here or some people to read my question on stackoverflow . Basically I want to ` popToTRoot ` when the user switches tabs but it does n't work : `` ` javascript class NavScreen extends React.PureComponent { constructor ( props ) { super ( props ) this.props.navigator.setOnNavigatorEvent ( this.toRootOnTabSelect.bind ( this ) ) } toRootOnTabSelect ( event ) { const { id } = event if ( [ `` bottomTabSelected '' , `` bottomTabReselected '' ] .includes ( id ) ) { this.props.navigator.popToRoot ( { animated : true , animationType : `` fade '' , } ) } } render ( ) { return < Text > Whatever ... < /Text > } } `` ` # # # Steps to Reproduce / _Code Snippets_ / Screenshots For more details see [ my stackoverflow post ] ( https : //stackoverflow.com/q/51225730/6928824 ) . -- - # # # Environment * React Native Navigation version : 1.1.474
setOnNavigatorEvent callback not fired when switching tabs __EoT__ # # # Issue Description I have originally posted [ my question ] ( https : //stackoverflow.com/q/51225730/6928824 ) on stackoverflow but had no success so far . Thus I want to try to get some more help here or some people to read my question on stackoverflow . Basically I want to ` popToTRoot ` when the user switches tabs but it does n't work : `` ` javascript class NavScreen extends React.PureComponent { constructor ( props ) { super ( props ) this.props.navigator.setOnNavigatorEvent ( this.toRootOnTabSelect.bind ( this ) ) } toRootOnTabSelect ( event ) { const { id } = event if ( [ `` bottomTabSelected '' , `` bottomTabReselected '' ] .includes ( id ) ) { this.props.navigator.popToRoot ( { animated : true , animationType : `` fade '' , } ) } } render ( ) { return < Text > Whatever ... < /Text > } } `` ` # # # Steps to Reproduce / _Code Snippets_ / Screenshots For more details see [ my stackoverflow post ] ( https : //stackoverflow.com/q/51225730/6928824 ) . -- - # # # Environment * React Native Navigation version : 1.1.474
[ V2 ] [ iOS ] topBar.backButton.color broken after 2.0.2583 or 2.0.2584 __EoT__ # # # Issue Description topBar.backButton.color on iOS ( PR # 3999 ) is n't working after 2.0.2583 or 2.0.2584 . Ca n't confirm the exact version , since 2.0.2583 does not work for me . EDIT : I was previously saying that the fix for # 4079 was causing this , but it may not be the case as I 'm experiencing the issue even on 2.0.2584 -- - # # # Environment * React Native Navigation version : 0.56 * React Native version : 2.0.2586 * Platform ( s ) ( iOS , Android , or both ? ) : iOS
showOverlay __EoT__
support testId on navigation elements __EoT__ see https : //github.com/wix/detox/issues/12 # issuecomment-291499294
Swiping / pop gesture on root Screen breaks navigation push / touches . __EoT__ # # # Issue Description In the example app , swiping ( a pop gesture ) at the edge of the root Screen causes touches to the ContentView etc . have no effect . Eg . tapping the “ Push Plain Screen ” link engages the TouchableHighlight animation but does not cause the navigation to push . After further swiping the screen , eventually , the ignored touches/navigation start having an effect . When this happens the phone behaves as if mid-way through a pan gesture / pushing a Screen Note : If the app has a SideMenu , The ContentView inside the SideMenu does not stop responding to touches . # # # Steps to Reproduce / Code Snippets / Screenshots Build and run the example app ( preferably disable the drawer/SideMenu ) as it makes the issue clearer . To replicate , whilst on the root Screen , swipe from the edge of the physical screen . Now tap on a link to push a Screen . Nothing happens . : ( After this point the Screen stops responding to all touches . Swiping
Swiping / pop gesture on root Screen breaks navigation push / touches . __EoT__ # # # Issue Description In the example app , swiping ( a pop gesture ) at the edge of the root Screen causes touches to the ContentView etc . have no effect . Eg . tapping the “ Push Plain Screen ” link engages the TouchableHighlight animation but does not cause the navigation to push . After further swiping the screen , eventually , the ignored touches/navigation start having an effect . When this happens the phone behaves as if mid-way through a pan gesture / pushing a Screen Note : If the app has a SideMenu , The ContentView inside the SideMenu does not stop responding to touches . # # # Steps to Reproduce / Code Snippets / Screenshots Build and run the example app ( preferably disable the drawer/SideMenu ) as it makes the issue clearer . To replicate , whilst on the root Screen , swipe from the edge of the physical screen . Now tap on a link to push a Screen . Nothing happens . : ( After this point the Screen stops responding to all touches . Swiping
Swiping / pop gesture on root Screen breaks navigation push / touches . __EoT__ # # # Issue Description In the example app , swiping ( a pop gesture ) at the edge of the root Screen causes touches to the ContentView etc . have no effect . Eg . tapping the “ Push Plain Screen ” link engages the TouchableHighlight animation but does not cause the navigation to push . After further swiping the screen , eventually , the ignored touches/navigation start having an effect . When this happens the phone behaves as if mid-way through a pan gesture / pushing a Screen Note : If the app has a SideMenu , The ContentView inside the SideMenu does not stop responding to touches . # # # Steps to Reproduce / Code Snippets / Screenshots Build and run the example app ( preferably disable the drawer/SideMenu ) as it makes the issue clearer . To replicate , whilst on the root Screen , swipe from the edge of the physical screen . Now tap on a link to push a Screen . Nothing happens . : ( After this point the Screen stops responding to all touches . Swiping
No red screen if app fails on initialization __EoT__ # # # Issue Description When application is failing before final render , no red screen is displayed and all I get is a white screen . I ca n't access any of the debugger features such as reload or access the dev settings ( nothing happens when shaking the phone ) . -- - # # # Environment * React Native Navigation version : 1.443 * React Native version : 0.54 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Debug on device and simulator
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
[ Feature request ] iOS 11 Style Navbar Titles __EoT__ # # # Issue Description Almost every iOS 11 app has this new style for navigation titles : ! [ ios11 nav title ] ( https : //user-images.githubusercontent.com/7143583/28991088-f617b5e4-7940-11e7-92ca-ca14ba6b4d5d.gif ) It would be great to support this natively with react-native-navigation since it seems to be the new UI standard for iOS . It should n't be too difficult to accomplish either because I believe iOS has a simple API to enable it : https : //developer.apple.com/documentation/uikit/uinavigationbar/2908999-preferslargetitles
[ V2 ] Screen re-mounted on Poped __EoT__ # # # Screen re-mount when Navigation.pop Screen componentDidMount recall on popped screen . # # # Steps to Reproduce / Code Snippets / Screenshots - run PlayGround project , console.log on ComponentDidMount at PushedScreen - after push then pop PushedScreen , componentDidMount re-call -- - # # # Environment * React Native Navigation version : 2.0.0 * React Native version : 0.49 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Android Device
Ensure parent options are applied correctly __EoT__
Ensure parent options are applied correctly __EoT__
[ wix ] All these reverts on v2 __EoT__ Hey wix team . I 've noticed that the project is moving way more slowly than usual because most of the PR 's that lands on v2 gets reverted . It 's super hard to keep track of what 's in , why it did n't , or whats up generally . I know that the Wix app is dependent on this project , but ca n't you guys figure out a solution to not block react-native-navigation if there is a problem that arises , with versioning or something else . I do n't want to be the bad guy or anything , I just care about the community around this project , it is the only active native navigation project alife and I would hate for it to go down the sink because of something like this Thanks !
[ wix ] All these reverts on v2 __EoT__ Hey wix team . I 've noticed that the project is moving way more slowly than usual because most of the PR 's that lands on v2 gets reverted . It 's super hard to keep track of what 's in , why it did n't , or whats up generally . I know that the Wix app is dependent on this project , but ca n't you guys figure out a solution to not block react-native-navigation if there is a problem that arises , with versioning or something else . I do n't want to be the bad guy or anything , I just care about the community around this project , it is the only active native navigation project alife and I would hate for it to go down the sink because of something like this Thanks !
[ wix ] All these reverts on v2 __EoT__ Hey wix team . I 've noticed that the project is moving way more slowly than usual because most of the PR 's that lands on v2 gets reverted . It 's super hard to keep track of what 's in , why it did n't , or whats up generally . I know that the Wix app is dependent on this project , but ca n't you guys figure out a solution to not block react-native-navigation if there is a problem that arises , with versioning or something else . I do n't want to be the bad guy or anything , I just care about the community around this project , it is the only active native navigation project alife and I would hate for it to go down the sink because of something like this Thanks !
Nav Bar Button Font Size Reverts On Press __EoT__ When I set the font size on a text only nav bar button , the font size would revert back to the default when I click on it . Here is the code that I am using to set the button : ` this.props.navigator.setButtons ( { rightButtons : [ { title : 'NEXT ' , buttonColor : 'white ' , buttonFontSize : 12 } ] } ) ; ` -- - # # # Environment * React Native Navigation version : `` ^1.3.4 '' * React Native version : `` 0.50.1 '' * Platform ( s ) ( iOS , Android , or both ? ) : IOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : IPhone 6 Simulator
ReactNative 0.42.1 ? __EoT__ Any chance to update to use the latest RN ? Thank you 😸
error : method does not override or implement a method from a supertype __EoT__ # # # Issue Description I used react-native init to create project , and i followed the react-native-navigation installation guidelines for android , when i run this command react-native run-android i get the following error : /Users/guestsid/Documents/repos/NewProject/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/bridge/NavigationReactPackage.java:23 : error : method does not override or implement a method from a supertype @ Override ^ Note : Some input files use or override a deprecated API . Note : Recompile with -Xlint : deprecation for details . Note : Some input files use unchecked or unsafe operations . Note : Recompile with -Xlint : unchecked for details . 1 error : react-native-navigation : compileReleaseJavaWithJavac FAILED # # # Environment * React Native Navigation version : latest * React Native version : latest * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Lenovo k5 note , Marshmallow , debug
Navigation Drawer button not displayed __EoT__ # # # Issue Description Since the update # 671 , I 'm not able to show the home button ( I have the issue only on Android ) . I 've tried to comment/uncomment ` icon ` , but without success . # # # Steps to Reproduce The app is running with ` Navigation.startSingleScreenApp ( ) ` `` ` js navigatorButtons = { leftButtons : [ { icon : iconsMap [ 'ios-menu ' ] , // icon : Platform.OS === 'ios ' ? iconsMap [ 'ios-menu ' ] : null , title : 'Menu ' , id : 'menu' } ] } `` ` -- - # # # Environment * React Native Navigation version : ` 2.0.0-experimental.180 ` * React Native version : ` 0.39.2 ` * Platform ( s ) ( iOS , Android , or both ? ) : ` Android ` * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : ` Simulator API25 Debug `
change topBarBlur , statusBarBlur and topBarTransparent to not use viewWithTag __EoT__ https : //github.com/wix/react-native-navigation/pull/1760 https : //github.com/wix/react-native-navigation/pull/1700
reload debug crash __EoT__ 1 java.util.Stack.peek ( Stack.java:57 ) java.util.EmptyStackException -- 2 com.reactnativenavigation.screens.ScreenStack.peek ( ScreenStack.java:233 ) 3 com.reactnativenavigation.layouts.BottomTabsLayout.sendTabReselectedEventToJs ( BottomTabsLayout.java:393 ) 4 com.reactnativenavigation.layouts.BottomTabsLayout.onTabSelected ( BottomTabsLayout.java:363 ) 5 com.aurelhubert.ahbottomnavigation.AHBottomNavigation.updateSmallItems ( AHBottomNavigation.java:722 ) 6 com.aurelhubert.ahbottomnavigation.AHBottomNavigation.access $ 100 ( AHBottomNavigation.java:52 ) 7 com.aurelhubert.ahbottomnavigation.AHBottomNavigation $ 3.onClick ( AHBottomNavigation.java:561 )
Does not work in 0.49+ __EoT__ # # # Issue Description Created a brand new project , then installed the navigation following the instructions . Application is built but when the application is about to run , it just hangs on the front page . This is with NO import whatsoever . # # # Steps to Reproduce / Code Snippets / Screenshots `` ` [ info ] [ tid : main ] [ RCTCxxBridge.mm:187 ] Initializing < RCTCxxBridge : 0x6000001b2600 > ( parent : < RCTBridge : 0x6040000aac20 > , executor : ( null ) ) [ warn ] [ tid : main ] [ RCTBridge.m:121 ] Class RCTCxxModule was not exported . Did you forget to use RCT_EXPORT_MODULE ( ) ? warn ] [ tid : main ] [ RCTModuleData.mm:69 ] Module RCCManagerModule requires main queue setup since it overrides ` constantsToExport ` but does n't implement ` requiresMainQueueSetup . In a future release React Native will default to initializing all native modules on a background thread unless explicitly opted-out of . [ warn ] [ tid : NSOperationQueue 0x604000027c40 ( QOS : UNSPECIFIED ) ] [ RCTModuleData.mm:250 ] RCTBridge required dispatch_sync to load RCTDevLoadingView . This may
[ V2 ] sideMenu animationType does not work __EoT__ # 4105 broke ` animationType ` . It is an accepted input option but actually apply the ` sideMenu ` animation style . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
ReactRootView height should not be affected when animating TopBar __EoT__ When toggling TopBar , do n't change content view height . Instead , the user should take care of positioning himself so that blank spaces wo n't be visible when animating TopBar .
android fab __EoT__ https : //github.com/Clans/FloatingActionButton - [ x ] background color ( collapsed and expended ) - [ x ] Icon ( collapsed and expended ) - [ x ] Icon color ( collapsed and expended ) - [ x ] Actions - [ x ] Gravity - [ x ] Hide on scroll
android fab __EoT__ https : //github.com/Clans/FloatingActionButton - [ x ] background color ( collapsed and expended ) - [ x ] Icon ( collapsed and expended ) - [ x ] Icon color ( collapsed and expended ) - [ x ] Actions - [ x ] Gravity - [ x ] Hide on scroll
Build issue with example but not example-redux __EoT__ Thanks for sharing this project ! The IOS stuff I 've been able to play with is awesome . If I clone the project and do a npm install and react-native run-android in the example folder I get the following error . The example-redux folder works fine though . Is anyone able to run the example on android from the master branch ? The build.gradle files are a little different between the two examples . And it looks like the missing pieces would be related to my error below . But even when I even them up it 's still not pulling in the lib . This does n't seem super complicated to track down . But before I start ripping apart the build stuff I wanted to ask to make sure I was n't missing something obvious . Thanks . `` ` /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:4 : error : can not find symbol import com.reactnativenavigation.activities.RctActivity ; ^ symbol : class RctActivity location : package com.reactnativenavigation.activities /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:6 : error : can not find symbol public class MainActivity extends RctActivity { ^ symbol : class RctActivity /Users/jon/github/rn-examples/react-native-navigation/example/android/app/src/main/java/com/example/MainActivity.java:8 : error : method does not override or implement
Tab style tabBarSelectedButtonColor is not working on icon image from react-native-vector-icons ? __EoT__ # # # Issue Description ! [ image ] ( https : //cloud.githubusercontent.com/assets/1255011/20957222/6793f932-bc89-11e6-84d2-bbf08d022552.png ) The tabBarSelectedButtonColor only valid for tab label . As you can see , the label color of current tab is changed , but not the icon . The tab icon image is generated by FontAwesome.getImageSource , and it must supply to color param to this function . # # # Code **generate icon images** `` ` javascript /** * 在球场 * zaiqiuchang.com */ import FontAwesome from 'react-native-vector-icons/FontAwesome ' ; import { COLOR } from './config ' ; const icons = { 'tabbar-nearby ' : [ 'map-marker ' , 24 , COLOR.textEmpha , FontAwesome ] , 'tabbar-atcourt ' : [ 'plus-square ' , 24 , COLOR.textEmpha , FontAwesome ] , 'tabbar-me ' : [ 'user ' , 24 , COLOR.textEmpha , FontAwesome ] , } let iconImages = { } ; export function loadIconImages ( ) { return new Promise ( ( resolve , reject ) = > { const iconNames = Object.keys ( icons ) ; Promise.all ( iconNames.map ( iconName = > { let [ name , size , color , vendor
[ Android ] handle screenBackgroundColor ( temp fix ) __EoT__ See # 437
[ android ] react-native 0.57 compatibility __EoT__ https : //github.com/facebook/react-native/commit/506f92083806e91a90d9a213bcdd05ab3b2ba888 UIImplementationProvider has been removed so I had to do the following to get Android to work in React Native 57 . `` ` diff -- - a/node_modules/react-native-navigation/lib/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactNativeHost.java +++ b/node_modules/react-native-navigation/lib/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactNativeHost.java @ @ -83,7 +83,7 @ @ public class NavigationReactNativeHost extends ReactNativeHost implements Bundle .setUseDeveloperSupport ( getUseDeveloperSupport ( ) ) .setRedBoxHandler ( getRedBoxHandler ( ) ) .setJavaScriptExecutorFactory ( getJavaScriptExecutorFactory ( ) ) - .setUIImplementationProvider ( getUIImplementationProvider ( ) ) + // .setUIImplementationProvider ( getUIImplementationProvider ( ) ) .setInitialLifecycleState ( LifecycleState.BEFORE_CREATE ) .setDevBundleDownloadListener ( getDevBundleDownloadListener ( ) ) ; -- - a/node_modules/react-native-navigation/lib/android/app/src/reactNative56/java/com/reactnativenavigation/react/SyncUiImplementation.java +++ b/node_modules/react-native-navigation/lib/android/app/src/reactNative56/java/com/reactnativenavigation/react/SyncUiImplementation.java @ @ -7,7 +7,7 @ @ import com.facebook.react.bridge.ReadableArray ; import com.facebook.react.bridge.ReadableMap ; import com.facebook.react.uimanager.ThemedReactContext ; import com.facebook.react.uimanager.UIImplementation ; -import com.facebook.react.uimanager.UIImplementationProvider ; +// import com.facebook.react.uimanager.UIImplementationProvider ; import com.facebook.react.uimanager.UIManagerModule ; import com.facebook.react.uimanager.ViewManager ; import com.facebook.react.uimanager.common.MeasureSpecProvider ; @ @ -20,17 +20,17 @ @ import java.util.List ; public class SyncUiImplementation extends UIImplementation { private static final Object lock = new Object ( ) ; - public static class Provider extends UIImplementationProvider { - @ Override - public UIImplementation createUIImplementation ( ReactApplicationContext reactContext , List < ViewManager > viewManagerList , EventDispatcher eventDispatcher , int minTimeLeftInFrameForNonBatchedOperationMs ) { - return new SyncUiImplementation ( reactContext ,
Stack does n't work on Android __EoT__ # # # Issue Description I 'm trying to run an Android app with a StackViewController but all I get is a white screen with a topBar . Running this in iOS works though . # # # Steps to Reproduce / Code Snippets / Screenshots This wo n't work on Android ( but works in iOS ) : `` ` Navigation.setRoot ( stack : { name : 'Test ' , children : [ { component : { name : 'testScreen ' , passProps : { } , } , } , ] , } , ) `` ` This will display my testScreen on Android and iOS ( but wo n't let me push because it 's not a stack ) : `` ` component : { name : 'swadd.testScreen ' , passProps : { } , } , `` ` -- - # # # Environment * React Native Navigation version : 2.0.2119 * React Native version : 0.50.3 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Samsung S8 .
Android broken push/pop/modal animations __EoT__
[ V2 ] [ iOS ] Peek and Pop on iOS using Navigation.TouchablePreview crashes the app __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description Implementing the recently refactored peek and pop function for iOS ( # 3620 ) crashes the app . # # # Steps to Reproduce / Code Snippets / Screenshots To reproduce the crash , you can implement either the demo from # 3620 or the example from https : //wix.github.io/react-native-navigation/v2/ # /docs/animations . ! [ img_6b88919734e4-1 ] ( https : //user-images.githubusercontent.com/8996417/43691444-47ab67dc-994f-11e8-988b-ef3ba6115b11.jpeg ) You may refer to the error message/callstack below . I do n't know how to format the error message properly but I do hope it helps ! Exception '- [ __NSDictionaryM floatValue ] : unrecognized selector sent to instance 0x1c0032060 ' was thrown while invoking push on target RNNBridgeModule with params ( push12 , Component8 , { children = ( ) ; data = { name = `` flicc.ActivityScreen '' ; options = { preview = { reactTag = { reactTag = 1409 ; } ; } ; } ; } ; id = Component11 ; type =
How to disable the elasticity/stretch on drawer ? __EoT__ When using the drawer , there 's a certain level of elasticity that makes the drawer `` stretch '' when it 's in its open state and you `` touch and drag '' the drawer . Is there a way to disable this ?
[ V2 ] [ Android ] ReactGateway constructor was made private __EoT__ ReatGateway constructor that takes the Host was made private : https : //github.com/wix/react-native-navigation/blob/v2/lib/android/app/src/main/java/com/reactnativenavigation/react/ReactGateway.java # L22 We need that to be accessible so we can create a link with Codepush : https : //github.com/Microsoft/react-native-code-push/pull/1239/files # diff-cf1aaec78d431bcee1c397a5faef736dR352 # # # Proposed Fix https : //github.com/wix/react-native-navigation/pull/3146
Support RTL languages __EoT__ Hey , As far as i understand there no support for RTL navigation right now , am I right ? If so there is any planing for it ?
Are you supporting react native version 0.52.0 ? __EoT__ Are you supporting react native version 0.52.0 ? it seems not , current version is : 1.1.338 Android
Metro Bundler fails for iOS without first running ` react-native link ` __EoT__ # # # Metro Bundler fails for iOS without first running ` react-native link ` # # # Steps to Reproduce / Code Snippets / Screenshots Simply follow the iOS installation instructions with a brand new React Native app . When attempting ` react-native run-ios ` , Metro Bundler fails . **Note** : This is at least the case when installing ` react-native-navigation ` via NPM . # # # # Here is a fix : This PR simply adds ` react-native link ` to the documentation : https : //github.com/wix/react-native-navigation/pull/2115 -- - # # # Environment * React Native Navigation version : `` ^1.1.257 '' * React Native version : `` 0.50.1 '' * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Attempting to run simulator on MacBook Pro El Capital 10.11.6 .
[ V2 ] [ iOS ] Can not set back button color __EoT__ # # # Issue Description When changing color of the back button of the ` topBar ` you define the styles like so : `` ` Navigation.setDefaultOptions ( { topBar : { backButton : { color : ' # ffffff ' } , // Android buttonColor : ' # ffffff ' , // iOS } , } ) ; `` ` This works up to RNN version ` 2.0.2461 ` . But version ` 2.0.2462 ` onwards back button color is broken on iOS . Looks like the only way to color your back button is to provide ` icon ` like this : `` ` Navigation.setDefaultOptions ( { topBar : { backButton : { color : ' # ffffff ' , icon : require ( './images/someIcon.png ' ) } , } , } ) ; `` ` But this is not ideal solution for people who want to use the default icon . I am pretty sure these commits are related : https : //github.com/wix/react-native-navigation/commit/98ff69ec562108f6b1e627804c52655494012d21 https : //github.com/wix/react-native-navigation/commit/7cf172a364f6dcc17728c3e9e875f964ba679eb2 Ping @ guyca @ yogevbd -- - # # # Environment * React Native Navigation version : 2.0.2462
Compatibility with RN 0.43 __EoT__ Hi , I 'm facing a compatibility problem with RN 0.43-rc.x In this RN version com.facebook.react.devsupport.DevSupportManager is no longer available , wich breaks `` ` private void replaceInDevSupportManager ( DevCommandsHandlerProxy proxy ) { DevSupportManager devSupportManager = ( DevSupportManager ) ReflectionUtils.getDeclaredField ( reactInstanceManager , `` mDevSupportManager '' ) ; ReflectionUtils.setField ( devSupportManager , `` mReactInstanceCommandsHandler '' , proxy ) ; } `` ` method in JsDevReloadListenerReplacer.java I tried to switch DevSupportManager with DevSupportManagerImpl , it builds , but I get a `` Unable to connect with remote debugger '' when i try to debug . React Native Navigation version : 2.0.0-experimental.256 React Native version : 0.43-rc.3 ANDROID DEBUG
[ Android ] 'showModal ' : Screen is re-opened after returning from home __EoT__ _First of all I want to thank you all , guys , for such wonderful navigation library . After frustrating experience with ` react-navigation ` I feel like I 'm able to breathe freely again . This is how navigation should be implemented on RN , I 'm disappointed that Facebook points us to the ` react-navigation ` as the primary navigation library . There should be you , guys , please , keep going ! _ # # # Issue Description Screen is opened with ` showModal ` . After pressing Home button and then return to the app the open screen animation is re-played . It 's not actually re-opened again , but gives the impression that it is . I believe it 's because 'modal ' screens on Android is implemented as dialogs ( please , correct me if I 'm wrong ) , so the system hides them after user presses Home button and restore – when returns to the app . I use ` showModal ` here because I have tabs and I want the possibility to open new **Screen** which
[ V2 ] RNN and React Native version __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description In the documentation ( android/app/build.gradle ) , android { ... defaultConfig { applicationId `` com.yourproject '' minSdkVersion rootProject.ext.minSdkVersion targetSdkVersion rootProject.ext.targetSdkVersion missingDimensionStrategy `` RNN.reactNativeVersion '' , `` reactNative56 '' // < == for rn0.57 what should i add here ? versionCode 1 versionName `` 1.0 '' ... } ... } # # # Environment * React Native Navigation version : `` ^2.0.2553 '' * React Native version : 16.5.0 * Platform ( s ) ( iOS , Android , or both ? ) : android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : device
How to add navigator on header have badge like this __EoT__ ! [ screen shot 2017-02-10 at 15 05 29 ] ( https : //cloud.githubusercontent.com/assets/14955532/22860114/3d66eeea-f126-11e6-994b-e671d8786832.png )
Ability to change elevation of navbar on android __EoT__ # # # Issue Description How do i remove/change navbar elevation in android # # # Environment * React Native Navigation version : 0.37 * React Native version : 2.00-experimental.142 * Platform ( s ) ( iOS , Android , or both ? ) : android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : any ! [ screen shot 2016-11-22 at 2 03 26 pm ] ( https : //cloud.githubusercontent.com/assets/9738350/20518279/9d1ec166-b0c4-11e6-990c-6027cf8b8473.png ) In this scenario the elevation of navbar and swipable tabs should be the same
[ V2 ] [ Android ] IndexOutOfBoundsException __EoT__ # # # Issue Description When creating a bottom tabs navigation with no default tab selected , the app crashes with exception . Looking a the logs it seems like the default passed is '-1' # # # Steps to Reproduce / Code Snippets / Screenshots index.js : `` ` js Navigation.registerComponent ( A.navigationId , ( ) = > AScene ) ; Navigation.registerComponent ( B.navigationId , ( ) = > BScene ) ; `` ` AScene , BScene `` ` js static get options ( ) : NavigationOptions { return { topBar : { ... . } , bottomTab : { title : `` A '' , icon : iconA , } } ; } `` ` This is the actual stacktrace : `` ` java.lang.ArrayIndexOutOfBoundsException : length=12 ; index=-1 at java.util.ArrayList.get ( ArrayList.java:310 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.getCurrentView ( BottomTabsController.java:158 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.selectTabAtIndex ( BottomTabsController.java:153 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.onTabSelected ( BottomTabsController.java:95 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.updateSmallItems ( AHBottomNavigation.java:763 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.setCurrentItem ( AHBottomNavigation.java:1209 ) at com.aurelhubert.ahbottomnavigation.AHBottomNavigation.setCurrentItem ( AHBottomNavigation.java:1190 ) at com.reactnativenavigation.views.BottomTabs.setCurrentItem ( BottomTabs.java:31 ) at com.reactnativenavigation.presentation.BottomTabsOptionsPresenter.applyBottomTabsOptions ( BottomTabsOptionsPresenter.java:41 ) at com.reactnativenavigation.presentation.BottomTabsOptionsPresenter.present ( BottomTabsOptionsPresenter.java:23 ) at com.reactnativenavigation.viewcontrollers.bottomtabs.BottomTabsController.applyOptions ( BottomTabsController.java:55 ) at com.reactnativenavigation.viewcontrollers.ViewController.onViewAppeared ( ViewController.java:150 ) at com.reactnativenavigation.viewcontrollers.ViewController.onGlobalLayout
IllegalViewOperationException : Trying to add unknown view tag __EoT__ < ! -- Please post questions in Stack Overflow under the react-native-navigation tag https : //stackoverflow.com/questions/tagged/react-native-navigation -- > # # # Issue Description 1 % of the users are facing this crash . Do you have any idea what could it be ? `` ` com.facebook.react.uimanager.IllegalViewOperationException com.reactnativenavigation.controllers.NavigationActivity Trying to add unknown view tag : 1234 `` ` I noticed most of these users had this weird behavior of ` ActivityLifecycle ` being triggered multiple times at the same time ( ` onDestroy ( ) ` , ` onStop ( ) ` , ` onResume ( ) ` , ` onStart ( ) ` , ` onCreate ( ) ` , etc ) . What could cause this ? < img width= '' 1065 '' alt= '' image '' src= '' https : //user-images.githubusercontent.com/619186/37626535-285d338c-2baf-11e8-83eb-4fb5b3df08bb.png '' > Stack points to https : //github.com/facebook/react-native/blob/353c070be9e9a5528d2098db4df3f0dc02d758a9/ReactAndroid/src/main/java/com/facebook/react/uimanager/UIImplementation.java # L479 but I did n't have this before migrating to react-native-navigation afaik . `` ` 04-29 07:07:05.094 25419-25452/com.reactnativenavigation.playground E/unknown : ReactNative : Exception in native call com.facebook.react.uimanager.IllegalViewOperationException : Trying to add unknown view tag : 70 at com.facebook.react.uimanager.UIImplementation.setChildren ( UIImplementation.java:480 ) at com.facebook.react.uimanager.UIManagerModule.setChildren ( UIManagerModule.java:448 ) at java.lang.reflect.Method.invoke (
iPad landscape loads portrait launch image __EoT__ # # # Issue Description When loading an RNN app for iPad in landscape orientation , after the Xcode launch image , the image used by RNN looks like the Default.png portrait image - stretched and pixelated to fit # # # Steps to Reproduce / Code Snippets / Screenshots 1 . Add iPad launch images to Xcassets 2 . Load on iPad simulator in landscape orientation -- - # # # Environment * React Native Navigation version : 1.1.164 * React Native version : 0.43.4 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : iPad ( device+sim )
[ V2 ] [ Android ] Creating BottomTabs one at the time is not efficient __EoT__ # # # Issue Description As described here : https : //github.com/wix/react-native-navigation/issues/3131 : The root problem is comes from AHBottomNavigation implementation of ` adItem ` calling ` createItems ` : https : //github.com/aurelhubert/ahbottomnavigation/blob/master/ahbottomnavigation/src/main/java/com/aurelhubert/ahbottomnavigation/AHBottomNavigation.java # L975 discarding the LinearLayout and builds it from scratch again : https : //github.com/aurelhubert/ahbottomnavigation/blob/master/ahbottomnavigation/src/main/java/com/aurelhubert/ahbottomnavigation/AHBottomNavigation.java # L274 # # # Proposed Fix TBD -- - # # # Environment * React Native Navigation version : V2 * React Native version : 0.53.3 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Emulator / Debug
Drawer style ( width ) and question about deprecation . __EoT__ - I can see the native part of the code accepts a : ` style ` [ prop ] ( https : //github.com/wix/react-native-navigation/blob/master/ios/RCCDrawerController/RCCTheSideBarManagerViewController.m # L70 ) with a ` leftDrawerWidth ` [ prop ] ( https : //github.com/wix/react-native-navigation/blob/master/ios/RCCDrawerController/RCCTheSideBarManagerViewController.m # L99 ) within it , so that we can specify the width of a drawer , but without forking your repo , I see no way to pass a style on the native drawer . How do I pass styles to that ? - Also I 'm using both your Drawer , and your Notifications , but I can see those are deprecated . Should I keep using them or do you plan to remove them in the future ? I really love those features and would hate to see them removed . Thank you .
Drawer style ( width ) and question about deprecation . __EoT__ - I can see the native part of the code accepts a : ` style ` [ prop ] ( https : //github.com/wix/react-native-navigation/blob/master/ios/RCCDrawerController/RCCTheSideBarManagerViewController.m # L70 ) with a ` leftDrawerWidth ` [ prop ] ( https : //github.com/wix/react-native-navigation/blob/master/ios/RCCDrawerController/RCCTheSideBarManagerViewController.m # L99 ) within it , so that we can specify the width of a drawer , but without forking your repo , I see no way to pass a style on the native drawer . How do I pass styles to that ? - Also I 'm using both your Drawer , and your Notifications , but I can see those are deprecated . Should I keep using them or do you plan to remove them in the future ? I really love those features and would hate to see them removed . Thank you .
Custom NavBar does not render [ after merging # 3405 ] __EoT__ # # # Issue Description There was a PR # 3405 merged in to fix the iOS Flicker Issue ( # 2849 , # 3250 ) by @ yogevbd . After that merge , the custom top NavBar components have stopped rendering # # # Screenshots Here is a screenshot from the sample app at 92b3037f14882dd2b577f6d8b86d712dc201aa29 ( before merge ) : ! [ f580773a-77a8-4416-a55a-aaa5674e2fe3 ] ( https : //user-images.githubusercontent.com/1220480/41901906-c4f06258-794f-11e8-863f-ad38f1644acf.jpeg ) Here is how it looks at 9d4eea835ad83170c39c336c108ef2610c078f19 ( after the merge / master ) ! [ 8a894b0f-48fa-4b93-b0e3-cf440b9b12de ] ( https : //user-images.githubusercontent.com/1220480/41901936-d6c2df6a-794f-11e8-9a27-f2a2df1b049c.jpeg ) Can this be addressed please ? @ simonmitchell @ yogevbd -- - # # # Environment * React Native Navigation version : ` master ` * React Native version : ` 0.55.4 ` * Platform ( s ) : ` iOS ` * Device info : all iOS Devices . ( debug & release modes )
Change the Navigation Style/Color at Runtime __EoT__ Is it possible to change the color of the navigation bar at runtime ? Even if it requires some changes to the Objective-C code ( iOS ) does anyone know if this would be possible to add such a method to the API ? Something like Navigation.setStyle ( { ... } ) ; instead of it being applied with a screen push or static on the screen . Related : https : //github.com/wix/react-native-navigation/issues/519 https : //github.com/wix/react-native-navigation/issues/466 **Update : ** This was functionality was recently added @ simonmitchell 🥇 PR : https : //github.com/wix/react-native-navigation/pull/307 Here is how to use the new functionality : `` ` this.props.navigator.setStyle ( { ... navigationStyles.opaque , navBarTransparent : true , navBarTranslucent : false , extendedLayoutIncludesOpaqueBars : true } ) ; `` `
[ Android ] - drawer , navigatorStyle , NavigatorEvent not working __EoT__ Hi , I am testing Example project on Android . Drawer ( Sidemenu ) : navicon_menu.png icon not show NavigatorStyle : allway show gray background color NavigatorEvent not working ! [ screen shot 2016-06-22 at 12 36 11 am ] ( https : //cloud.githubusercontent.com/assets/19372005/16239919/60e02fea-3811-11e6-8a26-504ff602ae4f.png )
[ Android ] - drawer , navigatorStyle , NavigatorEvent not working __EoT__ Hi , I am testing Example project on Android . Drawer ( Sidemenu ) : navicon_menu.png icon not show NavigatorStyle : allway show gray background color NavigatorEvent not working ! [ screen shot 2016-06-22 at 12 36 11 am ] ( https : //cloud.githubusercontent.com/assets/19372005/16239919/60e02fea-3811-11e6-8a26-504ff602ae4f.png )
Error Installing wix for android RN .49 __EoT__ # # # Issue Description > Bundling ` index.android.js ` [ development , non-minified ] 0.0 % ( 0/1 ) , failed . error : bundling failed : NotFoundError : Can not find entry file index.android.js in any of the roots : [ `` c : \\Users\\haz\\Desktop\\GProject '' ] at DependencyGraph._getAbsolutePath ( c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\node-haste\DependencyGraph.js:305:11 ) at DependencyGraph.getDependencies ( c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\node-haste\DependencyGraph.js:283:4236 ) at Resolver.getDependencies ( c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\Resolver\index.js:129:5 ) at c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\Bundler\index.js:642:39 at next ( native ) at step ( c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\Bundler\index.js:13:1336 ) at c : \Users\haz\Desktop\GProject\node_modules\metro-bundler\src\Bundler\index.js:13:1496 at process._tickCallback ( internal/process/next_tick.js:109:7 ) # # # Steps to Reproduce / Code Snippets / Screenshots > react-native init GProject > npm install -- save react-native-navigation > follow installation for android in [ https : //wix.github.io/react-native-navigation/ # /installation-android ] ( url ) > # # # Environment * React Native Navigation version : react-native-navigation @ 1.1.236 * React Native version : 0.49.3 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info : Device Android 6.0.1
Navbar title click event __EoT__ Hi , Is there any configuration available to catch a click on the title ( using titleImage ) ? I did n't find anything in the docs related to this event : ) Thanks
Navbar title click event __EoT__ Hi , Is there any configuration available to catch a click on the title ( using titleImage ) ? I did n't find anything in the docs related to this event : ) Thanks
Issue with showing several alerts in a row __EoT__ # # # Issue Description Showing second alert closes previous one # # # Steps to Reproduce / Code Snippets / Screenshots If you run code like this , both alert will be shown , one under another . `` ` alert ( `` Alert 1 '' ) ; alert ( `` Alert 2 '' ) ; `` ` If you run code like this , second after showing second alert , previous one disappears `` ` alert ( 'Alert 1 ' ) ; setTimeout ( ( ) = > { alert ( 'Alert 2 ' ) ; } , SOME_DELAY ) ; `` ` -- - # # # Environment * React Native Navigation version : v2 * React Native version : 0.44.0 * Platform ( s ) ( iOS , Android , or both ? ) : Android * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : Emulator , API 26
Open a modal from tab bar __EoT__ https : //stackoverflow.com/questions/48857262/open-modal-from-tab-bar **Issue Description** I have 3 tabs and I want to open a modal when the user presses on the second tab at the moment it just navigates to the screen . There was another issue raised for this but was closed without any solution . https : //github.com/wix/react-native-navigation/issues/55 I really like this library and do n't want to switch because of this issue so any help would be greatly appreciated . Thanks
Open a modal from tab bar __EoT__ https : //stackoverflow.com/questions/48857262/open-modal-from-tab-bar **Issue Description** I have 3 tabs and I want to open a modal when the user presses on the second tab at the moment it just navigates to the screen . There was another issue raised for this but was closed without any solution . https : //github.com/wix/react-native-navigation/issues/55 I really like this library and do n't want to switch because of this issue so any help would be greatly appreciated . Thanks
TabBar can not hide in the first page befort switch ( iOS 1.1.101 ) __EoT__ Hi ! TabBar can not hide in the first page befort switch . ※Using 「tabBarHidden : true」 In the first Page before switch to other page , TabBar can not hide . But after switch to other page , Tabber is hide well . even switch back to the first page , tabber is hide well . However , On the Android , TabBar is good to hide in the first page befort switch . Please help ! -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- React Native Navigation version : 1.1.101 React Native version : 0.45.1 Platform ( s ) ( iOS , Android , or both ? ) : iOS Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : iOS 10.3
Background visible during transition __EoT__ # # # Issue Description When pushing a new screen onto the navigation stack that transitions from a navigation bar with a solid background colour to one with a transparent nav bar , a black background is visible where the original navigation bar was , as seen here halfway through the animation : < img width= '' 424 '' alt= '' screen shot 2017-01-31 at 17 13 58 '' src= '' https : //cloud.githubusercontent.com/assets/4320942/22476156/3c0108c0-e7d9-11e6-90f1-acf5f4fdf707.png '' > Here 's the navigator styles I 'm using : The first screen : `` ` static navigatorStyle = { navBarBackgroundColor : ' # fcfcfc ' , navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarTextColorScheme : 'dark ' , navBarHideOnScroll : false , navBarNoBorder : false , drawUnderNavBar : false , navBarTranslucent : false , statusBarHideWithNavBar : true } `` ` The screen being pushed : `` ` static navigatorStyle = { navBarTextColor : ' # 333 ' , navBarButtonColor : ' # 333 ' , statusBarHidden : false , navBarNoBorder : true , drawUnderNavBar : true , navBarTransparent : true , navBarTranslucent : true } `` ` If I set the first
Error with react native navigation on new react-native-0.57.0 __EoT__ # # # Issue Description I installed new react native 0.57 and when i run npm run android a got too much errors . # # # Steps to Reproduce / Code Snippets / Screenshots This are the errors : `` ` > Task : react-native-navigation : compileDebugJavaWithJavac FAILED /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactGateway.java:13 : error : can not find symbol import com.facebook.react.uimanager.UIImplementationProvider ; ^ symbol : class UIImplementationProvider location : package com.facebook.react.uimanager /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactGateway.java:35 : error : can not find symbol public NavigationReactGateway ( final UIImplementationProvider customImplProvider ) { ^ symbol : class UIImplementationProvider location : class NavigationReactGateway /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/NavigationApplication.java:15 : error : can not find symbol import com.facebook.react.uimanager.UIImplementationProvider ; ^ symbol : class UIImplementationProvider location : package com.facebook.react.uimanager /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/NavigationApplication.java:58 : error : can not find symbol protected UIImplementationProvider getUIImplementationProvider ( ) { ^ symbol : class UIImplementationProvider location : class NavigationApplication /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactGateway.java:45 : error : can not find symbol protected UIImplementationProvider getUIImplementationProvider ( ) { ^ symbol : class UIImplementationProvider /home/luka/Projects/nasa-peceranja-native/node_modules/react-native-navigation/android/app/src/main/java/com/reactnativenavigation/react/NavigationReactGateway.java:44 : error : method does not override or implement a method from a supertype @ Override ^ Note : Some input files use or override a deprecated API . Note : Recompile with -Xlint
Header margins __EoT__ # # # Issue Description When I create a header with a custom component , there is a margin on the left of the header with android , and on both sides with iOS . # # # Steps to Reproduce / Code Snippets / Screenshots Navbar.js : `` ` // @ flow import React , { Component } from 'react ' ; import { StyleSheet , View , Image } from 'react-native ' ; import { logo , getWidthPercent , getHeightPercent } from '../constants ' ; const styles = StyleSheet.create ( { container : { flex : 1 , justifyContent : 'center ' , alignItems : 'center ' , height : getHeightPercent ( 20 ) , backgroundColor : 'red ' , } , logo : { width : getWidthPercent ( 8 ) , zIndex : 100 , // arbitrarily high zindex } , } ) ; export default ( ) = > ( < View style= { styles.container } > < Image source= { logo } style= { styles.logo } resizeMode= '' contain '' / > < /View > ) ; `` ` Routes.js `` ` import { COMPONENTS } from './constants ' ; import Navbar
NPE in NavigationReactEventEmitter.java __EoT__ I am observing multiple reports for below crash in the Google Play console for my app . `` ` java java.lang.NullPointerException : at com.reactnativenavigation.bridge.NavigationReactEventEmitter. < init > ( NavigationReactEventEmitter.java:17 ) at com.reactnativenavigation.react.NavigationReactGateway.onReactContextInitialized ( NavigationReactGateway.java:114 ) at com.reactnativenavigation.react.NavigationReactGateway.access $ 000 ( NavigationReactGateway.java:24 ) at com.reactnativenavigation.react.NavigationReactGateway $ ReactNativeHostImpl.onReactContextInitialized ( NavigationReactGateway.java:174 ) at com.facebook.react.ReactInstanceManager $ 6.run ( ReactInstanceManager.java:1017 ) at android.os.Handler.handleCallback ( Handler.java:742 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:154 ) at android.app.ActivityThread.main ( ActivityThread.java:5527 ) at java.lang.reflect.Method.invoke ( Native Method ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:739 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:629 ) `` ` I do n't know what are the steps to reproduce . Below is the line in code on which the abort is occurring `` ` java public NavigationReactEventEmitter ( ReactContext reactContext ) { this.eventEmitter = reactContext.getJSModule ( RCTDeviceEventEmitter.class ) ; } `` ` So , it looks like the ` reactContext ` is null but I am not sure why would it be null . -- - # # # Environment * React Native Navigation version : 1.1.365 * React Native version : 0.52.4 * Platform ( s ) ( iOS , Android , or both ? ) : Android
Search Field in Navigation Bar - iOS Support , Documentation __EoT__ I noticed there is Android support for a search view as a Navigation Button , expanding to a text field on selection . ( Found via Pull # 432 ) It needs an iOS implementation , as well as documentation on how to implement . From my own experimentation , it appears the only necessary action is to set the Navigation Button id to ` searchView ` , and it requires an icon - title does n't work . EG - `` ` static navigatorButtons = { rightButtons : [ { icon : require ( `` ../../assets/searchIcon.png '' ) , id : 'searchView ' , } ] } `` ` And then search events are emitted as Navigator events , EG - `` ` this.props.navigator.setOnNavigatorEvent ( event = > { if ( event.id === `` searchQueryChange '' ) { console.log ( `` search query : `` + event.query ) ; } } ) ; `` ` I 'm going to work on an iOS equivalent to match
Search Field in Navigation Bar - iOS Support , Documentation __EoT__ I noticed there is Android support for a search view as a Navigation Button , expanding to a text field on selection . ( Found via Pull # 432 ) It needs an iOS implementation , as well as documentation on how to implement . From my own experimentation , it appears the only necessary action is to set the Navigation Button id to ` searchView ` , and it requires an icon - title does n't work . EG - `` ` static navigatorButtons = { rightButtons : [ { icon : require ( `` ../../assets/searchIcon.png '' ) , id : 'searchView ' , } ] } `` ` And then search events are emitted as Navigator events , EG - `` ` this.props.navigator.setOnNavigatorEvent ( event = > { if ( event.id === `` searchQueryChange '' ) { console.log ( `` search query : `` + event.query ) ; } } ) ; `` ` I 'm going to work on an iOS equivalent to match
dismissOverlay __EoT__
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
Plan for redux support in v2 ? ( HOC support ) __EoT__ I 'm looking to switch from v1 to v2 , but the first thing I noticed was that when registering containers , you can no longer pass in the store and Provider . Is this in the roadmap ?
[ v2 ] Bottom tabs visibility problem __EoT__ # # # Issue Description We have an app with bottom tabs . We want to navigate to another screen with hiding the bottom tabs . It 's working but causes a UI bug when we go back , appears a white area ( exact same height as bottom tabs ) . You can see below . # # # Steps to Reproduce / Code Snippets / Screenshots Let 's assume first screen is HomeScreen ( with bottom tabs ) and second screen is CommentsScreen . Just pass `` ` { bottomTabs : { visible : false , animated : true } } `` ` to CommentsScreen to hide bottom tabs . ! [ 2018-07-12 18 21 09 ] ( https : //user-images.githubusercontent.com/22980987/42643030-da25ac42-8600-11e8-98f4-ecdb5e477a00.gif ) ! [ 2018-07-12 18 21 57 ] ( https : //user-images.githubusercontent.com/22980987/42643032-da4f9a0c-8600-11e8-97b2-3ab440b76137.gif ) -- - # # # Environment * React Native Navigation version : v2 latest * React Native version : 0.55.4 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
[ ios ] [ v1 ] Global Events and Screen Events do not work after iPhoneX patch __EoT__ # # # Issue Description Global Events and Screen Events do not work after iPhoneX patch # # # Steps to Reproduce / Code Snippets / Screenshots Install latest ( 1.1.473 ) and register global events and and none of the events are generated . `` ` new ScreenVisibilityListener ( { willAppear : ( { screen } ) = > { logger.log ( ` Displaying screen $ { screen } ` ) ; } , didAppear : ( screen , startTime , endTime , commandType } ) = > { console.log ( 'screenVisibility ' , ` Screen $ { screen } displayed ` ) ; } , willDisappear : ( ) = > { // { screen , startTime , endTime , commandType } ) = > { /logger.log ( ` Screen will disappear $ { screen } ` ) ; } , didDisappear : ( { screen } ) = > { /logger.log ( ` Screen disappeared $ { screen } ` ) ; } } ) .register ( ) ; `` ` The problem is associated in RCCViewController.m at the
[ ios ] [ v1 ] Global Events and Screen Events do not work after iPhoneX patch __EoT__ # # # Issue Description Global Events and Screen Events do not work after iPhoneX patch # # # Steps to Reproduce / Code Snippets / Screenshots Install latest ( 1.1.473 ) and register global events and and none of the events are generated . `` ` new ScreenVisibilityListener ( { willAppear : ( { screen } ) = > { logger.log ( ` Displaying screen $ { screen } ` ) ; } , didAppear : ( screen , startTime , endTime , commandType } ) = > { console.log ( 'screenVisibility ' , ` Screen $ { screen } displayed ` ) ; } , willDisappear : ( ) = > { // { screen , startTime , endTime , commandType } ) = > { /logger.log ( ` Screen will disappear $ { screen } ` ) ; } , didDisappear : ( { screen } ) = > { /logger.log ( ` Screen disappeared $ { screen } ` ) ; } } ) .register ( ) ; `` ` The problem is associated in RCCViewController.m at the
[ V2 ] topBar component buttons cause Xcode runtime crash __EoT__ # 4105 broke components as ` topBar ` buttons . I am trying to apply a component as the only item in the ` leftButtons ` array and the app crashes ( Xcode crash ) . Icon buttons work fine . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
[ V2 ] topBar component buttons cause Xcode runtime crash __EoT__ # 4105 broke components as ` topBar ` buttons . I am trying to apply a component as the only item in the ` leftButtons ` array and the app crashes ( Xcode crash ) . Icon buttons work fine . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
[ V2 ] topBar component buttons cause Xcode runtime crash __EoT__ # 4105 broke components as ` topBar ` buttons . I am trying to apply a component as the only item in the ` leftButtons ` array and the app crashes ( Xcode crash ) . Icon buttons work fine . -- - # # # Environment * React Native Navigation version : 2.0.2583 * React Native version : 0.57.3 * Platform ( s ) ( iOS , Android , or both ? ) : iOS * Device info ( Simulator/Device ? OS version ? Debug/Release ? ) : All
Feature needed : enable single screen supporting orientation . __EoT__ # # # Issue Description Right now , Android can turn on portraitOnlyMode to make the whole app not supporting orientation , iOS not implemented yet . Both are not supporting turn on or off orientation for single screen . This feature is useful for apps that has a video player screen , which only need the player screen can be rotated .
popToRoot breaks interactive swipe gesture __EoT__ My controller stack looks like [ root , vc1 , vc2 ] , and I pop to root via : `` ` this.props.navigator.popToRoot ( { animated : true , } ) ; `` ` When I now go from root and push another vc , the iOS interactive back swipe gesture no longer works . This has something to do with the horizontal dismiss animation as if I use ` animationType : 'fade ' ` I do n't see this issue . iOS 10.3.1 , iPhone 6 Simulator '' react '' : `` 16.0.0-alpha.12 '' '' react-native '' : `` 0.48.1 '' '' react-native-navigation '' : `` ^1.1.213 ''
Support code embedding __EoT__ Probably good idea to use https : //gist-it.appspot.com/ Think about compatibility when adding/removing lines from existing code . The blogpost shouldnt break then !
Support code embedding __EoT__ Probably good idea to use https : //gist-it.appspot.com/ Think about compatibility when adding/removing lines from existing code . The blogpost shouldnt break then !
Support code embedding __EoT__ Probably good idea to use https : //gist-it.appspot.com/ Think about compatibility when adding/removing lines from existing code . The blogpost shouldnt break then !
Support code embedding __EoT__ Probably good idea to use https : //gist-it.appspot.com/ Think about compatibility when adding/removing lines from existing code . The blogpost shouldnt break then !
Twin design pattern __EoT__ http : //www.ssw.uni-linz.ac.at/Research/Papers/Moe99/Paper.pdf
contacts with multiple accounts attached apear twice __EoT__ After enabling `` send sms with textsecure '' i tried to select a contact to send the sms to . Here i noticed that many contacts were appearing twice ( or more even more often ) which was not the case in the `` original '' contact app . They only appear twice in the `` all contacts '' -section , textsecure contacts are only once there . This appears to be related to the count of numbers attached to a contact - having the mobile number + that contact as whatsapp-contact with the same number has the contact appear twice ( with the same number ) - if that contact is also on facebook ( or has 2 numbers ) that contact appears 4 times . phone : oneplus one , stock 5.0.2 android ( as delivered by oneplus ) , official textsecure app from the appstore ( reinstalled today ) ( 2.25.3 ) .
Quick camera icon wrong dimensions in hdpi __EoT__ on my HTC One S CM 12.1 when switching to front camera the icon changes as expected , but also it get 's smaller guess cause of the different image dimensions in hdpi ` quick_camera_rear.png ` is 36x36 whereas ` quick_camera_front.png ` is 54x54 _someone did n't use the cool svg to png script ... _
`` Our Signal safety numbers : '' string appears twice with some Share targets __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description With some Share targets , such as Twitter DMs , the
Feature Request : Please bring back the ability to share with more than top 5 groups __EoT__ I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description Ever since an update late last year , when you would share something from other apps to Signal it would only give you the option to select the 5 most recent group chats . # # # Steps to reproduce - In any other app , tap the share three-dot/less-than icon to share something ... a link , an image , audio ... - In the list of available apps , choose Signal - User is presented with entire list of individual Signal contacts , but only the last 5 recently used group chats **Actual result : ** Can only share with the 5 most recent group chats **Expected result : ** Ability to share with any and all group chats listed in chronological order # # # Screenshots ! [ signal-2018-02-16-175038 ] ( https :
Heap corruption ( and crash ) when image should be displayed in message list __EoT__ When viewing a conversation history with a user , and an image is visible in the listing ( or more accurately , when there should be an image visible ) then heap corruption occurs . Sony Xperia Z running PABX 's Android 4.4 build with GApps , ( build 3.2 ) . Example errors ( each from a different crash ) 11-08 22:31:24.878 : A/libc ( 13885 ) : Fatal signal 11 ( SIGSEGV ) at 0x75282000 ( code=1 ) , thread 13903 ( pool-1-thread-1 ) 11-08 22:39:48.720 : A/libc ( 20017 ) : Fatal signal 11 ( SIGSEGV ) at 0x737d5000 ( code=1 ) , thread 20048 ( pool-1-thread-1 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : heap corruption detected by dlmalloc 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 6 ( SIGABRT ) at 0x00005040 ( code=-6 ) , thread 20636 ( AsyncTask # 5 ) 11-08 22:41:58.737 : A/libc ( 20544 ) : Fatal signal 11 ( SIGSEGV ) at 0x7ede9000 ( code=1 ) , thread 20561 ( pool-1-thread-1 ) More complete content from LogCat : 11-08 22:41:58.597 :
Notify with a sound when call drops __EoT__ # # # Bug description When the call drops there is no sound and you maybe keep talking until figure it out the call dropped . A sound on call drop/end , as done in other call apps , would be very nice ! # # # Device info **Device : ** One Plus 3 /Nexus 5 **Android version : ** 6 **Signal version : ** last from today
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
RedPhone wake lock __EoT__ Tonight , my battery was drained by Signal : ! [ screenshot_20151107-105052 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015169/aec483b2-8553-11e5-92d5-9568f778d9bc.png ) ! [ screenshot_20151107-105104 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015165/93fb8184-8553-11e5-9ea0-ee4ec3506311.png ) ! [ screenshot_20151107-105137 ] ( https : //cloud.githubusercontent.com/assets/4339033/11015166/93fc98bc-8553-11e5-9fd4-6c46a73df59b.png ) Here 's the output for ` adb shell dumpsys batterystats org.thoughtcrime.securesms ` : ` Discharge step durations : # 0 : +2m9s405ms to 5 ( screen-on , power-save-off , device-idle-off ) # 1 : +1m24s531ms to 6 ( screen-on , power-save-off , device-idle-off ) # 2 : +3m6s473ms to 7 ( power-save-off , device-idle-off ) # 3 : +2m39s164ms to 8 ( power-save-off , device-idle-off ) # 4 : +3m14s315ms to 9 ( screen-off , power-save-off , device-idle-off ) # 5 : +2m53s732ms to 10 ( screen-off , power-save-off , device-idle-off ) # 6 : +3m3s139ms to 11 ( power-save-off , device-idle-off ) # 7 : +1h13m28s252ms to 12 ( power-save-off ) # 8 : +4m18s750ms to 13 ( screen-off , power-save-off , device-idle-off ) # 9 : +8m23s863ms to 14 ( screen-off , power-save-off , device-idle-off ) # 10 : +7m46s850ms to 15 ( screen-off , power-save-off , device-idle-off ) # 11 : +5m59s900ms to 16 ( screen-off ,
[ BUG ] [ CRASH ] Out of memory / JNI ERROR when sending picture via PUSH __EoT__ Hello When sending a picture via PUSH textsecure crashes when pressing send . After restarting textsecure the picture gets send though . System : Android 4.4.4 TextSecure 2.4.2 Galaxy S4 Mini Two things : I read something about MMS and my providers access points in the logs . Which makes me wonder because 1 ) I am sending via PUSH and 2 ) because I set 'never send MMS ' . Might be related to issue # 2377 . Here it crashes without touching the picture and just pressing send . Edit again : I see that this is most likely reported by issue # 2372 . > -- -- -- -- - beginning of /dev/log/main > D/Sensors ( 1814 ) : LightSensor readEvents x = 0.000000 , raw = 0 > D/Sensors ( 1814 ) : LightSensor readEvents x = 0.000000 , raw = 0 > D/Sensors ( 1814 ) : LightSensor readEvents x = 0.000000 , raw = 0 > D/Sensors ( 1814 ) : LightSensor readEvents x = 0.000000 , raw = 0 > D/Sensors ( 1814 ) :
'Verify safety numbers ' missing __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description I can not verify contacts anymore . Clicking the contact 's name , there is no item 'Verify safety numbers
Screen refresh issues on conversation deletion __EoT__ Phone : Nexus S OS : ICS 4.0.3 TextSecure version : < = 0.5.7 ( first OSS version ) When you go to delete conversation from the main TextSecure there is a small bug with the screen refresh If you have multiple conversations and you want to delete one of them the following happens -- -- pre delete -- -- - Conversation_1 Conversation_2 Conversation_3 -- -- pre delete -- -- - You go to delete Conversation_2 and get left with the following on the screen -- -- post delete -- -- - Conversation_1 Conversation_3 Conversation_3 -- -- post delete -- -- - This will stay this way until you change screens or close out of TextSecure and re-open . The lower of the two Conversation_3 's is not selectable . Similarly , if you have only one conversation , the screen will not refresh -- -- pre delete -- -- - Conversation_1 -- -- pre delete -- -- - You go to delete Conversation_2 and get left with the following on the screen -- -- post delete -- -- - Conversation_1 -- -- post delete -- -- - This conversation_1 is not selectable
Some images fail to send every time ( Like # 3028 ) __EoT__ I reported a similar issue in https : //github.com/WhisperSystems/TextSecure/issues/3028 , and it seemed to be fixed at first when I updated , but the issue is occurring again . I 'm a bit confused as to whether this should be fixed in 2.12 or 2.13 , so if it 's fixed in 2.13 , I 'll be happy to close ( and reopen if the issue persists ) . Can I test 2.13 without joining Google+ ?
Exponential backoff for vibrations __EoT__ I have : - [ x ] Searched open and closed issues for duplicates . # 3165 and # 5813 are related . - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description When a contact is rambling at you for say ~20 messages in short succession , the phone will vibrate every time . This is annoying . It looks like 3787551878473c703a21210aa24d39080ad57ad4 introduced a limit of once ever two seconds , but that will not help a lot when a contact keeps sending messages for a few minutes . When my phone vibrates , I have to make a decision : - Stop what I was doing and look at the message right now . - Continue what I was doing , remember that somebody sent me a message , and take a look when I have the time . Most of the time , I ’ ll opt for the second option . Then again , there are two cases : - After a few minutes I remember to take
ContactsDatabase IllegalStateException __EoT__ `` ` E/AndroidRuntime ( 3013 ) : FATAL EXCEPTION : ModernAsyncTask # 1 E/AndroidRuntime ( 3013 ) : Process : org.thoughtcrime.securesms , PID : 3013 E/AndroidRuntime ( 3013 ) : java.lang.RuntimeException : An error occured while executing doInBackground ( ) E/AndroidRuntime ( 3013 ) : at android.support.v4.a.q $ 3.done ( Unknown Source ) E/AndroidRuntime ( 3013 ) : at java.util.concurrent.FutureTask.finishCompletion ( FutureTask.java:355 ) E/AndroidRuntime ( 3013 ) : at java.util.concurrent.FutureTask.setException ( FutureTask.java:222 ) E/AndroidRuntime ( 3013 ) : at java.util.concurrent.FutureTask.run ( FutureTask.java:242 ) E/AndroidRuntime ( 3013 ) : at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) E/AndroidRuntime ( 3013 ) : at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) E/AndroidRuntime ( 3013 ) : at java.lang.Thread.run ( Thread.java:818 ) E/AndroidRuntime ( 3013 ) : Caused by : java.lang.IllegalStateException : Can not perform this operation because the connection pool has been closed . E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteConnectionPool.throwIfClosedLocked ( SQLiteConnectionPool.java:962 ) E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteConnectionPool.waitForConnection ( SQLiteConnectionPool.java:599 ) E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteConnectionPool.acquireConnection ( SQLiteConnectionPool.java:348 ) E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteSession.acquireConnection ( SQLiteSession.java:894 ) E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteSession.executeForCursorWindow ( SQLiteSession.java:834 ) E/AndroidRuntime ( 3013 ) : at android.database.sqlite.SQLiteQuery.fillWindow ( SQLiteQuery.java:62
Allow deleting conversations from the `` conversation item '' view __EoT__ When receiving an SMS , the `` conversation screen '' with the SMS has no `` delete '' option in menu . To delete the conversation , one has to go back to the Conversation List screen , long-press an item to enter Batch selection mode , and click the delete button . This is very cumbersome . There should be a delete option in the menu . The native Android messaging app provided by Google already has such an option .
Feature Request : Sync messages between devices __EoT__ Hi , It would be great that the mobile and desktop version contain the same messages , so that we can seemlessly go from one to another , for example that when we add a desktop client , it would ask to sync messages available on the mobile version . Also when both are connected at the same time that they could share a kind of `` message status '' so that they could keep in sync .
be able to configure as a default SMS app in KitKat __EoT__ currently Hangouts is the default SMS app , and I ca n't choose TextSecure as my default app : (
Suggestion : copying contact information from texts __EoT__ The app has the ability to copy contact info to send , but not to make/modify a contact from a received text .
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
Pixel Launcher round icon ( and make Android icon consistent with desktop and iOS ) __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The new Pixel Launcher on Google 's Pixel and Pixel
[ Feature Request ] Swipe images __EoT__ I noticed that in a conversation with several images ( or media files in general ) I have to click each one to view and then return to the conversation list to view the next . I think it would be more comfortable for the user to be able to swipe ( left/right ) between all media items sent in this conversation , similar to the Gallery app .
[ Feature Request ] Swipe images __EoT__ I noticed that in a conversation with several images ( or media files in general ) I have to click each one to view and then return to the conversation list to view the next . I think it would be more comfortable for the user to be able to swipe ( left/right ) between all media items sent in this conversation , similar to the Gallery app .
Dates are displayed in system locale regardless of language setting __EoT__ Currently all the dates and times are diplayed regarding the android system locale using ` DateUtils.formatDateTime ` . Sometimes its even mixed because the plurals ` hours_ago ` and ` minutes_ago ` are translated . My system language is set to german but I 'm using TextSecure in english : ! [ date ] ( https : //cloud.githubusercontent.com/assets/5296073/6651669/b28cf9aa-ca4d-11e4-80f6-5054b174ba25.png ) It would be more consistent if the dates are formatted regarding the textsecure language setting I guess .
Use inset dividers in conversations screen __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : https : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Feature Request Add inset dividers to the conversations view in order to improve/enhance the user experience . # # # Detailed
[ Feature Request ] Add Contact 's custom string to Signal app __EoT__ My contacts are organized by client , and the phone numbers listed as 'so & so 's cell ' . Is it possible to add the 'custom ' string under the Name of the Contact in Signal ? That way I can easily tell who I 'm chatting with . I do n't know a better way to organize lots of numbers with Google . It 's been rather clunky usually , but this way I can quickly find people .
Archive __EoT__ I see the option of deleting messages and limiting conversation limits in the settings , so I do n't know if the practice of regularly deleting messages is a practice in security . But I like to keep an archive of my messages , separate from my `` current '' messages . I think this is a pretty common feature in most messaging platforms . ! [ archive ] ( https : //f.cloud.github.com/assets/6936150/2405528/f7775dba-aa52-11e3-9d05-21b7848dfd60.png )
[ Bug ? ] Key changed events do not generate a notification __EoT__ I encountered this with a friend of mine who reflashed his phone and subsequently reregistered . I had an ongoing chat ( using his old key ) with him and noticed today that he had sent me a message yesterday and I had to accept the new key . But I did n't get notified about the new message in the notification bar I would expect Textsecure to generate notifications for all events including the key changed event , since this may lead to unnoticed messages , depending on usage pattern of course . If this behaviour is intentional , it would be great to know the rationale behind this . Anyways I want to thank you for your amazing work ! Steps to reproduce : 1 . User A and User B both register with Textsecure 2 . Both Users exchange a couple of messages 3 . User B reregisters with Textsecure changing his key 4 . User B send User A a Message 5 . No notification is shown on User A 's device Expected behaviour : User A should be notified of the incoming
Hardcoded string in compose subhint for SIM card __EoT__ < ! -- Please note this is a bug tracker , not a support forum . If you need support , please use http : //support.whispersystems.org/ or email support @ whispersystems.org Delete any sections that are n't relevant . -- > < ! -- mark with x between the [ ] -- > I have : - [ X ] searched open and closed issues for duplicates - [ X ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description While looking into # 5294 , I noticed that the subhint in ` ComposeText.java ` has a hardcoded string : `` ` setHint ( transport.getComposeHint ( ) , transport.getSimName ( ) .isPresent ( ) ? `` From `` + transport.getSimName ( ) .get ( ) : null ) ; `` ` This should be extracted to a string resource for localization . **Signal version : ** latest master , 24d103d , 3.13.0
Text in `` Verify identity '' screen gets cut off when system font size is set to maximum __EoT__ Hello , in TextSecure 2.9.3 , the text in the `` Verify identity '' screen gets cut off when the system font size is set to maximum . The text goes `` behind '' the blue bar at the top of the screen ( the blue bar which has the `` Verify identity '' and the barcode logo on it ) . Could you please fix it ? Regards
`` Send TextSecure Message '' inside enter button too long ( Google Keyboard ) __EoT__ With `` enter key sends '' enabled , the enter key of the google keyboard displays `` Send TextSecure message '' which looks really weird . I 'm not sure if we can fix this without changing the landscape send button.. ! [ screenshot_16-04-06 ] ( https : //cloud.githubusercontent.com/assets/5296073/8766241/f67afb3a-2e2f-11e5-9348-cf44101df45e.png ) Tested on a N4 with 5.1.1 and TS 2.23.0
Export backups to a sub-folder . __EoT__ Right now on my phone TextSecure exports the backup to the main folder on my sdcard . It would be nice if it was exported to a sub-folder , something like /sdcard/TextSecure/backup.xml or even have a setting to allow users to select the folder . The reason behind this request is that most `` backup '' apps do n't allow backing up a single file . Such apps as BtSync or the open source competitor to BtSync called SyncThing . They act kinda as dropbox but you host the servers and folders they backup to . I update my rom somewhat frequently and like to save my text messages .
Signal 4.2.x crashes when sending picture __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : https : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description I am running Signal in the Blackberry Android Runtime which equals ‘ Android Jelly Bean ’ . Since version
Adding per-contact notification preferences __EoT__ I 'm working to add functionality to TextSecure to allow customization of notifications ( ringtone , vibrate pattern , led color ) on a per-contact basis . I 've got two questions : 1 ) Is this a feature that you 'd be interested in including in mainline TextSecure , and 2 ) If so , would it be better to let android store the per-contact preferences in the usual preferences location or would it be better to add them to the IdentityDatabase ? Thanks !
Adding per-contact notification preferences __EoT__ I 'm working to add functionality to TextSecure to allow customization of notifications ( ringtone , vibrate pattern , led color ) on a per-contact basis . I 've got two questions : 1 ) Is this a feature that you 'd be interested in including in mainline TextSecure , and 2 ) If so , would it be better to let android store the per-contact preferences in the usual preferences location or would it be better to add them to the IdentityDatabase ? Thanks !
Adding per-contact notification preferences __EoT__ I 'm working to add functionality to TextSecure to allow customization of notifications ( ringtone , vibrate pattern , led color ) on a per-contact basis . I 've got two questions : 1 ) Is this a feature that you 'd be interested in including in mainline TextSecure , and 2 ) If so , would it be better to let android store the per-contact preferences in the usual preferences location or would it be better to add them to the IdentityDatabase ? Thanks !
MMSCs using proxies not working __EoT__ I do n't like MMS : / CM11 Trying to send with wifi enabled : `` ` -- -- -- -- - beginning of /dev/log/main W/ConversationActivity ( 18575 ) : onActivityResult called : 7 , -1 , null W/BitmapUtil ( 18575 ) : rough scale 2448x3264 = > 2448x3264 W/BitmapUtil ( 18575 ) : fine scale 2448x3264 = > 960.0x1280.0 W/ImageSlide ( 18575 ) : Got soft reference : null W/Slide ( 18575 ) : Loading Part URI : file : ///storage/sdcard0/DCIM/ts_1410424378919.jpg W/Slide ( 18575 ) : Loading Part URI : file : ///storage/sdcard0/DCIM/ts_1410424378919.jpg W/BitmapUtil ( 18575 ) : rough scale 2448x3264 = > 612x816 W/BitmapUtil ( 18575 ) : fine scale 612x816 = > 195.75x261.0 W/Session ( 18575 ) : Checking session ... W/Session ( 18575 ) : Checking session ... W/MmsCommunication ( 18575 ) : Getting MMSC params for apn null W/MmsCommunication ( 18575 ) : Android wo n't let us query the APN database . W/KeyCachingService ( 18575 ) : Incrementing activity count ... W/TelephonyUtil ( 18575 ) : Choosing MCC+MNC info from TelephonyManager.getSimOperator ( ) W/ApnDatabase ( 18575 ) : Querying table for MCC+MNC 26202 without APN name W/ApnDatabase (
Ca n't connect to textsecure push-service __EoT__ Hey , i tried to registrate @ WhisperPush after i used TextSecure but i cant register to WhisperPush , becuase after i recieve the SMS verification I get an error `` TextSecure cant connect to Push-Service '' , whats the prboblem Heres the log : 09-13 12:53:09.257 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.PreferenceActivity } from pid 16342 09-13 12:53:09.347 I/ActivityManager ( 624 ) : Start proc org.whispersystems.whisperpush for activity org.whispersystems.whisperpush/.ui.PreferenceActivity : pid=16435 uid=10058 gids= { 50058 , 3003 } 09-13 12:53:10.358 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:53:16.294 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:53:25.253 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:54:46.676 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:54:57.136 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationActivity } from pid 16435 09-13 12:55:01.290 I/ActivityManager ( 624 ) : START u0 { cmp=org.whispersystems.whisperpush/.ui.RegistrationProgressActivity ( has extras ) } from pid 16435 09-13 12:55:15.474 I/ActivityManager ( 624 ) : START u0
Conversation list visible when opening direct capture __EoT__ On my HTC One S CM 12.1 with https : //github.com/WhisperSystems/TextSecure/commit/d6d881b0cac20ecb5915cf094386aa44662e4ec6 the conversation list is visible in the place of the camera preview until the camera preview has loaded when I open direct capture or switch from/to 2nd camera or when the orientation changes or when coming back from screen lock with camera preview still open ( not when toggling from half to full screen camera ) Hard to screen-shoot this ... it 's like the convo itself only fills half ( or nothing on full screen camera ) the screen letting the previous activity sneak through ( popup-like ) .
Signal produces smaller Insecure MMS images than the competition __EoT__ A recent Signal convert is having issues with his images being overly compressed . He send me three reference images . # # # Screenshots Signal - Secure MMS - 811KB ! [ signal-2017-04-30-202731 ] ( https : //cloud.githubusercontent.com/assets/2918873/25571931/4e806570-2dea-11e7-81e9-de35c8149189.jpg ) Signal - Insecure MMS - 75KB ! [ download_20170430_204159 ] ( https : //cloud.githubusercontent.com/assets/2918873/25571936/5cbee382-2dea-11e7-92e0-feae1955e3ab.jpg ) Samsung default messenger - 495KB ! [ download_20170430_204148 ] ( https : //cloud.githubusercontent.com/assets/2918873/25571941/73736f6c-2dea-11e7-8562-1f5c0e7305fa.jpg ) # # # Device info **Device : ** Samsung Note 4 **Android version : ** 6.0.1 **Signal version : ** 4.3.2 # # # Link to debug log https : //gist.github.com/anonymous/0318dcc4ac285bb53dd3daea4e004df6
Swipe left to unarchive __EoT__ Playing around with the new archive feature , I found it highly unintuitive to unarchive using the same gesture as to archive . It appears more natural to swipe the opposite direction when unarchiving . Additionally the arrow to leave the archive points to the left , too . It appears suggestive . However , this might also be very well my own based perception . PS : I thought there was already an issue created for this idea , but I was unable to find it . Sorry , if this is indeed a duplicate .
Signal crashes after entering password when sharing from Google Photos __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description This seems to be related to # 3989 , # 4374 , # 4339 , which is marked as fixed in 3.3.0 . I think what is different in this case is that
App crashes when adding picture attachment __EoT__ App crashes when adding picture attachment ( audio works and video looks like it should work if it was n't such a small filesize limit ) .
messaged received while in muted thread not marked as read __EoT__ 1 ) start a new thread with A 2 ) send some messages back and forth 3 ) mute A 4 ) receive message from A while in thread with A 5 ) back out to conversation list 6 ) notice that conversation with A is shown as unread
`` Your signal version is outdated '' __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description Starting from today the Signal expiration banner is shown which tells me that signal will expire in 9 days , starting form today . This is due to the lack of updates in the PlayStore . # # # Steps to reproduce - start Signal - > blue banner is displayed at the top **Actual result : ** blue banner is displayed at the top **Expected result : ** Signal should be updated at the playstore , and should n't show the message if the most current version is used # # # Device info < ! -- replace the examples with your info -- > **Device : ** HTC One M8 **Android version : ** 6.0 **Signal version : ** 3.16.0
Attached jpeg files are n't correctly displayed ( orientation ) __EoT__ Using a samsung note 2 . I can test this on some other devices if you 'd like . I 'm not sure if it 's a problem that would show up in the MMS or not , but this image is n't correctly displayed . The orientation in the jpeg is n't being used correctly to display the image . I can send you the source jpeg if you 'd like . The screenshot does n't have the hue correctly , but that was just a problem with my screenshot application . ! [ image-not-correctly-rotated ] ( https : //f.cloud.github.com/assets/501773/1049957/b17903bc-10b1-11e3-80b5-5346da0b5aac.png ) Also attached is what happens when I use the default messaging app . ! [ default-app ] ( https : //f.cloud.github.com/assets/501773/1049985/54d9c2b2-10b2-11e3-938e-75eb5aaf1359.png )
Wording : 'SD Card ' vs. 'Storage ' __EoT__ The wording of several strings is inconsistent regarding the use of 'SD Card ' and 'Storage ' , although all of these strings refer to the very same thing ( as seen in the source code ) . I 'd like to do a small PR correcting that , but want to gather information first what term is prefered . **Some things to consider : ** - As far as I know , TextSecure is not able to access a 'real ' SD card when using KitKat or Lollipop . - The term 'SD card ' could be confusing to users with no SD card slot on their phone . The concept of a 'emulated SD card ' could be even more confusing to those users ( 'There are no power users ' ) . **Possible terms : ** - SD card - storage - device storage - external storage ( thx , @ 2-4601 ) - anything else ? I 'd appreciate your input !
Disappearing message notification disappears in group thread but not in contact thread __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports # # # Bug description When you change the disappearing message timer , a notification appears , but whether that notification hangs around depends on whether you 're in a group vs. contact thread . # # # Steps to reproduce # # # # Given I 'm in a group thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - In five seconds that info message is deleted . # # # # Given I 'm in a contact thread - When I enable the ( unreleased ) disappearing messages feature - And set the timer to 5 seconds - Then I see the `` You set disappearing message time to 5 seconds . '' - The info message never gets deleted . **Actual result : ** Contact thread `` You set disappearing message time '' info
TS 2.7.1 incompatible with Android 2.3.5 ? __EoT__ TS 2.5.3 running on Android 2.3.5 ca n't be updated to latest 2.7.1 from Play Store . Even if apk is downloaded from another phone ( CM 11 ) , it does n't install . Until 2.5.3 the update process worked fine . Other apps , even bigger in size do install . Bellow is log while updating via PlayStore . D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.requestInstall : Request install of org.thoughtcrime.securesms v=101 for single_install D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.kick : Installer kick - starting org.thoughtcrime.securesms D/Database ( 4601 ) : dbopen ( ) : path = /data/data/com.android.vending/databases/localappstate.db , mode : wal , disk free size : 635 M , handle : 0xb162a0 I/keystore ( 1271 ) : uid : 1000 action : e - > 7 state : 3 - > 3 retry : 4 D/Database ( 4601 ) : dbclose ( ) : path = /data/data/com.android.vending/databases/localappstate.db , handle = 0xb162a0 D/ActivityManager ( 1377 ) : destroyActivityLocked , r=HistoryRecord { 40aaa580 com.android.vending/com.google.android.finsky.activities.AppsPermissionsActivity } V/ActivityManager ( 1377 ) : destroyActivityLocked , dalvik.system.VMStack.getThreadStackTrace ( Native Method ) V/ActivityManager ( 1377 ) : destroyActivityLocked , java.lang.Thread.getStackTrace (
TS 2.7.1 incompatible with Android 2.3.5 ? __EoT__ TS 2.5.3 running on Android 2.3.5 ca n't be updated to latest 2.7.1 from Play Store . Even if apk is downloaded from another phone ( CM 11 ) , it does n't install . Until 2.5.3 the update process worked fine . Other apps , even bigger in size do install . Bellow is log while updating via PlayStore . D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.requestInstall : Request install of org.thoughtcrime.securesms v=101 for single_install D/Finsky ( 4601 ) : [ 1 ] InstallerImpl.kick : Installer kick - starting org.thoughtcrime.securesms D/Database ( 4601 ) : dbopen ( ) : path = /data/data/com.android.vending/databases/localappstate.db , mode : wal , disk free size : 635 M , handle : 0xb162a0 I/keystore ( 1271 ) : uid : 1000 action : e - > 7 state : 3 - > 3 retry : 4 D/Database ( 4601 ) : dbclose ( ) : path = /data/data/com.android.vending/databases/localappstate.db , handle = 0xb162a0 D/ActivityManager ( 1377 ) : destroyActivityLocked , r=HistoryRecord { 40aaa580 com.android.vending/com.google.android.finsky.activities.AppsPermissionsActivity } V/ActivityManager ( 1377 ) : destroyActivityLocked , dalvik.system.VMStack.getThreadStackTrace ( Native Method ) V/ActivityManager ( 1377 ) : destroyActivityLocked , java.lang.Thread.getStackTrace (
Yet another group chat problem __EoT__ Hello , in the past few days every time I try to send a message to a group chat I am told the message failed the sending ( which is n't true ) . Hence everyone is sending their messages twice , which as you can imagine is rather annoying .
Textsecure is sending Multiple messages __EoT__ I spent the last hour on the phone with my network and they said that it is showing 2 messages are being sent from my phone every time I send a text message . Help
Textsecure is sending Multiple messages __EoT__ I spent the last hour on the phone with my network and they said that it is showing 2 messages are being sent from my phone every time I send a text message . Help
Only push msg , no SMS fallback : why list non-TextSecure contacts ? __EoT__ When using TextSecure v2.0.1 with only push messages enabled ( no SMS fallback ) creating a new thread by clicking on the '+ ' sign , all contacts are displayed . Confirmed TextSecure contacts are displayed in a bold font . Non-TextSecure contacts are displayed with a regular font . As we do not have the SMS fallback enabled why does TextSecure even bother displaying non-TextSecure users . This is confusing . Please do not display non-TextSecure users if SMS fallback has been disabled . When SMS fallback has been enabled , please consider making the distinction between TextSecure and non-TextSecure user more distinctive . Bold vs Regular font is not distinctive enough . Use different background color for instance .
Panoramas suffer considerably from image compression __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers to get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues , not questions or comments . If you are looking for support , please see our support center instead : http : //support.whispersystems.org/ or email support @ whispersystems.org Let 's begin with a checklist : replace the empty checkboxes [ ] below with checked ones [ x ] accordingly -- > I have : - [ x ] searched open and closed issues for duplicates : `` panorama '' - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description Sending a Panorama does crop the size / compress it to an unviewable picture . neither thumbnail nor picture when u open/save has a correct quality . Funny thing is , that i
KitKat update : messages going to hangouts __EoT__ When I first installed the app , I had issues with messages going to the stock messaging app despite TextSecure being set as default . That issue stopped when I disabled the stock messaging app . Now with the KitKat update , messages are going to Hangouts instead of TextSecure . I really do n't want to have to disable Hangouts because I use hangouts . I see in the play store , this is a known issue . Has anyone come up with a workaround for it yet ?
Proximity sensor disabled in horizontal orientation during signal calls __EoT__ During signal call , if the phone is placed horizontally on it 's back ( i.e . flat on the desk with screen facing up ) , then the proximity sensor will not turn off the screen . If the screen was already off before reaching this position , it 'll remain off , and will be turned on while sensor clears , but if covered again , screen will not turn off . This causes accidental clicks if you call while laying on the couch for example . Original android dialer listens to the proximity sensor in all orientations , and I think this is the correct behavior to implement . Tested with several devices , Signal 3.6.1 . This may be one of the reasons for : # 4434 , if you prefer , I can close this and add this info there . ( also may be relevant : # 4519 and it 's PR : # 4522 )
per-recipient ringtone setting dialog does not represent setting state __EoT__ 1 ) start conversation with A 2 ) tap A in the top left corner 3 ) Ringtone > ` < whatever > ` 4 ) notice summary says ` < whatever > ` 5 ) tap Ringtone 6 ) notice dialog always defaults to nothing selected
[ Feature ] Convert known phone numbers in text body into contact names __EoT__ Splitting this out from @ brwolfgang 's # 2582 request for clickable phone numbers . > It also would be nice if TS would identify the number in text body using my local contacts list and instead of showing the unrecognizable sequence of numbers it showed a ( clickable ) contact name . > > A SMS example : Você recebeu ligações de : 04111123451234 16:59hs > A processed SMS example : Você recebeu ligações de : : Dad 16:59hs ~~Blocked on # 2582.~~
[ KitKat ] Attempt to retreive MMS causes TextSecure to crash __EoT__ If you open a thread containing an MMS that is yet to be retrieved from the carrier ( T-Mobile USA , in my case ) , TextSecure crashes . Stack trace using Nexus 5 on KitKat : `` ` E/DatabaseUtils ( 989 ) : Writing exception to parcel E/DatabaseUtils ( 989 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforce ( ContextImpl.java:1685 ) E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforceCallingOrSelfPermission ( ContextImpl.java:1714 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.checkPermission ( TelephonyProvider.java:735 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.query ( TelephonyProvider.java:462 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider.query ( ContentProvider.java:855 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider $ Transport.query ( ContentProvider.java:200 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProviderNative.onTransact ( ContentProviderNative.java:112 ) E/DatabaseUtils ( 989 ) : at android.os.Binder.execTransact ( Binder.java:404 ) E/DatabaseUtils ( 989 ) : at dalvik.system.NativeStart.run ( Native Method ) W/MmsCommunication ( 13159 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . W/MmsCommunication
[ KitKat ] Attempt to retreive MMS causes TextSecure to crash __EoT__ If you open a thread containing an MMS that is yet to be retrieved from the carrier ( T-Mobile USA , in my case ) , TextSecure crashes . Stack trace using Nexus 5 on KitKat : `` ` E/DatabaseUtils ( 989 ) : Writing exception to parcel E/DatabaseUtils ( 989 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforce ( ContextImpl.java:1685 ) E/DatabaseUtils ( 989 ) : at android.app.ContextImpl.enforceCallingOrSelfPermission ( ContextImpl.java:1714 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.checkPermission ( TelephonyProvider.java:735 ) E/DatabaseUtils ( 989 ) : at com.android.providers.telephony.TelephonyProvider.query ( TelephonyProvider.java:462 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider.query ( ContentProvider.java:855 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProvider $ Transport.query ( ContentProvider.java:200 ) E/DatabaseUtils ( 989 ) : at android.content.ContentProviderNative.onTransact ( ContentProviderNative.java:112 ) E/DatabaseUtils ( 989 ) : at android.os.Binder.execTransact ( Binder.java:404 ) E/DatabaseUtils ( 989 ) : at dalvik.system.NativeStart.run ( Native Method ) W/MmsCommunication ( 13159 ) : java.lang.SecurityException : No permission to write APN settings : Neither user 10102 nor current process has android.permission.WRITE_APN_SETTINGS . W/MmsCommunication
swipe to delete messages __EoT__ Need a feature to delete messages by swiping
Notification can show incorrect message receipt time __EoT__ If I have a notification for two ( or more ) messages from different senders , the notification correctly displays the time of the most recent message . However , if I read this second message without reading the first one , the notification time is updated to the time that I _read_ the second message , rather than the receipt time of the first message .
testGetItemIdEquals FAILED __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description The build process stops with errors . A similar issue was fixed here : # 6088 # # # Steps to reproduce - Fetch the latest source from github - ./gradlew build **Actual result : ** The build process stops due to errors . **Expected result : ** The build process should finish fine . # # # Debug : > org.thoughtcrime.securesms.ConversationAdapterTest > testGetItemIdEquals FAILED java.lang.NullPointerException at ConversationAdapterTest.java:29 23 tests completed , 1 failed : testDebugUnitTest FAILED
different notification settings for group chats __EoT__ It would be very nice to be able to change the notification settings for goups independently from other ( personal ) chats , as group chats might have a lower priority for the user .
`` Archived '' and outgoing picture bug in conversation list __EoT__ Signal 3.6.0 . Screen is about 4.3 '' . 1 . I have a conversation where the last two messages are outgoing pictures ; 2 . I archived it ; 3 . When I go to the archived conversations , the label `` archived '' covers a small part of the picture 's preview .
Ca n't resend message despite being notified the message could n't be delivered __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description SOmetimes after sending a group message I get messages undelivered , even though they do n't show the resend capability . Not really sure if it 's a sending error or just lack of processing received messages . # # # Steps to reproduce -Send message to group . **Actual result : ** Message says is was n't delivered , but I ca n't resend message **Expected result : ** can resend undelivered message . # # # Screenshots ! [ 20170904_170504 ] ( https : //user-images.githubusercontent.com/4967949/30039886-66495636-9194-11e7-9c53-a66b9cff81a5.png ) # # # Device info **Device : ** Samsung galaxy s8 stock rom **Android version : ** 7.0 **Signal version : ** 4.9.9 # # # Link to debug log https : //gist.github.com/537972abcf37d7ed356eeaa41cbd65f0
better highlight conversations with failed messages __EoT__ When sending a message fails , the current behaviour is that you get a notification about the failure . I think it would be better to also display something like a red triangle in the conversations list , mostly because : -you may swipe the notification without taking care of resending the message right away -several messages may fail to send if you temporarily lose your connection , and clicking every notification seems cumbersome to me -it would just make sense for the sake of clarity And maybe move the failed messages to the top of the conversations list ( ? ) Thank you
better highlight conversations with failed messages __EoT__ When sending a message fails , the current behaviour is that you get a notification about the failure . I think it would be better to also display something like a red triangle in the conversations list , mostly because : -you may swipe the notification without taking care of resending the message right away -several messages may fail to send if you temporarily lose your connection , and clicking every notification seems cumbersome to me -it would just make sense for the sake of clarity And maybe move the failed messages to the top of the conversations list ( ? ) Thank you
Long-pressing the search icon does n't display icon description __EoT__ < ! -- This is a bug report template . By following the instructions below and filling out the sections with your information , you will help the developers get all the necessary data to fix your issue . You can also preview your report before submitting it . You may remove sections that are n't relevant to your particular case . Before we begin , please note that this tracker is only for issues . It is not for questions , comments , or feature requests . If you would like to discuss a new feature or submit suggestions , please visit the community forum : https : //community.signalusers.org If you are looking for support , please visit our support center : https : //support.signal.org/ or email support @ signal.org Let 's begin with a checklist : Replace the empty checkboxes [ ] below with checked ones [ x ] accordingly . -- > - [ x ] I have searched open and closed issues for duplicates - [ x ] I am submitting a bug report for existing functionality that does not work as intended - [ x
Glide Crash __EoT__ `` ` java.lang.IllegalArgumentException : You can not start a load for a destroyed activity at com.bumptech.glide.manager.RequestManagerRetriever.assertNotDestroyed ( RequestManagerRetriever.java:133 ) at com.bumptech.glide.manager.RequestManagerRetriever.get ( RequestManagerRetriever.java:101 ) at com.bumptech.glide.manager.RequestManagerRetriever.get ( RequestManagerRetriever.java:86 ) at com.bumptech.glide.Glide.with ( Glide.java:609 ) at org.thoughtcrime.securesms.components.ThumbnailView.buildEncryptedPartGlideRequest ( ThumbnailView.java:114 ) at org.thoughtcrime.securesms.components.ThumbnailView.buildThumbnailGlideRequest ( ThumbnailView.java:99 ) at org.thoughtcrime.securesms.components.ThumbnailView.buildGlideRequest ( ThumbnailView.java:80 ) at org.thoughtcrime.securesms.components.ThumbnailView.setImageResource ( ThumbnailView.java:60 ) at org.thoughtcrime.securesms.components.ThumbnailView $ SlideDeckListener $ 1.run ( ThumbnailView.java:140 ) at android.os.Handler.handleCallback ( Handler.java:739 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5260 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:903 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:698 ) `` `
Adaptive icons do not work . __EoT__ Tested on a Pixel XL with Android 8.1 https : //github.com/signalapp/Signal-Android/issues/6511 should be reopened .
Adaptive icons do not work . __EoT__ Tested on a Pixel XL with Android 8.1 https : //github.com/signalapp/Signal-Android/issues/6511 should be reopened .
Adaptive icons do not work . __EoT__ Tested on a Pixel XL with Android 8.1 https : //github.com/signalapp/Signal-Android/issues/6511 should be reopened .
Add trust level indicator to conversation screen __EoT__ In # 766 @ lindworm suggested adding display of trust level with the other party to the conversation screen . This requires a separate issue from the aforementioned ticket . There were different suggestions as to how this should be done . - @ lindworm suggested coloring the lock icon in the top bar ( green = manually verified , black/yellow = unverified/automatic key exchange/ , red = unencrypted ) . - I suggested overlaying the other party 's avatar with an icon instead . Icon indicates they 're a manually verified contact . No icons means they 're not . Specifically I also suggested not mixing the information of whether a conversation is encrypted or not with the information of how well the other party is trusted , into one icon . Least not by color . There are color vision impaired users and this information , if displayed at all , needs to be unambiguous .
GIF does n't play when sent/share from gallery __EoT__ When I send/share a gif from gallery . Signal does n't autoplay the gif ( in preview ) and also ca n't play the file when clicking on it . When i share picture as attachment out of signal . Both is working . https : //gist.github.com/6aef141e8aeb35eadf5f
Helium backup is not allowing backups of Signal - no backup possible __EoT__ Helium Backup is not allowing backups of Signal . I assume this is because of the lack of a BackupAgent implementation . The error message I get from Helium is : `` ` Backup Disallowed -- -- -- -- -- -- -- -- -- -- -- -- Signal has disallowed backup of application data . Please leave a comment with the developer of Signal and ask them to allow application data backup . `` ` As far as I can tell , there currently exists no way to backup the Signal text and MMS database . ! [ screenshot_2015-11-17-13-07-19 1 ] ( https : //cloud.githubusercontent.com/assets/181781/11225282/2f8cb1d6-8d2e-11e5-9b83-84a650fe9d31.png )
GIF animation quirks __EoT__ Noticed on https : //github.com/mcginty/TextSecure/commit/35d003a1bb978bb28f5ad999806365c67b2c686d ( # 4589 ) GIFs shared with forwarding or from outside Signal do n't move in the thumbnail or convo list preview , though the draft preview does move as well as it does in the image view some repro steps : in app attach : - attach animated image gif - see it move in draft - send - see it move in thumbnail - see it move in convo list - see it move in image viewer - see all moving on receiver side forward _moving preview_ gif - forward message to self ( or other convo ) - see draft moving - send - see STILL of gif in thumbnail - see STILL of gif in convo list - see it move in image viewer - see SAME behavior on receiver side share to signal : - choose your favorite gallery app - pick animated gif - share to signal - pick contact or group - see draft moving - send - see STILL of gif in thumbnail ( or in one case just blackness instead of thumb ) - see STILL of gif in convo list (
Group messages that are only sent to some of the members may be sent multiple times to all users when attempting to resend . __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description I have a large group chat of Signal users ( 12 ) , and when a message is sent to some , but not all of the members , ( likely due to intermittent internet connectivity ) that message may be spammed when the user attempts to resend the message by clicking on it for details , then manually clicking `` Resend '' to each member , to all members , the number of times the `` Resend '' button was clicked , plus one if they received the message the first time . # # # Steps to reproduce - Take a group message that failed to send to some users , but not all users . - Click `` Resend '' on all of the users it failed to send to the first time . - For every time the `` Resend '' button
Group messages that are only sent to some of the members may be sent multiple times to all users when attempting to resend . __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- - # # # Bug description I have a large group chat of Signal users ( 12 ) , and when a message is sent to some , but not all of the members , ( likely due to intermittent internet connectivity ) that message may be spammed when the user attempts to resend the message by clicking on it for details , then manually clicking `` Resend '' to each member , to all members , the number of times the `` Resend '' button was clicked , plus one if they received the message the first time . # # # Steps to reproduce - Take a group message that failed to send to some users , but not all users . - Click `` Resend '' on all of the users it failed to send to the first time . - For every time the `` Resend '' button
Upgrade material-dialogs __EoT__ The current master fails to compile because material-dialogs can not be fetched from maven ( they removed that version ) FAILURE : Build failed with an exception . - What went wrong : A problem occurred configuring root project 'TextSecure ' . > Failed to notify project evaluation listener . > Could not find material-dialogs.aar ( com.afollestad : material-dialogs:0.7.3.1 ) . > Searched in the following locations : > https : //jcenter.bintray.com/com/afollestad/material-dialogs/0.7.3.1/material-dialogs-0.7.3.1.aar > Could not find material-dialogs.aar ( com.afollestad : material-dialogs:0.7.3.1 ) . > Searched in the following locations : > https : //jcenter.bintray.com/com/afollestad/material-dialogs/0.7.3.1/material-dialogs-0.7.3.1.aar - Try : Run with -- stacktrace option to get the stack trace . Run with -- info or -- debug option to get more log output . BUILD FAILED
Sending mssages to this specific contact almost always crashes textsecure __EoT__ I have a conversation with this friend of mine that recently has been causing a lot of problems . ( This happened on 2.24 too , so it should n't be 2.25-related ) So basically : 1 . I type a message 2 . Hit send 3 . Wait ... 4 . Sometimes the message bubble appears , sometimes it crashes before it does 5 . I reopen ts , unlock it , go to the conversation and the message bubble is there . The message is also correctly marked as send and delivered debug log : https : //gist.github.com/a3061a1f4b7edfcfdcab
crash bug on avatar update ( file not found ) __EoT__ I was trying to reproduce # 3084 when I ran into another crash bug related to images synced with google drive , similar to # 3042 . 1 ) create a group 2 ) update the group avatar with a picture synced to google drive 3 ) crash using images synced to google drive , @ mcginty was unable to reproduce the behavior I experienced in # 3042 , the stack traces showed that it was a FileNotFoundException so we concluded it was not a problem with google drive images specifically but poor handing file not found situations which arose from some google drive sync weirdness . I expect that this is again the case here , ie root cause is some file not found situation . log from 2.12.0 play store release , ( presumably ) from 28232fc2a5f8ac8ba11283ca9992f1052467d28b : https : //gist.github.com/anonymous/4e420a8581fe3a13ac3c logs from my own debug build , built from d0008b57b5f4b825561a0c4eab14151ab6771f3e with the ` build.gradle ` from # 3072 : https : //gist.github.com/anonymous/8badb51fb3df0e253c33 https : //gist.github.com/anonymous/b87da4d69c3b8a96d74a
Contacts are shown double when inviting friends __EoT__ # # # Bug description When I use the menu option to invite friends , some contacts are listed double . One instance is shown with a space between the international accessnumber and one is shown without the space . I do not have both number formats in my contact list . e.g . : Random Friend +31 123456789 Mobile Random Friend +31123456789 Mobile # # # Device info **Device : ** Wiko Rainbow Jam **Android version : ** 5.1 **Signal version : ** 3.26.2
Blank screen when calling , call fails __EoT__ The upper part of the screen shows the call info , but the 80 % lower part of the screen is blank white and there is no error message , nor audio from the phone , and no way to hang the call . Logs here https : //gist.github.com/b442f6347f0fa82f3b5b
Unlock Screen Theme __EoT__ ~~do n't bother posting issues here , they wo n't get fixed.. mods do n't care~~ : see_no_evil : something about the theme of the unlock screen .
Tone to indicate call has ended __EoT__ I have : - [ x ] searched open and closed issues for duplicates - [ x ] read https : //github.com/WhisperSystems/Signal-Android/wiki/Submitting-useful-bug-reports -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- There is no tone or indicator when a call ends . Under the stock Android dialer , there is a tone to signal that the call has ended . I think it would be beneficial to have a tone to indicate the call has ended similar to the one that dings when the call is connected . # # # Device info **Device : ** Samsung Galaxy S5 **Android version : ** 6.0.1 **Signal version : ** 3.21.3
forward message to contact for which you have no existing conversation , broken . __EoT__ 1. open some conversation 2. select some text message in that conversation 3. click `` Forward message '' 4. select a contact for which you do n't have an existing conversation 5. action bar updates as expected but conversation view still shows messages from original thread
Button rendering colors inconsistent __EoT__ There is a pretty wild **mixture of blue & turquois** ( Android 's standard color ? ) regarding the **button text color** in Signal 's dialogs and the color of switches . One of many examples would be _Settings > > Appearance > > Theme_ uses blue , vs. _Settings > > Advanced > > Signal messages and calls_ uses turquois . **Some example info regarding the exact colors used ( provided by @ unrulygnu ) : ** _Settings > > Appearance > > Theme : _ CANCEL button render color : 1c7ac5 ** [ i. e. blue ] ** _Settings > > Advanced > > Signal messages and calls : _ Switch render color : 1b78c1 ** [ i. e. some other blue ] ** CANCEL / OK buttons render color : 80cbc4 ** [ i. e. turquois ] ** **I suggest changing all of those consistently to Signal-blue ( whatever that is - $ 1c7ac5 or $ 1b78c1 ) . ** Edit : I 've noticed that some of these ( e. g. the CANCEL/OK buttons of Settings > > Advanced > > Signal messages and calls ) only occur when using the
Quick capture preview quirky after 1st init in convo __EoT__ Maybe one finds a better title for that - enter any convo - Open quick capture - see blackness for about 1 sec ( way to long : stuck_out_tongue : ) - then the image preview - followed by a short focusing action - close QC Now the funky ( issue ) part - Open qc again - see the previous preview shortly - followed by a resize of the preview - immediately followed by the correct preview And the side effect : While the previous preview is shown , the shutter icon is n't working ( it blinks on taping , but does n't capture ) . Whereas when in first ( black preview ) init it seems an immediate tap on the shutter always captures as soon as the preview is up . Seen with 3.5.0 on Z1c 5.1.1 3.5.0 black draft fix on HTC One S CM 12.1
Quick capture preview quirky after 1st init in convo __EoT__ Maybe one finds a better title for that - enter any convo - Open quick capture - see blackness for about 1 sec ( way to long : stuck_out_tongue : ) - then the image preview - followed by a short focusing action - close QC Now the funky ( issue ) part - Open qc again - see the previous preview shortly - followed by a resize of the preview - immediately followed by the correct preview And the side effect : While the previous preview is shown , the shutter icon is n't working ( it blinks on taping , but does n't capture ) . Whereas when in first ( black preview ) init it seems an immediate tap on the shutter always captures as soon as the preview is up . Seen with 3.5.0 on Z1c 5.1.1 3.5.0 black draft fix on HTC One S CM 12.1
Notifications miss a category for Android 5.0 `` Silent mode '' __EoT__ Adding the MESSAGE category to notifications would allow TextSecure 's notification as messages and even show up in silent mode if the user configured it to do so ( settings - > sounds & notifications - > interuptions ) . Details are in the closed PR # 2155 . To implement it , the support library has to be upgraded to v21 first .
Photo of contact shown in the notification could be bigger __EoT__ When receiving a new message , the size of the contact 's photo displayed in the notification seems to be too small . There are large borders around it , see picture . ( Phone is a Nexus 5 ) ! [ screenshot_2014-04-16-12-11-03 ] ( https : //cloud.githubusercontent.com/assets/4053928/2728163/5c8a6d98-c5ea-11e3-84e9-84823e2fa6c7.png )
Signal crashes on call screen __EoT__ Signal sometimes crashes when making a call or when receiving incoming calls . Happened a few times just now , but I have n't seen this before , so I assume it is a regression in 3.10.0 or 3.11.0 . Maybe # 4971 ? This is all I have so far : `` ` E/AndroidRuntime : FATAL EXCEPTION : main Process : org.thoughtcrime.securesms , PID : 21218 java.lang.NullPointerException : Attempt to invoke virtual method 'java.lang.String android.net.Uri.toString ( ) ' on a null object reference at com.bumptech.glide.load.data.LocalUriFetcher.getId ( LocalUriFetcher.java:69 ) at com.bumptech.glide.load.model.ImageVideoModelLoader $ ImageVideoFetcher.getId ( ImageVideoModelLoader.java:111 ) at com.bumptech.glide.load.engine.Engine.load ( Engine.java:148 ) at com.bumptech.glide.request.GenericRequest.onSizeReady ( GenericRequest.java:449 ) at com.bumptech.glide.request.RequestFutureTarget.getSize ( RequestFutureTarget.java:116 ) at com.bumptech.glide.request.GenericRequest.begin ( GenericRequest.java:272 ) at com.bumptech.glide.manager.RequestTracker.runRequest ( RequestTracker.java:37 ) at com.bumptech.glide.GenericRequestBuilder.into ( GenericRequestBuilder.java:661 ) at com.bumptech.glide.GenericRequestBuilder $ 1.run ( GenericRequestBuilder.java:722 ) at android.os.Handler.handleCallback ( Handler.java:739 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5294 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:904 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:699 ) `` `
Barcode Scanner 's camera view temporarily messes up with translations __EoT__ 1 . System language : English ( US ) , TextSecure language : Japanese ( or any translated language ) 2 . Go to a conversation 3 . Tap identity verification from the lock icon 4 . Choose to scan a code 5 . After Barcode Scanner has opened , go back ( do n't have to scan anything ) 6 . Note that the title of this view has changed to English ( also the overlay text from Barcode Scanner is in English `` No scanned key found '' ) 7 . Go back to conversation view 8 . All the menus are in English and also the text box tl ; dr : just watch this .gif : ! [ screenrecord2 ] ( https : //cloud.githubusercontent.com/assets/174176/6995078/0b15ae26-db3a-11e4-8d38-95ed2265bb1d.gif ) If the system language is set to non-English there is no issue . Also Barcode Scanner 's QR code view does not cause this – only the camera . Tested with : Android 5.0.1 and 4.0.4 ; TextSecure 2.10.1 ( first time I run into this was in 2.6 or earlier )
Missing languages in selection and strings-import __EoT__ Did a quick check and at least the following are ( mostly ) translated in transifex but not imported - Serbian ( sr ) see also # 2008 - Croatian ( hr ) - Serbian Latin ( sr @ latin ? )
Feature Request : Only one notification for multiple messages received at once + Timestamps __EoT__ After being offline ( flight mode / no internet connection ) my device rings/vibrates multiple times , depending on how many messages have been sent by others in the meantime . Being in a quite active group my device vibrated for about 30 seconds this morning . I can see the point of being notified that not only one but multiple messages have been received but this should be reworked to a less annoying way ( e.g. , ring twice for multiple messages ) . Additionally , all messages that get then received are displayed with their receiving time . I would prefer having them displayed with the sending time , which can also be seen by looking in the message details . Maybe a menu entry to switch between both options would be a good idea because I can imagine people who like it the way it is handled now .
This one weird trick , the devs do n't want you to know , crashes recipients ' TS __EoT__ ( Could n't resist with the title : ( · ) There seems to be no size checking on group name . 1 . Update a group 's name with _A Modest Proposal_ by _Jonathan Swift_ ( Try the _Plain Text UTF-8_ option from [ Project Gutenberg ] ( https : //www.gutenberg.org/ebooks/1080 ) . Direct links do n't work . ) 2 . After tapping the checkmark to broadcast the update **the other group members ' TS will crash** If you strip the Gutenberg metadata ( introduction , license etc . ) and just paste the actual text it wo n't crash . So the sweet spot is somewhere between 20-40KB . In any case it 's still a big wall of text that should n't be . ! [ a modest proposal-jonathan swift ] ( https : //cloud.githubusercontent.com/assets/174176/8141636/b5a2ce1e-1172-11e5-8f6a-1e2e6ae356c1.png ) - TS 2.17.0 - Nexus 4 , stock Android 5.1.1 - Huawei U8800 , Android 4.0.4 Debug log : https : //gist.github.com/152ae1566c6c3d245ab0 `` ` E/AndroidRuntime ( 4560 ) : FATAL EXCEPTION : Thread-530 E/AndroidRuntime ( 4560 ) : Process : org.thoughtcrime.securesms
SMS from non-numeric senders goto Anonymous __EoT__ Still all SMS from senders that use non-numeric sender IDs go to the Anonymous thread . ( e.g . SMS from cellphoneproviders or banks or delivery services ) . They ca n't be distinguished in there , because their real sender ID is omitted . That makes TextSecure unusable as an default SMS App replacement imho . I know this is a dupe of # 665 , but there is a fix for that ( i.e . # 693 ) and it wo n't get merged to the master branch , while minor fixes get pushed through . Please consider taking this fix into the next release version .
Use localized time format in message details __EoT__ In Germany we use without exception the 24h format . This is also configured in Android 's localization settings . However , when opening the details of a message ( long press - > message details ) sent at , day 15:23 , it comes up as `` 3:23 nachm . '' which makes absolutely no sense in German .
Can ’ t send SMS to phone numbers with brackets after upgrade to 3.3+ __EoT__ Messages ( SMS , not MMS , not data ) appear to be sent successfully in the UI but are never received by the contact after upgrading to any version later than 3.1.1 . Messages from other contacts are still received , only sending is broken . Manually downgrading to 3.1.1 apk restores SMS sending functionality . Other SMS apps continue to work . Latest 3.6.1 release from Play Store is still broken . Disabling Signal messages in Advanced prefs does not fix the problem . Uninstalling and reinstalling does not fix the problem . Device info : Samsung Galaxy S5 Dev Ed , stock Android 4.4.4 , Signal 3.6.1 App state : Push registered , SMS Enabled , SMS deliver disabled , Wi-Fi Calling compatibility disabled ( phone is not Wi-Fi Calling enabled ) , MMS Default settings , Media auto-download disabled Log , starting Signal & sending SMS : https : //gist.github.com/csnover/dd39624d381160536798 This may be related to the shortcode sending problem reported around the same time but I am _not_ sending to shortcode contacts , these are full 10-digit ( US ) numbers
Change notifications string `` Content hidden '' with `` New Message ! '' when neither name and message are displayed __EoT__ If notifications are enabled & & ( display is not set to show Name and message ) then - Replace `` New TextSecure Message '' with `` TextSecure '' - Replace `` Contents hidden '' with `` New Message ! ''
Wrong Chinese language entry __EoT__ The current entry for Chinese when selecting languages in Settings is `` 中国的 '' which means `` China 's '' ( possessive ) . A better entry would be `` Chinese ( Simplified ) 中文 ( 简体 ) '' , which does mean what it says ( a peek at Transifex shows that the Chinese ( Traditional ) 中文 ( 繁體 ) translation is coming soon ) .
add + to blank avatar to clarify that you can add to contacts __EoT__ After setting up a couple of people with TextSecure , we were all stumped that TextSecure did not have a way to add a new phone number to a Contact . We tried everything we can think of and no luck . So I decided to file a bug report , and found # 822 then explored a bit more , and found that you can add an unknown number as a contact by clicking the blank avatar icon . This was not intuitive but I think it can be greatly improved by a simple fix : add a + to the blank avatar icon if clicking it will trigger the `` add to contacts '' sequence .
CrashBrowser : EmojiPageFragment NPE __EoT__ Happening in production on the 2.16.2 staged rollout : `` ` java.lang.RuntimeException : Unable to start activity ComponentInfo { org.thoughtcrime.securesms/org.thoughtcrime.securesms.ConversationActivity } : java.lang.NullPointerException at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2212 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2271 ) at android.app.ActivityThread.access $ 800 ( ActivityThread.java:144 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1205 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:136 ) at android.app.ActivityThread.main ( ActivityThread.java:5146 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:515 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:732 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:566 ) at dalvik.system.NativeStart.main ( Native Method ) Caused by : java.lang.NullPointerException at org.thoughtcrime.securesms.components.emoji.EmojiPageFragment $ EmojiGridAdapter.getCount ( EmojiPageFragment.java:79 ) at android.widget.GridView.setAdapter ( GridView.java:186 ) at org.thoughtcrime.securesms.components.emoji.EmojiPageFragment.onCreateView ( EmojiPageFragment.java:54 ) at android.support.v4.app.Fragment.performCreateView ( Fragment.java:1789 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:955 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1138 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1120 ) at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated ( FragmentManager.java:1929 ) at android.support.v4.app.FragmentActivity.onStart ( FragmentActivity.java:547 ) at android.app.Instrumentation.callActivityOnStart ( Instrumentation.java:1171 ) at android.app.Activity.performStart ( Activity.java:5241 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2178 ) ... 11 more `` `
Feature Request : Notification options per contact __EoT__ I know this is a bit above and beyond the typical SMS functionality , and I totally understand if this gets dropped to the bottom of the list , but I do find I often need to find out about some SMSs far more urgently than others -- in my case , I have a critical server that tells me when it 's down : I 'd like that one to scream loudly at me even if I 'm sleeping deeply . Some unknown number texting me about a dream vacation that I have won I am quite happy to sleep thru . : ) Awesome work regardless , team ! R
Adhere to Material Design grid specs __EoT__ Hi , I 'm new to Signal , love how easy it is to use , but I did find a few ( Material Design ) related issues that cause twitching of the eyes and other OCD-y things . Pretty much all of it has to do with alignment of elements , spacing between them , etc . I realize that I may sound like I 'm an a**hole but a ) english it not my native tongue so finding the right words is sometimes difficult and b ) I actually care and think these issues should n't be too hard to fix and it really does make sense to adhere to Android 's design specs , if only for consistency between apps . Anyway , on to the issues at hand . I used the app Keyline Pushing ( available in Play Store ) to overlay Material Design grids and , from the looks of it , I think Signal uses a metric grid system ( 10 ) instead of 8x8 . See this page for basic Material Design metrics and keylines : https : //material.io/guidelines/layout/metrics-keylines.html # # # Conversations overview *
The new password screen in incorrect __EoT__ - [ x ] I have searched open and closed issues for duplicates - [ x ] I am submitting a bug report for existing functionality that does not work as intended - [ x ] I have read https : //github.com/signalapp/Signal-Android/wiki/Submitting-useful-bug-reports - [ x ] This is n't a feature request or a discussion topic -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- # # # Bug description I use a password to unlock Signal and I did n't change it since the default functinality was changed to use the standard Android unlock mechanism ( code , pattern or biometry ) . This still works but since 4.25.0 Signal seems to assume that `` unlock '' means `` fingerprint scanner '' . I do n't even have a fingerprint scanner on this device and if I had I would not use it for security reasons . # # # Screenshots ! [ signal_20180814-164233 ] ( https : //user-images.githubusercontent.com/8427572/44098973-15ef0414-9fd1-11e8-984c-291a31a7cc1c.jpg ) # # # Device info < ! -- replace the examples with your info -- > **Device : ** Sony Z3
UI issues with message composition in portrait & landscape __EoT__ ( See https : //github.com/WhisperSystems/Signal-Android/pull/4755 for initial discussion ) **Issues in portrait & landscape : ** - The current compose hint is `` Send Signal message '' ( or `` Send unsecured SMS '' , `` Send unsecured MMS '' ) , which does n't make much sense . After tapping on the compose field , the user types the message and does n't send it . **Issues in landscape : ** - Same problem as in portrait with the compose hint - Additionally , the Send button uses the very same strings as the compose hint ( here it makes sense ) . But these rather long strings make that button very wide , taking far too much screen estate , i. e. leaving not much room for the actual message content . **Suggested solution : ** - Separate the compose hint strings from the button text strings - Use appropriate wording in the compose hint strings - Wrap the button text strings into 3 lines , so the button gets horizontally smaller and vertically larger , leading to more screen estate for the message content on the left
Websocket support __EoT__ As # 127 is a little overloaded and goes beyond the technical , I thought to open up this issue to gather implementation details and coordinate efforts for this . Support for WebSockets is already present on the server , so the idea is to use WebSockets on Android as well ( for now instead of a possible more suited protocol like MQTT ) @ geileszeuch mentioned a guide on how to use websockets in native apps : http : //www.elabs.se/blog/66-using-websockets-in-native-ios-and-android-apps However I do n't think this would be a good guide as it does n't talk about Wake/Sleep and connection loss . This article list several issues one has to deal with in a mobile enviroment : http : //dalelane.co.uk/blog/ ? p=1599 I believe the approach mentioned here http : //stackoverflow.com/a/16602970 to be reasonable , if I find the time I will give it a try . I guess for developing this one has to run an own server , as WS is disabled per default . So please , if you have a question , concern or are already working on this : comment !
Websocket support __EoT__ As # 127 is a little overloaded and goes beyond the technical , I thought to open up this issue to gather implementation details and coordinate efforts for this . Support for WebSockets is already present on the server , so the idea is to use WebSockets on Android as well ( for now instead of a possible more suited protocol like MQTT ) @ geileszeuch mentioned a guide on how to use websockets in native apps : http : //www.elabs.se/blog/66-using-websockets-in-native-ios-and-android-apps However I do n't think this would be a good guide as it does n't talk about Wake/Sleep and connection loss . This article list several issues one has to deal with in a mobile enviroment : http : //dalelane.co.uk/blog/ ? p=1599 I believe the approach mentioned here http : //stackoverflow.com/a/16602970 to be reasonable , if I find the time I will give it a try . I guess for developing this one has to run an own server , as WS is disabled per default . So please , if you have a question , concern or are already working on this : comment !
Sprint Bad encrypted MMS message __EoT__ Hello , I know there was an issue in the past with an extra digit while decrypting but I 'm not sure if that is whats going on . Any help would be appreciated . Both phones are on version 0.9.9.8 One phone has : Android 4.2.2 CM 10.1.2 Kernal 3.4.45 OpenPDroid framework additions The other phone has : Android 4.1.2 ( I think ) Stock rooted Sending log via Catlog 07-30 13:39:44.506 D/dalvikvm ( 9902 ) : Added shared lib libnativehelper.so 0x0 07-30 13:39:44.646 D/AndroidRuntime ( 9902 ) : Calling main entry com.android.commands.am.Am 07-30 13:39:44.646 D/dalvikvm ( 9902 ) : Note : class Landroid/app/ActivityManagerNative ; has 157 unimplemented ( abstract ) methods 07-30 13:39:44.666 I/System.out ( 9026 ) : tainted command part 0 : su 07-30 13:39:44.666 I/System.out ( 9026 ) : Now test tainted command : su 07-30 13:39:44.666 D/AndroidRuntime ( 9902 ) : Shutting down VM 07-30 13:39:44.676 D/dalvikvm ( 9902 ) : GC_CONCURRENT freed 93K , 16 % free 509K/604K , paused 0ms+0ms , total 4ms 07-30 13:39:44.736 D/dalvikvm ( 9026 ) : GC_CONCURRENT freed 1452K , 48 % free 5593K/10688K , paused 3ms+9ms , total 49ms 07-30 13:39:44.806 I/System.out
Sprint Bad encrypted MMS message __EoT__ Hello , I know there was an issue in the past with an extra digit while decrypting but I 'm not sure if that is whats going on . Any help would be appreciated . Both phones are on version 0.9.9.8 One phone has : Android 4.2.2 CM 10.1.2 Kernal 3.4.45 OpenPDroid framework additions The other phone has : Android 4.1.2 ( I think ) Stock rooted Sending log via Catlog 07-30 13:39:44.506 D/dalvikvm ( 9902 ) : Added shared lib libnativehelper.so 0x0 07-30 13:39:44.646 D/AndroidRuntime ( 9902 ) : Calling main entry com.android.commands.am.Am 07-30 13:39:44.646 D/dalvikvm ( 9902 ) : Note : class Landroid/app/ActivityManagerNative ; has 157 unimplemented ( abstract ) methods 07-30 13:39:44.666 I/System.out ( 9026 ) : tainted command part 0 : su 07-30 13:39:44.666 I/System.out ( 9026 ) : Now test tainted command : su 07-30 13:39:44.666 D/AndroidRuntime ( 9902 ) : Shutting down VM 07-30 13:39:44.676 D/dalvikvm ( 9902 ) : GC_CONCURRENT freed 93K , 16 % free 509K/604K , paused 0ms+0ms , total 4ms 07-30 13:39:44.736 D/dalvikvm ( 9026 ) : GC_CONCURRENT freed 1452K , 48 % free 5593K/10688K , paused 3ms+9ms , total 49ms 07-30 13:39:44.806 I/System.out
Support androidx fragment __EoT__ Google released [ Jetpack ] ( https : //developer.android.com/jetpack/ ) that include Fragment class that the package name is ` androidx.fragment.app.Fragment ` . There might be other support library classes that need to change , too .
Support androidx fragment __EoT__ Google released [ Jetpack ] ( https : //developer.android.com/jetpack/ ) that include Fragment class that the package name is ` androidx.fragment.app.Fragment ` . There might be other support library classes that need to change , too .
unresolved reference - this __EoT__ # # Overview - Describe the issue briefly Does n't compile when adding correctErrorTypes = true in kapt and kotin compiler throwing error as **unresolved reference : 'this'** . But removing the correctErrorTypes = true compiles unsucessful # # # Expected - What is the expected behavior ? Compile sucessfully # # # Actual - What is the actual behavior ? not compile sucessfully # # Environment kotlin gradle plugin - 1.2.61 support lib - 27.1.1 - Which library version are you using ? 3.3.1 ! [ image ] ( https : //user-images.githubusercontent.com/22348175/45217074-60111f80-b2c0-11e8-9dc8-45e0b70d965f.png )
Investigate if Hive connector should add stats properties __EoT__ Partitions ( or unpartitioned tables ) written by Hive seem to have the following properties ( tested with Hive 1.2.1 ) : * ` COLUMN_STATS_ACCURATE ` = ` true ` * ` numFiles ` * ` numRows ` * ` rawDataSize ` * ` totalSize ` This looks like a good starting point : https : //github.com/apache/hive/blob/master/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/StatsSetupConst.java
Investigate if Hive connector should add stats properties __EoT__ Partitions ( or unpartitioned tables ) written by Hive seem to have the following properties ( tested with Hive 1.2.1 ) : * ` COLUMN_STATS_ACCURATE ` = ` true ` * ` numFiles ` * ` numRows ` * ` rawDataSize ` * ` totalSize ` This looks like a good starting point : https : //github.com/apache/hive/blob/master/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/StatsSetupConst.java
Investigate if Hive connector should add stats properties __EoT__ Partitions ( or unpartitioned tables ) written by Hive seem to have the following properties ( tested with Hive 1.2.1 ) : * ` COLUMN_STATS_ACCURATE ` = ` true ` * ` numFiles ` * ` numRows ` * ` rawDataSize ` * ` totalSize ` This looks like a good starting point : https : //github.com/apache/hive/blob/master/standalone-metastore/src/main/java/org/apache/hadoop/hive/common/StatsSetupConst.java
JDBC driver connection.getMetaData ( ) .getColumns ( ... ) returns unexpected values __EoT__ I ran across this while comparing the output from Simba 's implementation of a JDBC driver for Presto to that of the open source driver . Having consulted the JDBC documentation and Simba , I believe the open source driver is returning the wrong value for the following output columns : ` type number ` , ` size ` , ` buffer length ` , ` decimal digits ` , ` nullable ` , ` is nullable ` . The Java code executed was : ` connection.getMetaData ( ) .getColumns ( `` hive '' , `` default '' , `` nation '' , null ) ` # # Here are the values the open source driver returns : | Column name ( 1 ) | type number ( 5 ) | size ( 7 ) | buffer length ( 8 ) | decimal digits ( 9 ) | nullable ( 11 ) | is nullable ( 18 ) | | -- - | -- - | -- - | -- - | -- - | -- - | -- - | | n_nationkey | -5 | 0
Do not use external tables for inserts in product tests __EoT__ External tables should be treated as readonly . We need to fix this before # 5416 is landed .
Introduce map_entries and map_from_entries functions __EoT__ Add two functions to convert between arrays and maps : ` map_entries ( map < K , V > ) - > array < row < K , V > > ` ` map_from_entries ( array < row < K , V > > ) - > map < K , V > `
OperatorContext is not ThreadSafe __EoT__ Contrary to the misleading ` @ ThreadSafe ` annotation and usage of ` AtomicLong ` everywhere in it ` OperatorContext ` is not ThreadSafe . I have stumbled on it while implementing some things related to spilling https : //github.com/prestodb/presto/pull/5142 and revocable memory https : //github.com/prestodb/presto/pull/5711 There is at least problem with ` setMemoryReservation ` , ` trySetMemoryReservation ` methods and ` transferMemoryToTaskContext ` : `` ` private final AtomicLong memoryReservation = new AtomicLong ( ) ; ( ... ) public void setMemoryReservation ( long newMemoryReservation ) { checkArgument ( newMemoryReservation > = 0 , `` newMemoryReservation is negative '' ) ; long delta = newMemoryReservation - memoryReservation.get ( ) ; if ( delta > 0 ) { reserveMemory ( delta ) ; } else { freeMemory ( -delta ) ; } } `` ` Example scenario . ` memoryReservation ` equals to ` 10 ` . 1. caller A initiate ` setMemoryReservation ( 3 ) ` . 2 . A thread calculates ` delta = -7 ` and hangs . 3. caller B changes memory reservation by calling ` setMemoryReservation ( 3 ) ` which finishes before A thread resumes work . This give
Unexpected node : com.facebook.presto.sql.planner.plan.LateralJoinNode __EoT__ Presto fails with the message ` Unexpected node : com.facebook.presto.sql.planner.plan.LateralJoinNode ` on a query based on TPCDS query 1 : `` ` WITH customer_total_return AS ( SELECT sr_customer_sk AS ctr_customer_sk , sr_store_sk AS ctr_store_sk , Sum ( sr_return_amt ) AS ctr_total_return FROM store_returns , date_dim WHERE sr_returned_date_sk = d_date_sk AND d_year = 2001 GROUP BY sr_customer_sk , sr_store_sk ) , high_return AS ( SELECT ctr_store_sk , Avg ( ctr_total_return ) * 1.2 AS return_limit FROM customer_total_return ctr2 GROUP BY ctr_store_sk ) SELECT c_customer_id FROM customer_total_return ctr1 , store , customer WHERE ctr1.ctr_total_return > ( SELECT return_limit FROM high_return WHERE ctr1.ctr_store_sk = high_return.ctr_store_sk ) AND s_store_sk = ctr1.ctr_store_sk AND s_state = 'TN ' AND ctr1.ctr_customer_sk = c_customer_sk ORDER BY c_customer_id LIMIT 100 ; `` ` It seems that this subquery is the problem : `` ` ( SELECT return_limit FROM high_return WHERE ctr1.ctr_store_sk = high_return.ctr_store_sk ) `` ` You should be able to create an appropriate schema by running this in Hive : `` ` create external table tpcds_parquet.customer ( c_customer_sk bigint , c_customer_id string , c_current_cdemo_sk bigint , c_current_hdemo_sk bigint , c_current_addr_sk bigint , c_first_shipto_date_sk bigint , c_first_sales_date_sk bigint , c_salutation string , c_first_name string
Unexpected node : com.facebook.presto.sql.planner.plan.LateralJoinNode __EoT__ Presto fails with the message ` Unexpected node : com.facebook.presto.sql.planner.plan.LateralJoinNode ` on a query based on TPCDS query 1 : `` ` WITH customer_total_return AS ( SELECT sr_customer_sk AS ctr_customer_sk , sr_store_sk AS ctr_store_sk , Sum ( sr_return_amt ) AS ctr_total_return FROM store_returns , date_dim WHERE sr_returned_date_sk = d_date_sk AND d_year = 2001 GROUP BY sr_customer_sk , sr_store_sk ) , high_return AS ( SELECT ctr_store_sk , Avg ( ctr_total_return ) * 1.2 AS return_limit FROM customer_total_return ctr2 GROUP BY ctr_store_sk ) SELECT c_customer_id FROM customer_total_return ctr1 , store , customer WHERE ctr1.ctr_total_return > ( SELECT return_limit FROM high_return WHERE ctr1.ctr_store_sk = high_return.ctr_store_sk ) AND s_store_sk = ctr1.ctr_store_sk AND s_state = 'TN ' AND ctr1.ctr_customer_sk = c_customer_sk ORDER BY c_customer_id LIMIT 100 ; `` ` It seems that this subquery is the problem : `` ` ( SELECT return_limit FROM high_return WHERE ctr1.ctr_store_sk = high_return.ctr_store_sk ) `` ` You should be able to create an appropriate schema by running this in Hive : `` ` create external table tpcds_parquet.customer ( c_customer_sk bigint , c_customer_id string , c_current_cdemo_sk bigint , c_current_hdemo_sk bigint , c_current_addr_sk bigint , c_first_shipto_date_sk bigint , c_first_sales_date_sk bigint , c_salutation string , c_first_name string
Bad error message when rows in VALUES have different number of fields __EoT__ `` ` sql VALUES ( 1 ) , ( 1,2 ) `` ` fails with : `` ` java.lang.IndexOutOfBoundsException : Index : 1 , Size : 1 at java.util.ArrayList.rangeCheck ( ArrayList.java:653 ) at java.util.ArrayList.get ( ArrayList.java:429 ) at com.facebook.presto.sql.analyzer.StatementAnalyzer.visitValues ( StatementAnalyzer.java:1429 ) at com.facebook.presto.sql.analyzer.StatementAnalyzer.visitValues ( StatementAnalyzer.java:229 ) at com.facebook.presto.sql.tree.Values.accept ( Values.java:55 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.analyzer.StatementAnalyzer.visitQuery ( StatementAnalyzer.java:928 ) at com.facebook.presto.sql.analyzer.StatementAnalyzer.visitQuery ( StatementAnalyzer.java:229 ) at com.facebook.presto.sql.tree.Query.accept ( Query.java:103 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.analyzer.Analyzer.analyze ( Analyzer.java:60 ) at com.facebook.presto.execution.SqlQueryExecution.doAnalyzeQuery ( SqlQueryExecution.java:273 ) at com.facebook.presto.execution.SqlQueryExecution.analyzeQuery ( SqlQueryExecution.java:259 ) at com.facebook.presto.execution.SqlQueryExecution.start ( SqlQueryExecution.java:223 ) at com.facebook.presto.execution.QueuedExecution.lambda $ start $ 1 ( QueuedExecution.java:62 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:745 ) `` `
Release notes for 0.206 __EoT__ Issue to track release notes for next release .
Presto is not able to connect to hive metastore when hadoop.rpc.protection=privacy __EoT__ If hadoop.rpc.proctecion=privacy then presto fails to connect to hive metastore `` ` < property > < name > hadoop.rpc.protection < /name > < value > privacy < /value > < /property > `` ` The error message is ` Could not connect to meta store using any of the URIs provided . M ost recent failure : org.apache.thrift.transport.TTransportException : No common protection layer between client and server ` It is possible to patch presto code in order to fix this : In KerberosHiveMetastoreAuthentication.java file the line `` ` Sasl.QOP , `` auth '' , `` ` should be replaced with `` ` Sasl.QOP , `` auth-conf '' , `` ` The standard hive mestastore client works out of the box when core-site.xml and hive-site.xml are added to HiveConf as resources .
GROUP BY alias does not work . __EoT__ presto : default > select count ( cname ) , cid as id from ss_dev.course_rt group by id ; Query 20160705_122534_00018_ej4np failed : line 1:63 : Column ' '' id '' ' can not be resolved select count ( cname ) , cid as id from ss_dev.course_rt group by id
PREPARE statement query failing with 500 error __EoT__ I am trying to run a prepared statement query but I am getting a 500 error in the output . Running the query without preparing it works fine ( there are no parameters to bind ) . This error is occurring on both the Presto CLI tool and in my application . Input : `` ` PREPARE stmt0 FROM < < SELECT query 11.7 kbytes in size > > ; `` ` Output : `` ` java.lang.RuntimeException : Error fetching next at http : //localhost:28881/v1/statement/20180228_143747_01091_gjj7v/1 returned an invalid response : JsonResponse { statusCode=500 , statusMessage=Server Error , headers= { connection= [ close ] } , hasValue=false } [ Error : ] at com.facebook.presto.client.StatementClient.requestFailedException ( StatementClient.java:390 ) at com.facebook.presto.client.StatementClient.advance ( StatementClient.java:333 ) at com.facebook.presto.cli.StatusPrinter.printInitialStatusUpdates ( StatusPrinter.java:122 ) at com.facebook.presto.cli.Query.renderQueryOutput ( Query.java:134 ) at com.facebook.presto.cli.Query.renderOutput ( Query.java:118 ) at com.facebook.presto.cli.Console.process ( Console.java:299 ) at com.facebook.presto.cli.Console.runConsole ( Console.java:251 ) at com.facebook.presto.cli.Console.run ( Console.java:145 ) at com.facebook.presto.cli.Presto.main ( Presto.java:32 ) Query is gone ( server restarted ? ) `` ` There is no indication that the query failed in the presto UI or in the server.log file . It is marked as finished . Perhaps there
PREPARE statement query failing with 500 error __EoT__ I am trying to run a prepared statement query but I am getting a 500 error in the output . Running the query without preparing it works fine ( there are no parameters to bind ) . This error is occurring on both the Presto CLI tool and in my application . Input : `` ` PREPARE stmt0 FROM < < SELECT query 11.7 kbytes in size > > ; `` ` Output : `` ` java.lang.RuntimeException : Error fetching next at http : //localhost:28881/v1/statement/20180228_143747_01091_gjj7v/1 returned an invalid response : JsonResponse { statusCode=500 , statusMessage=Server Error , headers= { connection= [ close ] } , hasValue=false } [ Error : ] at com.facebook.presto.client.StatementClient.requestFailedException ( StatementClient.java:390 ) at com.facebook.presto.client.StatementClient.advance ( StatementClient.java:333 ) at com.facebook.presto.cli.StatusPrinter.printInitialStatusUpdates ( StatusPrinter.java:122 ) at com.facebook.presto.cli.Query.renderQueryOutput ( Query.java:134 ) at com.facebook.presto.cli.Query.renderOutput ( Query.java:118 ) at com.facebook.presto.cli.Console.process ( Console.java:299 ) at com.facebook.presto.cli.Console.runConsole ( Console.java:251 ) at com.facebook.presto.cli.Console.run ( Console.java:145 ) at com.facebook.presto.cli.Presto.main ( Presto.java:32 ) Query is gone ( server restarted ? ) `` ` There is no indication that the query failed in the presto UI or in the server.log file . It is marked as finished . Perhaps there
Add hit/miss metrics for compiled code caches __EoT__ I suspect that the caches for compiled code are not very effective for large , varied workloads . We should add cache hit/miss metrics and expose them via JMX to be able to test this hypothesis . Classes that need to be instrumented : ExpressionCompiler , JoinCompiler , JoinFilterFunctionCompiler , JoinProbeCompiler , OrderingCompiler
Add hit/miss metrics for compiled code caches __EoT__ I suspect that the caches for compiled code are not very effective for large , varied workloads . We should add cache hit/miss metrics and expose them via JMX to be able to test this hypothesis . Classes that need to be instrumented : ExpressionCompiler , JoinCompiler , JoinFilterFunctionCompiler , JoinProbeCompiler , OrderingCompiler
Support correlated simple scan-filter-project queries __EoT__ Currently such queries like below fails : `` ` presto : tiny > SELECT * FROM outer n WHERE outer.x = ( SELECT x FROM inner WHERE inner.y = outer.y ) ; Query 20161018_055627_00002_uqzsf failed : Unsupported correlated subquery type `` ` ( above query is just an example , it does not represent any logical value ) It seems that plan for such query should look like : `` ` Filter ( outery.x = inner_x ) Aggregation ( enforce_single_value ( inner.x ) AS inner_x , GROUP BY outer . * ) LeftJoin ( inner.y = outer.y ) TableScan ( inner ) TableScan ( outer ) `` ` Where ` enforce_singe_value ` is ( conceptually similar to EnforceSingleRow plan node ) aggregator which : - for empty group returns ` null ` - for group with single value returns that value - for multiple values raise runtime error that only single value was expected
Support enabling SSL for MongoDB connector __EoT__ Add a new config option ` mongodb.ssl.enabled ` in ` MongoClientConfig ` , utilize it in ` MongoClientModule ` and document it in the ` mongo.rst ` file .
presto-cli ( batch mode ) exits with '0 ' when query fails __EoT__ Typically when db cli tool fails to execute a query proper exit status is returned . Presto returns always 0 . See exit status section in http : //www.postgresql.org/docs/9.3/static/app-psql.html `` ` $ cat f select 1/0 ; $ presto-cli -- server localhost:8080 -f f Query 20151123_135624_00623_5hmgt failed : / by zero $ echo $ ? 0 $ cat f | presto-cli -- server localhost:8080 presto > select 1/0 ; Query 20151123_135643_00624_5hmgt failed : / by zero presto > $ echo $ ? 0 `` `
SHOW PARTITIONS should avoid partitions scan limit __EoT__ When the user wants to lists all the partitions it should not use a read partitions count limit as there is these partitions are not going to be read . `` ` presto : xxx > show partitions in some_table where event_dt=date'2017-05-01 ' ; event_dt | hash_prtn_nb -- -- -- -- -- -- + -- -- -- -- -- -- -- 2017-05-01 | 0 2017-05-01 | 1 2017-05-01 | 2 ... . presto : xxx > show partitions in some_table limit 5 ; Query 20180305_204534_00022_sc8vc failed : Query over table 'some_table ' can potentially read more than 100000 partitions `` ` This error should be thrown only when query is going to scan these partitions . Maybe this check should be moved to ` HiveSplitManager ` ? CC : @ electrum @ findepi
SHOW PARTITIONS should avoid partitions scan limit __EoT__ When the user wants to lists all the partitions it should not use a read partitions count limit as there is these partitions are not going to be read . `` ` presto : xxx > show partitions in some_table where event_dt=date'2017-05-01 ' ; event_dt | hash_prtn_nb -- -- -- -- -- -- + -- -- -- -- -- -- -- 2017-05-01 | 0 2017-05-01 | 1 2017-05-01 | 2 ... . presto : xxx > show partitions in some_table limit 5 ; Query 20180305_204534_00022_sc8vc failed : Query over table 'some_table ' can potentially read more than 100000 partitions `` ` This error should be thrown only when query is going to scan these partitions . Maybe this check should be moved to ` HiveSplitManager ` ? CC : @ electrum @ findepi
Parsing time-stamp __EoT__ Is it possible parse time stamp '28-JAN-16 11.45.46.421000000 PM ' in presto . I tried it with following query ` select date_parse ( '28-JAN-16 11.45.46.421000000 PM ' , ' % d- % b- % Y % l. % i. % s. % f % p ' ) ; ` Error ` Invalid format : `` 28-JAN-16 11.45.46.421000000 PM '' is malformed at `` 000 PM '' ` I get this time stamp format from oracle db .
Add more failure info to QueryCompletionEvent __EoT__ We need to know the task ID and the machine on which the failure occurred . This helps with finding logs related to a failure , correlating machines with higher than average failure counts , etc .
Add more failure info to QueryCompletionEvent __EoT__ We need to know the task ID and the machine on which the failure occurred . This helps with finding logs related to a failure , correlating machines with higher than average failure counts , etc .
Add more failure info to QueryCompletionEvent __EoT__ We need to know the task ID and the machine on which the failure occurred . This helps with finding logs related to a failure , correlating machines with higher than average failure counts , etc .
TIMESTAMP WITH TIME ZONE and TIME WITH TIME ZONE equality does n't conform to standard __EoT__ SQL 2003 says > TIME — contains the < primary datetime field > s HOUR , MINUTE , and SECOND . > TIMESTAMP — contains the < primary datetime field > s YEAR , MONTH , DAY , HOUR , MINUTE , and SECOND . ( this listing was n't suppose to cover ` TIMEZONE_HOUR ` , ` TIMEZONE_MINUTE ` fields present in the ` WITH TIME ZONE ` data types ) > Items of type datetime are comparable only if they have the same < primary datetime field > s . * My understanding is that the TIME and TIMESTAMP equality ` = ` ( and comparisons ` < , > ` ) should be based on those fields . * This is further reinforced by reasoning that if values are printed differently , then they are different ( not equal ) * ... and that if ` a = b ` , then ` hour ( a ) = hour ( b ) ` ( which does n't hold today ) Thus the following should return ` false ` , but they
TIMESTAMP WITH TIME ZONE and TIME WITH TIME ZONE equality does n't conform to standard __EoT__ SQL 2003 says > TIME — contains the < primary datetime field > s HOUR , MINUTE , and SECOND . > TIMESTAMP — contains the < primary datetime field > s YEAR , MONTH , DAY , HOUR , MINUTE , and SECOND . ( this listing was n't suppose to cover ` TIMEZONE_HOUR ` , ` TIMEZONE_MINUTE ` fields present in the ` WITH TIME ZONE ` data types ) > Items of type datetime are comparable only if they have the same < primary datetime field > s . * My understanding is that the TIME and TIMESTAMP equality ` = ` ( and comparisons ` < , > ` ) should be based on those fields . * This is further reinforced by reasoning that if values are printed differently , then they are different ( not equal ) * ... and that if ` a = b ` , then ` hour ( a ) = hour ( b ) ` ( which does n't hold today ) Thus the following should return ` false ` , but they
TIMESTAMP WITH TIME ZONE and TIME WITH TIME ZONE equality does n't conform to standard __EoT__ SQL 2003 says > TIME — contains the < primary datetime field > s HOUR , MINUTE , and SECOND . > TIMESTAMP — contains the < primary datetime field > s YEAR , MONTH , DAY , HOUR , MINUTE , and SECOND . ( this listing was n't suppose to cover ` TIMEZONE_HOUR ` , ` TIMEZONE_MINUTE ` fields present in the ` WITH TIME ZONE ` data types ) > Items of type datetime are comparable only if they have the same < primary datetime field > s . * My understanding is that the TIME and TIMESTAMP equality ` = ` ( and comparisons ` < , > ` ) should be based on those fields . * This is further reinforced by reasoning that if values are printed differently , then they are different ( not equal ) * ... and that if ` a = b ` , then ` hour ( a ) = hour ( b ) ` ( which does n't hold today ) Thus the following should return ` false ` , but they
Optimize MapToMapCast via Composing MethodHandles __EoT__ We can compose the MethodHandle that does read , cast and write . Do it once in ` specialize ` . See ` ArrayJoin ` function for an example how to do that . Also see ` MapParametricType : :createType ` , ` SingleMapBlockEncodingFactory : :readEncoding ` , ` MapBlockEncodingFactory : :readEncoding ` Some utilities functions in ` MethodHandleUtil ` will make it easier .
VerifyError for complicated transform __EoT__ This query : with stuff as ( select json ' { `` store '' : { `` book '' : [ { `` category '' : `` reference '' , `` author '' : `` Nigel Rees '' , `` title '' : `` Sayings of the Century '' , `` price '' : 8.95 } , { `` category '' : `` fiction '' , `` author '' : `` Evelyn Waugh '' , `` title '' : `` Sword of Honour '' , `` price '' : 12.99 } , { `` category '' : `` fiction '' , `` author '' : `` Herman Melville '' , `` title '' : `` Moby Dick '' , `` isbn '' : `` 0-553-21311-3 '' , `` price '' : 8.99 } , { `` category '' : `` fiction '' , `` author '' : `` J. R. R. Tolkien '' , `` title '' : `` The Lord of the Rings '' , `` isbn '' : `` 0-395-19395-8 '' , `` price '' : 22.99 } ] , `` bicycle '' : { `` color '' : `` red '' ,
Add support for a `` distinct from '' operator __EoT__ This is needed to support all operations that rely on distinct semantics . Currently , many of them are implemented using EQUALS operators or just do n't allow use in those contexts ( e.g. , arrays containing nulls ) . This is a prerequisite for : - https : //github.com/prestodb/presto/issues/3568 - https : //github.com/prestodb/presto/issues/4075 - https : //github.com/prestodb/presto/issues/3569
Add support for a `` distinct from '' operator __EoT__ This is needed to support all operations that rely on distinct semantics . Currently , many of them are implemented using EQUALS operators or just do n't allow use in those contexts ( e.g. , arrays containing nulls ) . This is a prerequisite for : - https : //github.com/prestodb/presto/issues/3568 - https : //github.com/prestodb/presto/issues/4075 - https : //github.com/prestodb/presto/issues/3569
Fix merging big pages in aggregation spilling __EoT__ Currently ` MergeHashSort ` guarantees that : > Positions with same hash value are guaranteed to be in the same result page . If each row is huge ( like containing ` max ( VARCHAR ) ` aggregator for large column ) , this can produce large output Pages , for which memory is not accounted anywhere . This memory should either be accounted or ` MergingHashAggregationBuilder ` should handle rows with same key that are split in consecutive pages . Further more . ` MergeHashSort ` holds in memory one Page per spilled file . This memory also should be accounted . cc @ cberner
Fix merging big pages in aggregation spilling __EoT__ Currently ` MergeHashSort ` guarantees that : > Positions with same hash value are guaranteed to be in the same result page . If each row is huge ( like containing ` max ( VARCHAR ) ` aggregator for large column ) , this can produce large output Pages , for which memory is not accounted anywhere . This memory should either be accounted or ` MergingHashAggregationBuilder ` should handle rows with same key that are split in consecutive pages . Further more . ` MergeHashSort ` holds in memory one Page per spilled file . This memory also should be accounted . cc @ cberner
Query with scalar subquery fails when scalar subquery symbols are not used __EoT__ For query : `` ` SELECT count ( * ) FROM ( SELECT ( SELECT 1 ) ) '' `` ` presto returns : `` ` Query 20160705_101143_00019_j55jn failed : Scalar node can output only one symbol but got : [ ] `` `
Migrate TransformCorrelatedScalarAggregationToJoin to iterative optimizer __EoT__
Migrate TransformCorrelatedScalarAggregationToJoin to iterative optimizer __EoT__
Remove presto-hive-hadoop2/conf/files/words __EoT__ The Hive ` create-test.sql ` script first needs to create a table with 100 rows , which is then used to create the other test tables . The only way to do this in Hive ( that I know of ) is to load an existing file from disk . The file ` /usr/share/dict/words ` was chosen rather arbitrarily as something that existed by default in a known location on most Linux distributions and had a sufficient number of lines . It definite should not be checked into the Presto source tree .
Clean up temp directory after CREATE or INSERT in Hive __EoT__ After the CREATE or INSERT for Hive finished , the temp directory will have some left over empty directories . For example , I ran 4 insert commands and was left with : `` ` /tmp/presto-dain/22041385-5745-4961-ae03-6cca9b6640ff/ship_priority=0 /tmp/presto-dain/3b29ca9b-0885-45bc-8d65-dcff53274c02/ship_priority=0 /tmp/presto-dain/c81fb4a3-91fd-41d6-8421-1aca6add7501/ship_priority=0 /tmp/presto-dain/e529708f-e9a0-4ba0-b499-a1ff28f35ef9/ship_priority=0 `` ` The cleanup code in the ` HiveMetadata ` should attempt to remove the empty temp directories after the command complete ( either successfully or by failure ) .
Introduce JoinNode # matchMax __EoT__ # 10405 improved support for correlated no aggregation scalar queries . A query like ` SELECT name , ( SELECT name FROM region WHERE regionkey = nation.regionkey ) FROM nation ` is planned as a left join sandwiched between ` AssignUniqueId ` and ` MarkDistinct ` + ` Filter ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - LeftJoin - AssignUniqueId ( unique ) - probe - build The sole purpose of extra ` AssignUniqueId ` , ` MarkDistinct ` and ` Filter ` nodes is to verify at runtime that the scalar subquery returns zero or one row . However , this check is expensive . The distributed plan includes a remote exchange between ` MarkDistinct ` and ` LeftJoin ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - RemoteExchange ( hash ( unique ) ) - LeftJoin - RemoteExchange ( hash ( joinkey ) ) - AssignUniqueId ( unique ) - probe - RemoteExchange ( hash (
Introduce JoinNode # matchMax __EoT__ # 10405 improved support for correlated no aggregation scalar queries . A query like ` SELECT name , ( SELECT name FROM region WHERE regionkey = nation.regionkey ) FROM nation ` is planned as a left join sandwiched between ` AssignUniqueId ` and ` MarkDistinct ` + ` Filter ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - LeftJoin - AssignUniqueId ( unique ) - probe - build The sole purpose of extra ` AssignUniqueId ` , ` MarkDistinct ` and ` Filter ` nodes is to verify at runtime that the scalar subquery returns zero or one row . However , this check is expensive . The distributed plan includes a remote exchange between ` MarkDistinct ` and ` LeftJoin ` : - Filter if ( is_distint , true , fail ( 'Scalar sub-query has returned multiple rows ' ) ) - MarkDistinct ( unique ) - RemoteExchange ( hash ( unique ) ) - LeftJoin - RemoteExchange ( hash ( joinkey ) ) - AssignUniqueId ( unique ) - probe - RemoteExchange ( hash (
presto-0.75 query hive 0.13.1 orc table fail __EoT__ 2014-08-27T23:19:25.328+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is PLANNING 2014-08-27T23:19:33.454+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is STARTING 2014-08-27T23:19:33.470+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULING 2014-08-27T23:19:33.475+0800 DEBUG query-execution-3 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULING 2014-08-27T23:19:33.871+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULED 2014-08-27T23:19:33.876+0800 DEBUG query-execution-3 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is RUNNING 2014-08-27T23:19:33.987+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULED 2014-08-27T23:19:34.500+0800 DEBUG 20140827_151924_00000_qq85a.1.0-0-46 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.1.0-0 ( start = 1409152774195 , wall = 304 ms , cpu = 55 ms , calls = 1 ) is finished 2014-08-27T23:19:35.071+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is RUNNING 2014-08-27T23:19:35.126+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is RUNNING 2014-08-27T23:19:35.404+0800 DEBUG task-notification-1 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.1.0 is FINISHED 2014-08-27T23:19:35.421+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is FINISHED 2014-08-27T23:19:35.597+0800 DEBUG 20140827_151924_00000_qq85a.0.0-0-45 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.0.0-0 ( start = 1409152774183 , wall = 1414 ms , cpu = 165 ms , calls = 3 ) is finished 2014-08-27T23:19:35.627+0800 DEBUG task-notification-2 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.0.0 is FINISHED 2014-08-27T23:19:35.745+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is FINISHED 2014-08-27T23:19:35.755+0800 DEBUG query-execution-2 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is FINISHED 2014-08-27T23:19:35.884+0800 INFO query-execution-2 com.facebook.presto.event.query.QueryMonitor TIMELINE : Query 20140827_151924_00000_qq85a : : elapsed 10468.00ms : : planning 8167.10ms : : scheduling 1042.00ms : : running 893.00ms : :
presto-0.75 query hive 0.13.1 orc table fail __EoT__ 2014-08-27T23:19:25.328+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is PLANNING 2014-08-27T23:19:33.454+0800 DEBUG query-execution-0 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is STARTING 2014-08-27T23:19:33.470+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULING 2014-08-27T23:19:33.475+0800 DEBUG query-execution-3 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULING 2014-08-27T23:19:33.871+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is SCHEDULED 2014-08-27T23:19:33.876+0800 DEBUG query-execution-3 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is RUNNING 2014-08-27T23:19:33.987+0800 DEBUG query-execution-2 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is SCHEDULED 2014-08-27T23:19:34.500+0800 DEBUG 20140827_151924_00000_qq85a.1.0-0-46 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.1.0-0 ( start = 1409152774195 , wall = 304 ms , cpu = 55 ms , calls = 1 ) is finished 2014-08-27T23:19:35.071+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is RUNNING 2014-08-27T23:19:35.126+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is RUNNING 2014-08-27T23:19:35.404+0800 DEBUG task-notification-1 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.1.0 is FINISHED 2014-08-27T23:19:35.421+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.1 is FINISHED 2014-08-27T23:19:35.597+0800 DEBUG 20140827_151924_00000_qq85a.0.0-0-45 com.facebook.presto.execution.TaskExecutor Split 20140827_151924_00000_qq85a.0.0-0 ( start = 1409152774183 , wall = 1414 ms , cpu = 165 ms , calls = 3 ) is finished 2014-08-27T23:19:35.627+0800 DEBUG task-notification-2 com.facebook.presto.execution.TaskStateMachine Task 20140827_151924_00000_qq85a.0.0 is FINISHED 2014-08-27T23:19:35.745+0800 DEBUG query-execution-1 com.facebook.presto.execution.SqlStageExecution Stage 20140827_151924_00000_qq85a.0 is FINISHED 2014-08-27T23:19:35.755+0800 DEBUG query-execution-2 com.facebook.presto.execution.QueryStateMachine Query 20140827_151924_00000_qq85a is FINISHED 2014-08-27T23:19:35.884+0800 INFO query-execution-2 com.facebook.presto.event.query.QueryMonitor TIMELINE : Query 20140827_151924_00000_qq85a : : elapsed 10468.00ms : : planning 8167.10ms : : scheduling 1042.00ms : : running 893.00ms : :
ConcurrentModificationException in BridgingHiveMetastore __EoT__ Trying to drop a column from a Hive table with Presto 0.186 throws a ConcurrentModificationException : `` ` java.util.ConcurrentModificationException at java.util.ArrayList $ Itr.checkForComodification ( ArrayList.java:901 ) at java.util.ArrayList $ Itr.next ( ArrayList.java:851 ) at com.facebook.presto.hive.metastore.BridgingHiveMetastore.dropColumn ( BridgingHiveMetastore.java:214 ) at com.facebook.presto.hive.metastore.CachingHiveMetastore.dropColumn ( CachingHiveMetastore.java:495 ) at com.facebook.presto.hive.metastore.CachingHiveMetastore.dropColumn ( CachingHiveMetastore.java:495 ) at com.facebook.presto.hive.metastore.SemiTransactionalHiveMetastore.lambda $ dropColumn $ 9 ( SemiTransactionalHiveMetastore.java:357 ) at com.facebook.presto.hive.metastore.SemiTransactionalHiveMetastore.commit ( SemiTransactionalHiveMetastore.java:743 ) at com.facebook.presto.hive.HiveMetadata.commit ( HiveMetadata.java:1522 ) at com.facebook.presto.hive.HiveConnector.commit ( HiveConnector.java:177 ) at com.facebook.presto.transaction.TransactionManager $ TransactionMetadata $ ConnectorTransactionMetadata.commit ( TransactionManager.java:577 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:511 ) at com.google.common.util.concurrent.TrustedListenableFutureTask $ TrustedFutureInterruptibleTask.runInterruptibly ( TrustedListenableFutureTask.java:111 ) at com.google.common.util.concurrent.InterruptibleTask.run ( InterruptibleTask.java:58 ) at com.google.common.util.concurrent.TrustedListenableFutureTask.run ( TrustedListenableFutureTask.java:75 ) at io.airlift.concurrent.BoundedExecutor.drainQueue ( BoundedExecutor.java:78 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:748 ) `` ` The table in question looks like this : `` ` presto > SHOW CREATE TABLE hive.default.posts ; CREATE TABLE hive.default.posts ( user_id_dup varchar , title varchar , body varchar , foo integer , user_id varchar ) WITH ( external_location = 's3a : //my-s3-bucket/posts ' , format = 'ORC ' , partitioned_by = ARRAY [ 'user_id ' ] ) `` ` And I 'm trying to drop the
Where clauses does n't works with 'sys ' catalog __EoT__ This query is ok : `` ` sql SELECT * FROM `` sys '' . `` catalog '' `` ` get this result : | catalog_name | connector_id | | -- - | -- - | | tpch | tpch | | jmx | jmx | | hive | hive | But this one is wrong : `` ` sql SELECT * FROM `` sys '' . `` catalog '' WHERE `` connector_id '' ='tpch' `` ` get this result : | catalog_name | connector_id | | -- - | -- - | | tpch | tpch | | jmx | jmx | | hive | hive |
Flaky test : TestTpchDistributedStats.testValues ( ) __EoT__ Entire test output is [ here ] ( https : //gist.githubusercontent.com/nezihyigitbasi/261c563d2591e4b649ec8ef85129df37/raw/983cc31e929a8fbbd4476317af974bf5ae3c98ce/gistfile1.txt ) . `` ` [ ERROR ] Tests run : 2122 , Failures : 1 , Errors : 0 , Skipped : 0 , Time elapsed : 2,173.575 s < < < FAILURE ! - in TestSuite [ ERROR ] testValues ( com.facebook.presto.tests.TestTpchDistributedStats ) Time elapsed : 0.037 s < < < FAILURE ! java.lang.AssertionError : Following metrics do not match : Metric [ OUTPUT_ROW_COUNT ] - estimated : [ 1.0 ] , real : [ UNKNOWN ] - plan node : [ com.facebook.presto.sql.planner.plan.OutputNode @ 2b575894 ] expected [ true ] but found [ false ] at com.facebook.presto.tests.TestTpchDistributedStats.testValues ( TestTpchDistributedStats.java:104 ) `` `
Flaky test : TestTpchDistributedStats.testValues ( ) __EoT__ Entire test output is [ here ] ( https : //gist.githubusercontent.com/nezihyigitbasi/261c563d2591e4b649ec8ef85129df37/raw/983cc31e929a8fbbd4476317af974bf5ae3c98ce/gistfile1.txt ) . `` ` [ ERROR ] Tests run : 2122 , Failures : 1 , Errors : 0 , Skipped : 0 , Time elapsed : 2,173.575 s < < < FAILURE ! - in TestSuite [ ERROR ] testValues ( com.facebook.presto.tests.TestTpchDistributedStats ) Time elapsed : 0.037 s < < < FAILURE ! java.lang.AssertionError : Following metrics do not match : Metric [ OUTPUT_ROW_COUNT ] - estimated : [ 1.0 ] , real : [ UNKNOWN ] - plan node : [ com.facebook.presto.sql.planner.plan.OutputNode @ 2b575894 ] expected [ true ] but found [ false ] at com.facebook.presto.tests.TestTpchDistributedStats.testValues ( TestTpchDistributedStats.java:104 ) `` `
Where is the configuration properties description ? __EoT__ Where is the detailed description of the configuration parameters ? I have read the official website of the document , but not a very comprehensive description . Regards .
Migrate array less_than_or_equal operator to new framework __EoT__ See https : //github.com/cberner/presto/commit/b0f94c381f61465779f909ed6592dfcd8fdbd01a for an example of how this is done . The code is in ` ArrayLessThanOrEqualOperator.java `
Presto Hive Connectivity on MapR __EoT__ I am trying to query Hive queries from Presto on MapR . I am getting following error while launching the Presto Server : 3 errors com.google.inject.CreationException : Unable to create injector , see the following errors : 1 ) Configuration property 'http-server.http.port=8080 ' was not used at io.airlift.bootstrap.Bootstrap.lambda $ initialize $ 2 ( Bootstrap.java:235 ) 2 ) Error : Could not coerce value '8080 ' to int ( property 'http-server.http.port ' ) in order to call [ public io.airlift.http.server.HttpServerConfig io.airlift.http.server.HttpServerConfig.setHttpPort ( int ) ] at io.airlift.http.server.HttpServerModule.configure ( HttpServerModule.java:74 ) 3 ) Error : Invalid configuration property node.id : is malformed ( for class io.airlift.node.NodeConfig.nodeId ) at io.airlift.node.NodeModule.configure ( NodeModule.java:34 ) 3 errors at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist ( Errors.java:466 ) at com.google.inject.internal.InternalInjectorCreator.initializeStatically ( InternalInjectorCreator.java:155 ) at com.google.inject.internal.InternalInjectorCreator.build ( InternalInjectorCreator.java:107 ) at com.google.inject.Guice.createInjector ( Guice.java:96 ) at io.airlift.bootstrap.Bootstrap.initialize ( Bootstrap.java:242 ) at com.facebook.presto.server.PrestoServer.run ( PrestoServer.java:116 ) at com.facebook.presto.server.PrestoServer.main ( PrestoServer.java:67 ) Please Suggest
Invalid results when fast_inequality_join=true and table contains null values __EoT__ `` ` presto : default > create table t3 ( a bigint , b bigint ) ; CREATE TABLE presto : default > insert into t3 values ( 0,0 ) , ( 0 , -1 ) , ( 0 , null ) , ( 0 , 1 ) ; INSERT : 4 rows presto : default > set session fast_inequality_join=true ; SET SESSION presto : default > select * from nation n , t3 where n.regionkey -100 < t3.b and n.nationkey = t3.a ; nationkey | name | regionkey | comment | a | b -- -- -- -- -- -+ -- -- -- -- -- -+ -- -- -- -- -- -+ -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- + -- -+ -- -- 0 | ALGERIA | 0 | haggle . carefully final deposits detect slyly agai | 0 | -1 0 | ALGERIA | 0 | haggle . carefully final deposits detect slyly agai |
Lambdas are not suffciently verified during analyzis __EoT__ Query : `` ` select filter ( array [ 5 ] , x - > x + a > 0 ) from ( VALUES ( 1,2 ) ) t ( a , b ) ; `` ` fails with : `` ` Query 20170215_110307_00000_geqw6 failed : No type for symbol field `` ` This should be addressed after # 7354 and # 7315 are merged . FYI : @ martint @ kokosing
documentation error for Presto 0.107 __EoT__ On page https : //prestodb.io/docs/current/functions/comparison.html , the header of the table below shows `` a = a '' when it should be `` a = b '' . a b a = a a < > b a DISTINCT b a NOT DISTINCT b 1 1 TRUE FALSE FALSE TRUE 1 2 FALSE TRUE TRUE FALSE 1 NULL NULL NULL TRUE FALSE NULL NULL NULL NULL FALSE TRUE
View is stale immediately after creation __EoT__ Presto version is presto-server-0.123 user My config ： connector.name=hive-cdh5 hive.metastore.uri=thrift : //HADOOP1:9083 1 . I operated CREATE VIEW view_nginx_log AS 2 . CREATE OR REPLACE VIEW view_nginx_log AS SELECT ip , ... USER , TIME , ... line_no FROM ( SELECT ip , .. USER , TIME , ..url_extract_parameter ( url , 'lineNo ' ) AS line_no FROM txt_nginx WHERE DATE = '20151224 ' AND HOUR = '15 ' UNION ALL SELECT ip , ... ..url_extract_parameter ( url , 'lineNo ' ) AS line_no FROM orc_nginx_log ) ; 3. select \* from view_nginx_log show me a error : 【Query 20151224_093318_00023_wvykb failed : View 'hive.default.view_nginx_log ' is stale ; it must be re-created】 I drop the view and re-created ，see the same error。 i think 【USER , TIME】 sources of errors
Rewrite correlated IN predicate to EXISTS __EoT__ Currently Presto does not support correlated IN predicate . However such queries can be easily rewritten to EXISTS to subquery which have better support when subquery is correlated . Please take a look at the this example . `` ` SELECT * FROM some_table a WHERE NOT ( a.id IN ( SELECT b.id FROM some_table b WHERE a.id2 = b.id2 AND b.id3 = 1 ) ) `` ` This could be rewritten to something like : `` ` SELECT * FROM some_table a WHERE NOT ( EXISTS ( SELECT 1 FROM some_table b WHERE a.id = b.id AND a.id2 = b.id2 AND b.id3 = 1 ) ) `` `
PrestoS3FileSystem fails when creating staging directory if staging directory is a symlink __EoT__ A FileAlreadyExistsException will be thrown from Files.createDirectories ( ) when creating the S3 staging directory if the configured staging directory does already exist but is a symlink to another directory . Wrapping the call to Files.createDirectories ( ) with a check for existence prevents this .
Clean up legacy special handle for ` TRY ` expression __EoT__ ` TRY ` function used to have special handling . With https : //github.com/prestodb/presto/pull/8889 makes ` TRY ` to be implemented by desugaring to use ` $ internal $ try ` , these special handles are no longer needed . However it still leaves some trace in the code , such as ` PreGeneratedExpressions.tryMethodMap ` -- although never used .
Integer overflow during implicit cast in subquery __EoT__ `` ` select * from ( values 1.0,2.0,3.0 ) as t ( id ) where t.id in ( select u.id from ( values 1,2 ) as u ( id ) ) ; Query failed : integer overflow `` `
can not cast ( < sd > as < interval-type > ) __EoT__ Version : 0.160 Online documentation does not list a supported cast matrix . https : //prestodb.io/docs/current/functions/conversion.html Attempting to cast to an interval type fails https : //prestodb.io/docs/current/language/types.html i.e . select cast ( 1 as interval year ) from postgres_cert.public.tversion Error : Query failed ( # 20161224_143722_00066_ztdeg ) : line 1:28 : extraneous input 'year ' expecting { ' ) ' , 'ARRAY ' } SQLState : null ErrorCode : 1
Initial support for lateral joins __EoT__ Lateral joins are joins in which sub-selects and expressions on the right side of ` LATERAL ` keyword can use the scope of the join on the left side of ` LATERAL ` keyword . E.g . ( trivial ) : `` ` SQL SELECT * FROM foo , LATERAL ( SELECT * FROM bar WHERE bar.id = foo.bar_id ) ss ; `` ` which is equivalent to : `` ` SQL SELECT * FROM foo , bar WHERE bar.id = foo.bar_id ; `` ` See [ PostgreSQL docs ] ( https : //www.postgresql.org/docs/current/static/queries-table-expressions.html # QUERIES-LATERAL ) . A less-trivial example would be : `` ` SQL select month , signups , visitors , p as avg , low , high from signups_by_month , lateral ( select signups / visitors as p ) probability , lateral ( select sqrt ( p * ( 1 - p ) / visitors ) as se ) std_error , lateral ( select p - 1.94 * se as low ) lower_bound , lateral ( select p + 1.94 * se as high ) upper_bound `` ` ( source : [ Reuse Calculations in the Same Query with Lateral
Initial support for lateral joins __EoT__ Lateral joins are joins in which sub-selects and expressions on the right side of ` LATERAL ` keyword can use the scope of the join on the left side of ` LATERAL ` keyword . E.g . ( trivial ) : `` ` SQL SELECT * FROM foo , LATERAL ( SELECT * FROM bar WHERE bar.id = foo.bar_id ) ss ; `` ` which is equivalent to : `` ` SQL SELECT * FROM foo , bar WHERE bar.id = foo.bar_id ; `` ` See [ PostgreSQL docs ] ( https : //www.postgresql.org/docs/current/static/queries-table-expressions.html # QUERIES-LATERAL ) . A less-trivial example would be : `` ` SQL select month , signups , visitors , p as avg , low , high from signups_by_month , lateral ( select signups / visitors as p ) probability , lateral ( select sqrt ( p * ( 1 - p ) / visitors ) as se ) std_error , lateral ( select p - 1.94 * se as low ) lower_bound , lateral ( select p + 1.94 * se as high ) upper_bound `` ` ( source : [ Reuse Calculations in the Same Query with Lateral
PUBLIC does not work with GRANT/REVOKE __EoT__ Granting a privilege to ` PUBLIC ` role does n't have the desired effect . `` ` * $ java -jar ./presto-cli/target/presto-cli-0.158-SNAPSHOT-executable.jar -- server localhost:8080 -- catalog hive -- schema default -- user alice presto : default > CREATE TABLE alice_table ( a bigint ) ; CREATE TABLE presto : default > GRANT SELECT ON alice_table TO PUBLIC ; GRANT presto : default > exit ; * $ java -jar ./presto-cli/target/presto-cli-0.158-SNAPSHOT-executable.jar -- server localhost:8080 -- catalog hive -- schema default -- user bob presto : default > presto : default > select * from alice_table ; Query 20161122_171809_00028_snrpv failed : Access Denied : Can not select from table default.alice_table presto : default > select * from alice_table ; Query 20161122_190909_00006_45i4s failed : Access Denied : Can not select from table default.alice_table `` ` As user=alice , I granted the ` SELECT ` privilege to ` PUBLIC ` . Then tried executing the ` SELECT ` query twice with the user=bob . This query should succeed , at least the second time , if cache was n't refreshed the first time .
how to change the data source __EoT__ Does anyone know how to change the data source itself in TPCH to my own data source in the class of TestHiddenColumns ? Is the dataSource of TPCH produced by the class of TableScanNode ? What should I do to achieve ?
how to change the data source __EoT__ Does anyone know how to change the data source itself in TPCH to my own data source in the class of TestHiddenColumns ? Is the dataSource of TPCH produced by the class of TableScanNode ? What should I do to achieve ?
how to change the data source __EoT__ Does anyone know how to change the data source itself in TPCH to my own data source in the class of TestHiddenColumns ? Is the dataSource of TPCH produced by the class of TableScanNode ? What should I do to achieve ?
Uncategorized error for from_unixtime __EoT__ `` ` Invalid offset minutes 1080 java.lang.IllegalArgumentException com.facebook.presto.spi.type.TimeZoneKey.checkArgument ( TimeZoneKey.java:300 ) com.facebook.presto.spi.type.TimeZoneKey.getTimeZoneKeyForOffset ( TimeZoneKey.java:140 ) com.facebook.presto.spi.type.DateTimeEncoding.packDateTimeWithZone ( DateTimeEncoding.java:41 ) com.facebook.presto.operator.scalar.DateTimeFunctions.fromUnixTime ( DateTimeFunctions.java:149 ) com_facebook_presto_ $ gen_PageProcessor_14559.project_1 ( Unknown Source ) com_facebook_presto_ $ gen_PageProcessor_14559.process ( Unknown Source ) com.facebook.presto.operator.FilterAndProjectOperator.getOutput ( FilterAndProjectOperator.java:111 ) com.facebook.presto.operator.Driver.processInternal ( Driver.java:378 ) com.facebook.presto.operator.Driver.processFor ( Driver.java:301 ) com.facebook.presto.execution.SqlTaskExecution $ DriverSplitRunner.processFor ( SqlTaskExecution.java:622 ) com.facebook.presto.execution.TaskExecutor $ PrioritizedSplitRunner.process ( TaskExecutor.java:534 ) com.facebook.presto.execution.TaskExecutor $ Runner.run ( TaskExecutor.java:670 ) java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) java.lang.Thread.run ( Thread.java:745 ) `` `
Bad error message when lambda expression references column in enclosing query __EoT__ `` ` sql SELECT filter ( a , v - > v > = c ) FROM ( VALUES ( 1 , array [ 1 ] ) ) t ( c , a ) ) `` ` Fails with : `` ` Query 20161229_202516_00011_suq2a failed : No type for symbol field java.lang.IllegalArgumentException : No type for symbol field at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:334 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitSymbolReference ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.SymbolReference.accept ( SymbolReference.java:41 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.getOperator ( ExpressionAnalyzer.java:1126 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:424 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.visitComparisonExpression ( ExpressionAnalyzer.java:255 ) at com.facebook.presto.sql.tree.ComparisonExpression.accept ( ComparisonExpression.java:71 ) at com.facebook.presto.sql.tree.StackableAstVisitor.process ( StackableAstVisitor.java:26 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.process ( ExpressionAnalyzer.java:274 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.analyze ( ExpressionAnalyzer.java:237 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer.access $ 1800 ( ExpressionAnalyzer.java:152 ) at com.facebook.presto.sql.analyzer.ExpressionAnalyzer $ Visitor.lambda $ visitFunctionCall $ 1 ( ExpressionAnalyzer.java:810 ) at com.facebook.presto.sql.analyzer.TypeSignatureProvider.getTypeSignature ( TypeSignatureProvider.java:61 ) at com.facebook.presto.metadata.SignatureBinder $ FunctionSolver.update ( SignatureBinder.java:725 ) at com.facebook.presto.metadata.SignatureBinder.iterativeSolve ( SignatureBinder.java:399 ) at com.facebook.presto.metadata.SignatureBinder.bindVariables ( SignatureBinder.java:114 ) at com.facebook.presto.metadata.SignatureBinder.bind ( SignatureBinder.java:91 ) at com.facebook.presto.metadata.FunctionRegistry.identifyApplicableFunctions ( FunctionRegistry.java:692 ) at
Expose Hive table/field comments via SHOW TABLES and DESCRIBE __EoT__
Planning failure for UNION and GROUP BY __EoT__ The following query : `` ` WITH t1 AS ( SELECT 1 FROM tpch.tiny.nation GROUP BY 1 ) , t2 AS ( SELECT 1 FROM tpch.tiny.nation UNION ALL SELECT 1 FROM tpch.tiny.nation ) SELECT 1 FROM t1 UNION ALL SELECT 1 FROM t2 `` ` Fails during planning with : `` ` java.lang.IllegalStateException : Can not set distribution to ROUND_ROBIN . Already set to Optional [ HASH ] at com.google.common.base.Preconditions.checkState ( Preconditions.java:721 ) at com.facebook.presto.sql.planner.PlanFragmenter $ FragmentProperties.setDistribution ( PlanFragmenter.java:259 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:192 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.lambda $ defaultRewrite $ 0 ( SimplePlanRewriter.java:73 ) at java.util.stream.ReferencePipeline $ 3 $ 1.accept ( ReferencePipeline.java:193 ) at java.util.Spliterators $ ArraySpliterator.forEachRemaining ( Spliterators.java:948 ) at java.util.stream.AbstractPipeline.copyInto ( AbstractPipeline.java:481 ) at java.util.stream.AbstractPipeline.wrapAndCopyInto ( AbstractPipeline.java:471 ) at java.util.stream.ReduceOps $ ReduceOp.evaluateSequential ( ReduceOps.java:708 ) at java.util.stream.AbstractPipeline.evaluate ( AbstractPipeline.java:234 ) at java.util.stream.ReferencePipeline.collect ( ReferencePipeline.java:499 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.defaultRewrite ( SimplePlanRewriter.java:74 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:183 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84
Planning failure for UNION and GROUP BY __EoT__ The following query : `` ` WITH t1 AS ( SELECT 1 FROM tpch.tiny.nation GROUP BY 1 ) , t2 AS ( SELECT 1 FROM tpch.tiny.nation UNION ALL SELECT 1 FROM tpch.tiny.nation ) SELECT 1 FROM t1 UNION ALL SELECT 1 FROM t2 `` ` Fails during planning with : `` ` java.lang.IllegalStateException : Can not set distribution to ROUND_ROBIN . Already set to Optional [ HASH ] at com.google.common.base.Preconditions.checkState ( Preconditions.java:721 ) at com.facebook.presto.sql.planner.PlanFragmenter $ FragmentProperties.setDistribution ( PlanFragmenter.java:259 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:192 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.lambda $ defaultRewrite $ 0 ( SimplePlanRewriter.java:73 ) at java.util.stream.ReferencePipeline $ 3 $ 1.accept ( ReferencePipeline.java:193 ) at java.util.Spliterators $ ArraySpliterator.forEachRemaining ( Spliterators.java:948 ) at java.util.stream.AbstractPipeline.copyInto ( AbstractPipeline.java:481 ) at java.util.stream.AbstractPipeline.wrapAndCopyInto ( AbstractPipeline.java:471 ) at java.util.stream.ReduceOps $ ReduceOp.evaluateSequential ( ReduceOps.java:708 ) at java.util.stream.AbstractPipeline.evaluate ( AbstractPipeline.java:234 ) at java.util.stream.ReferencePipeline.collect ( ReferencePipeline.java:499 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.defaultRewrite ( SimplePlanRewriter.java:74 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:183 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84
Planning failure for UNION and GROUP BY __EoT__ The following query : `` ` WITH t1 AS ( SELECT 1 FROM tpch.tiny.nation GROUP BY 1 ) , t2 AS ( SELECT 1 FROM tpch.tiny.nation UNION ALL SELECT 1 FROM tpch.tiny.nation ) SELECT 1 FROM t1 UNION ALL SELECT 1 FROM t2 `` ` Fails during planning with : `` ` java.lang.IllegalStateException : Can not set distribution to ROUND_ROBIN . Already set to Optional [ HASH ] at com.google.common.base.Preconditions.checkState ( Preconditions.java:721 ) at com.facebook.presto.sql.planner.PlanFragmenter $ FragmentProperties.setDistribution ( PlanFragmenter.java:259 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:192 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.lambda $ defaultRewrite $ 0 ( SimplePlanRewriter.java:73 ) at java.util.stream.ReferencePipeline $ 3 $ 1.accept ( ReferencePipeline.java:193 ) at java.util.Spliterators $ ArraySpliterator.forEachRemaining ( Spliterators.java:948 ) at java.util.stream.AbstractPipeline.copyInto ( AbstractPipeline.java:481 ) at java.util.stream.AbstractPipeline.wrapAndCopyInto ( AbstractPipeline.java:471 ) at java.util.stream.ReduceOps $ ReduceOp.evaluateSequential ( ReduceOps.java:708 ) at java.util.stream.AbstractPipeline.evaluate ( AbstractPipeline.java:234 ) at java.util.stream.ReferencePipeline.collect ( ReferencePipeline.java:499 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.defaultRewrite ( SimplePlanRewriter.java:74 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:183 ) at com.facebook.presto.sql.planner.PlanFragmenter $ Fragmenter.visitExchange ( PlanFragmenter.java:84 ) at com.facebook.presto.sql.planner.plan.ExchangeNode.accept ( ExchangeNode.java:195 ) at com.facebook.presto.sql.planner.plan.SimplePlanRewriter $ RewriteContext.rewrite ( SimplePlanRewriter.java:84
Migrate MergeWindows to iterative optimizer __EoT__
Planning error for correlated queries over Hive connector __EoT__ Running the following query as part of TestHiveDistributedQueries fails with a planning error . It seems to happen during partition pruning . `` ` sql SELECT count ( * ) FROM orders o WHERE EXISTS ( SELECT avg ( l.orderkey ) FROM lineitem l WHERE o.orderkey = l.orderkey GROUP BY l.linenumber ) `` ` `` ` java.lang.IllegalArgumentException : Missing column assignment for orderkey at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:145 ) at com.facebook.presto.sql.planner.LookupSymbolResolver.getValue ( LookupSymbolResolver.java:44 ) at com.facebook.presto.sql.planner.ExpressionInterpreter $ Visitor.visitSymbolReference ( ExpressionInterpreter.java:430 ) at com.facebook.presto.sql.tree.SymbolReference.accept ( SymbolReference.java:38 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.planner.ExpressionInterpreter $ Visitor.visitComparisonExpression ( ExpressionInterpreter.java:744 ) at com.facebook.presto.sql.tree.ComparisonExpression.accept ( ComparisonExpression.java:133 ) at com.facebook.presto.sql.tree.AstVisitor.process ( AstVisitor.java:22 ) at com.facebook.presto.sql.planner.ExpressionInterpreter.optimize ( ExpressionInterpreter.java:254 ) at com.facebook.presto.sql.planner.optimizations.AddExchanges $ Rewriter.shouldPrune ( AddExchanges.java:659 ) at com.facebook.presto.sql.planner.optimizations.AddExchanges $ Rewriter.lambda $ planTableScan $ 4 ( AddExchanges.java:572 ) at com.facebook.presto.hive.HiveMetadata.lambda $ getTableLayouts $ 5 ( HiveMetadata.java:1034 ) at java.util.stream.ReferencePipeline $ 2 $ 1.accept ( ReferencePipeline.java:174 ) at java.util.Iterator.forEachRemaining ( Iterator.java:116 ) at java.util.Spliterators $ IteratorSpliterator.forEachRemaining ( Spliterators.java:1801 ) at java.util.stream.AbstractPipeline.copyInto ( AbstractPipeline.java:481 ) at java.util.stream.AbstractPipeline.wrapAndCopyInto ( AbstractPipeline.java:471 ) at java.util.stream.ReduceOps $ ReduceOp.evaluateSequential ( ReduceOps.java:708 ) at java.util.stream.AbstractPipeline.evaluate ( AbstractPipeline.java:234 ) at java.util.stream.ReferencePipeline.collect ( ReferencePipeline.java:499 ) at com.facebook.presto.hive.HiveMetadata.getTableLayouts ( HiveMetadata.java:1035
SimplifyExpressions and DesugaringOptimizer does n't process all expressions in tree __EoT__ ` SimplifyExpressions ` and ` DesugaringOptimizer ` works only for project , filter and table scan . What about other nodes , e.g : * arguments of aggregation function call * Probably ` ApplyNode ` should also be handled ( it contains assignments ) * join node filter function * values node ? FYI : @ martint @ haozhun
Cassandra collector SELECT error __EoT__ I 've defined the Cassandra catalog like this and Cassandra is running on the default port : ` connector.name=cassandra ` ` cassandra.contact-points=localhost ` In Presto-Cli when I type the command DESCRIBE it works fine but my SELECT command fails because of Thrift connection refused error . ` presto : cmf > DESCRIBE stats ; ` ` Column | Type | Extra | Comment ` ` -- -- -- -- -- -- -- -- + -- -- -- -- -+ -- -- -- -+ -- -- -- -- - ` ` username | varchar | | ` ` a | bigint | | ` ` b | bigint | | ` ` c | bigint | | ` ` d | bigint | | ` ` e | bigint | | ` ` ( 6 rows ) ` ` presto : cmf > SELECT * FROM stats ; ` ` Query 20161226_083409_00044_2cdmr failed : java.io.IOException : Unable to connect to server localhost:9160 ` Trace : ` java.lang.RuntimeException : java.io.IOException : Unable to connect to server localhost:9160 at com.facebook.presto.cassandra.CassandraThriftConnectionFactory.create ( CassandraThriftConnectionFactory.java:56 ) at com.facebook.presto.cassandra.CassandraThriftClient.getRangeMap ( CassandraThriftClient.java:38 ) at com.facebook.presto.cassandra.CassandraTokenSplitManager.getSplits ( CassandraTokenSplitManager.java:65 ) at com.facebook.presto.cassandra.CassandraSplitManager.getSplitsByTokenRange ( CassandraSplitManager.java:99 )
Cassandra collector SELECT error __EoT__ I 've defined the Cassandra catalog like this and Cassandra is running on the default port : ` connector.name=cassandra ` ` cassandra.contact-points=localhost ` In Presto-Cli when I type the command DESCRIBE it works fine but my SELECT command fails because of Thrift connection refused error . ` presto : cmf > DESCRIBE stats ; ` ` Column | Type | Extra | Comment ` ` -- -- -- -- -- -- -- -- + -- -- -- -- -+ -- -- -- -+ -- -- -- -- - ` ` username | varchar | | ` ` a | bigint | | ` ` b | bigint | | ` ` c | bigint | | ` ` d | bigint | | ` ` e | bigint | | ` ` ( 6 rows ) ` ` presto : cmf > SELECT * FROM stats ; ` ` Query 20161226_083409_00044_2cdmr failed : java.io.IOException : Unable to connect to server localhost:9160 ` Trace : ` java.lang.RuntimeException : java.io.IOException : Unable to connect to server localhost:9160 at com.facebook.presto.cassandra.CassandraThriftConnectionFactory.create ( CassandraThriftConnectionFactory.java:56 ) at com.facebook.presto.cassandra.CassandraThriftClient.getRangeMap ( CassandraThriftClient.java:38 ) at com.facebook.presto.cassandra.CassandraTokenSplitManager.getSplits ( CassandraTokenSplitManager.java:65 ) at com.facebook.presto.cassandra.CassandraSplitManager.getSplitsByTokenRange ( CassandraSplitManager.java:99 )
Support for correlated subqueries __EoT__ It relates to subqueries used in IN , EXISTS predicates and scalar subqueries .
Inadequate representation of temporal types in tests __EoT__ There are 3 places in tests where for the sake of comparisons we convert data to `` common type domain '' : * ` com.facebook.presto.testing.MaterializedResult # toJdbcTypes ` * ` com.facebook.presto.tests.TestingPrestoClient # convertToRowValue ` * ` com.facebook.presto.tests.H2QueryRunner # rowMapper ` However , 1. we use wrong type for ` timestamp with time zone ` : ` java.sql.Timestamp ` ( so we ignore time zone in comparisons ) * we also use wrong ` timestamp with time zone ` literals in H2 ... H2 does n't have ` timestamp with time zone ` literals despite what ` com.facebook.presto.tests.AbstractTestQueries # testAtTimeZone ` has to say about that 2. we use wrong type for ` time with time zone ` : ` java.sql.Time ` ( we we ignore timezone/zone offset in comparisons ) 3. using JDBC type domain as `` common type domain '' in tests , makes us to use ` java.sql . { Date , Time , Timestamp } ` which all extend ` java.util.Date ` and all bear limitations and discomfort related to this class . # # # # Proposal A ( fix ` { time , timestamp } with time
Inadequate representation of temporal types in tests __EoT__ There are 3 places in tests where for the sake of comparisons we convert data to `` common type domain '' : * ` com.facebook.presto.testing.MaterializedResult # toJdbcTypes ` * ` com.facebook.presto.tests.TestingPrestoClient # convertToRowValue ` * ` com.facebook.presto.tests.H2QueryRunner # rowMapper ` However , 1. we use wrong type for ` timestamp with time zone ` : ` java.sql.Timestamp ` ( so we ignore time zone in comparisons ) * we also use wrong ` timestamp with time zone ` literals in H2 ... H2 does n't have ` timestamp with time zone ` literals despite what ` com.facebook.presto.tests.AbstractTestQueries # testAtTimeZone ` has to say about that 2. we use wrong type for ` time with time zone ` : ` java.sql.Time ` ( we we ignore timezone/zone offset in comparisons ) 3. using JDBC type domain as `` common type domain '' in tests , makes us to use ` java.sql . { Date , Time , Timestamp } ` which all extend ` java.util.Date ` and all bear limitations and discomfort related to this class . # # # # Proposal A ( fix ` { time , timestamp } with time
100 % CPU utilization in coordinator __EoT__ I 'm seeing 100 % CPU utilization in production Presto installations . I 'm going to guess that this corresponds to the lambda inside ` fireSplitQueueHasSpace ` . `` ` - 94.53 % 0.00 % presto-facebook libjvm.so [ . ] java_start - java_start - 94.50 % JavaThread : :run - JavaThread : :thread_main_inner - 94.50 % thread_entry JavaCalls : :call_virtual JavaCalls : :call_virtual JavaCalls : :call_helper - call_stub - 93.73 % java.lang.Thread.run - 86.96 % java.util.concurrent.ThreadPoolExecutor.runWorker - 86.56 % io.airlift.concurrent.BoundedExecutor $ $ Lambda $ 537.1349237099.run - 84.25 % com.facebook.presto.server.remotetask.HttpRemoteTask $ $ Lambda $ 1202.53918145.run java.util.concurrent.CompletableFuture $ UniWhenComplete.tryFire - sun.reflect.GeneratedMethodAccessor146.invoke - 84.24 % org.glassfish.jersey.message.internal.OutboundJaxrsResponse $ Builder.clearBaseUri + 84.24 % java.util.concurrent.CompletableFuture $ UniWhenComplete.tryFire + 2.26 % com.facebook.presto.metadata.FunctionRegistry $ $ Lambda $ 631.257836220.apply + 6.76 % org.eclipse.jetty.util.thread.QueuedThreadPool $ 2.run `` `
Throw exception when using SESSION commands from JDBC __EoT__ We can consider supporting these in addition to the ` setSessionProperty ( ) ` method on ` PrestoConnection ` , but at the very least , we should throw an exception rather than silently ignoring them .
Planning is very slow on a partitioned table even when disable hive.table-statistics-enabled __EoT__ My query is very simple : ` select * from a tab1 limit 10 ` The problem is **tab1** has very **huge** # of partitions . It needs for about 6 minutes to do the planning before the real execution start . It works fine by adding some strict condition to eliminate partitions . However , when we loose it , it also becomes very slow . The query without any filtering shown in the top is just the worst case . I tried to disable the hive statistics by setting ` SET SESSION hive.statistics_enabled=false ; ` in my presto client connection and also disable is in the etc/catalog/hive.properties ( hive.table-statistics-enabled=false ) . However , still not working . Any ideas ? Thanks ! ! !
IN returns 0 rows when matching bigint to double . __EoT__ Not sure what the exact cause of this issue is , probably something to do with float- > bigint conversion , but this query returns no rows when it should return several : `` ` presto > with table2 ( id2 ) as ( values 1,2,3,4,5,6 ) , table1 ( id1 ) as ( values 1.0,2.0,3.0,4.0,5.0,6.0,7.0,8.0,9.0,10.0 ) select * from table1 where id1 in ( select cast ( id2 as bigint ) from table2 ) ; id1 -- -- - ( 0 rows ) Query 20161212_224323_01561_dvnc7 , FINISHED , 2 nodes Splits : 7 total , 7 done ( 100.00 % ) 0:00 [ 0 rows , 0B ] [ 0 rows/s , 0B/s ] `` `
PreparedStatement # close does not deallocate the prepared statement from session __EoT__ Hi Guys , Here are the versions : - OSX ( does the same on my production environment - Ubuntu ) - Presto JDBC Driver/0.206 - Presto CLI 0.206 - Same for presto server - NiFi : stable 1.7.1 # The actual issue I am using NiFi and its [ DBCPConnectionPool ] ( https : //nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-dbcp-service-nar/1.7.1/org.apache.nifi.dbcp.DBCPConnectionPool/index.html ) to query Presto with the JDBC Driver . It works the first few times . But after a while it does n't work anymore and I get the following error on presto side : `` ` tail -f /usr/local/var/presto/data/var/log/server.log 2018-07-23T17:32:11.402+0200 WARN http-worker-520 org.eclipse.jetty.http.HttpParser Header is too large 8193 > 8192 `` ` The first request send to Presto via NiFi ( found it via mitmproxy ) is : `` ` X-Presto-User : micka X-Presto-Source : presto-jdbc X-Presto-Time-Zone : Europe/Paris X-Presto-Language : en-US X-Presto-Transaction-Id : NONE X-Presto-Client-Capabilities : PATH User-Agent : Presto JDBC Driver/0.206 Content-Type : text/plain ; charset=utf-8 Content-Length : 64 Host : 127.0.0.1 Connection : Keep-Alive Accept-Encoding : gzip -- -RAW BODY -- - PREPARE statement1 FROM SELECT * FROM pg.public.csv_test limit 5 `` ` The seconde one is :
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Presto and RBAC -roadmap ? __EoT__ I know presto does n't support RBAC for authorization . Do you have any plan in the future or is it included in the roadmap ? The RBAC can be a plugin either with Apache Ranger or Apache Sentry or it can have its own model .
Optimize InMemoryHashAggregationBuilder.hashSortedGroupIds ( ) __EoT__ This method boxes one int for every group , which could be very expensive when spilling many groups . It should be optimized to avoid the boxing , but doing a sort on ` int ` s instead of ` Integer ` s
Migrate array less_than operator to new framework __EoT__ See https : //github.com/cberner/presto/commit/b0f94c381f61465779f909ed6592dfcd8fdbd01a for an example of how this is done . The code is in ` ArrayLessThanOperator.java `
Document S3 custom credentials providers __EoT__ We should add documentation for # 5667 . Maybe add a section to the Hive connector docs about S3 and add a sub-section for this .
Document S3 custom credentials providers __EoT__ We should add documentation for # 5667 . Maybe add a section to the Hive connector docs about S3 and add a sub-section for this .
Spill to disk __EoT__ We want presto to handle larger ( or skewed ) queries instead of failing with out of memory error . Generally speaking mechanism should be constructed in such way that it is possible to implement spillers to disks , HDFS and/or to compressed memory and use those spillers in all relevant operators . Currently we want to focus on spilling to disk for aggregation operator for which we have created PoC/spike . You can review google doc here : https : //docs.google.com/document/d/1wtEsEY50uhhNWXNhcfxdIEt8VjiAzsJ4YXfkmiEwmaE/edit ? usp=sharing and the code is here : https : //github.com/prestodb/presto/pull/5142 CC : @ losipiuk @ ilfrin @ kokosing @ mattsfuller @ KBP-TDC
CLI does n't abort query on the server when partial results already shown in pager __EoT__ # # Steps to reproduce 1. in CLI execute `` ` select * from tpch.sf1.orders ; `` ` 2. wait until initial results are already visible ( but query is still running ) 3. press ` q ` to quit pager Now CLI prints `` ` ( query aborted by user ) Query 20170529_130533_00023_9v5js , RUNNING , 1 node Splits : 20 total , 0 done ( 0.00 % ) 0:05 [ 0 rows , 0B ] [ 0 rows/s , 0B/s ] Query aborted by user `` ` # # Observed - Query still running on the server . - Query is only killed by `` Failing abandoned query '' . - if query is killed manually in the UI , it ends immediately , so it looks like CLI fails to deliver kill to the server
GroupBy should n't use equalTo __EoT__ This query fails because ` Type.equalTo ` is used instead of ` is distinct from ` in group by . However , ` is distinct from ` as is implemented today is not an operator . `` ` select x from ( values ( array [ 1 ] , 0 ) , ( array [ 2 ] , 0 ) , ( array [ cast ( null as bigint ) ] , 0 ) ) t ( x , y ) group by x ; `` `
Correctness issue in boolean expression simplification __EoT__ This query should produce one row . It produces two rows with # 4431 . # 4431 was backed out in # 4545 . `` ` SELECT * FROM ( values ( '1234 ' , 'a ' , '2016-01-01 ' ) , ( '1235 ' , 'b ' , '2016-01-01 ' ) , ) z ( app , s , ds ) WHERE ds > '2015-01-01 ' AND ( app like ' % 234 ' OR app like ' % 235 ' OR app like '234 % ' OR app like '235 % ' ) AND ( app like ' % 235 ' OR app like '235 % ' ) `` `
NPE `` Value can not be cast to map ( varchar , varchar ) '' __EoT__ `` ` Caused by : com.facebook.presto.spi.PrestoException : Value can not be cast to map ( varchar , varchar ) at com.facebook.presto.operator.scalar.JsonToMapCast.toMap ( JsonToMapCast.java:94 ) at com.facebook.presto. $ gen.PageFilter_10704.filter ( Unknown Source ) at com.facebook.presto. $ gen.PageFilter_10704.filter ( Unknown Source ) at com.facebook.presto.operator.project.DictionaryAwarePageFilter.filter ( DictionaryAwarePageFilter.java:85 ) at com.facebook.presto.operator.project.PageProcessor.process ( PageProcessor.java:80 ) at com.facebook.presto.operator.ScanFilterAndProjectOperator.processPageSource ( ScanFilterAndProjectOperator.java:283 ) at com.facebook.presto.operator.ScanFilterAndProjectOperator.getOutput ( ScanFilterAndProjectOperator.java:229 ) at com.facebook.presto.operator.Driver.processInternal ( Driver.java:303 ) at com.facebook.presto.operator.Driver.lambda $ processFor $ 6 ( Driver.java:234 ) at com.facebook.presto.operator.Driver.tryWithLock ( Driver.java:541 ) at com.facebook.presto.operator.Driver.processFor ( Driver.java:229 ) at com.facebook.presto.execution.SqlTaskExecution $ DriverSplitRunner.processFor ( SqlTaskExecution.java:623 ) at com.facebook.presto.execution.executor.PrioritizedSplitRunner.process ( PrioritizedSplitRunner.java:162 ) at com.facebook.presto.execution.executor.TaskExecutor $ TaskRunner.run ( TaskExecutor.java:463 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:748 ) Caused by : java.lang.NullPointerException : string is null at java.util.Objects.requireNonNull ( Objects.java:228 ) at io.airlift.slice.Slices.copiedBuffer ( Slices.java:289 ) at io.airlift.slice.Slices.utf8Slice ( Slices.java:297 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObjectHelper ( TypeJsonUtils.java:134 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObjectHelper ( TypeJsonUtils.java:109 ) at com.facebook.presto.type.TypeJsonUtils.stackRepresentationToObject ( TypeJsonUtils.java:74 ) at com.facebook.presto.operator.scalar.JsonToMapCast.toMap ( JsonToMapCast.java:80 ) ... 16 more
PrestoS3FileSystem presto.s3.encryption-materials-provider can not accept StaticEncryptionMaterialsProvider __EoT__ I am running Presto on EMR and trying to use the EMR default KMS encryption provider in Presto but ran into issues . The EMR default one is ` com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` , which extends ` com.amazonaws.services.s3.model.StaticEncryptionMaterialsProvider ` . I set ` presto.s3.encryption-materials-provider=com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` . But ` PrestoS3FileSystem ` is expecting ` com.amazonaws.services.s3.model.EncryptionMaterialsProvider ` . Thus , it throws the following exception . Will be nice if PrestoS3FileSystem can also support the StaticEncryptionMaterialsProvider , that will make people running Presto on EMR with KMS easier . `` ` com.facebook.presto.spi.PrestoException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.HiveSplitSource.propagatePrestoException ( HiveSplitSource.java:145 ) at com.facebook.presto.hive.HiveSplitSource.isFinished ( HiveSplitSource.java:123 ) at com.facebook.presto.split.ConnectorAwareSplitSource.isFinished ( ConnectorAwareSplitSource.java:62 ) at com.facebook.presto.execution.scheduler.SourcePartitionedScheduler.schedule ( SourcePartitionedScheduler.java:114 ) at com.facebook.presto.execution.scheduler.SqlQueryScheduler.schedule ( SqlQueryScheduler.java:332 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:511 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:266 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:745 ) Caused by : java.lang.RuntimeException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.PrestoS3FileSystem.createEncryptionMaterialsProvider ( PrestoS3FileSystem.java:624 ) at com.facebook.presto.hive.PrestoS3FileSystem.createAmazonS3Client ( PrestoS3FileSystem.java:594 ) at com.facebook.presto.hive.PrestoS3FileSystem.initialize ( PrestoS3FileSystem.java:188 ) at org.apache.hadoop.fs.PrestoFileSystemCache.createFileSystem ( PrestoFileSystemCache.java:74 ) at org.apache.hadoop.fs.PrestoFileSystemCache.getInternal ( PrestoFileSystemCache.java:61 ) at org.apache.hadoop.fs.PrestoFileSystemCache.get ( PrestoFileSystemCache.java:43 ) at
PrestoS3FileSystem presto.s3.encryption-materials-provider can not accept StaticEncryptionMaterialsProvider __EoT__ I am running Presto on EMR and trying to use the EMR default KMS encryption provider in Presto but ran into issues . The EMR default one is ` com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` , which extends ` com.amazonaws.services.s3.model.StaticEncryptionMaterialsProvider ` . I set ` presto.s3.encryption-materials-provider=com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` . But ` PrestoS3FileSystem ` is expecting ` com.amazonaws.services.s3.model.EncryptionMaterialsProvider ` . Thus , it throws the following exception . Will be nice if PrestoS3FileSystem can also support the StaticEncryptionMaterialsProvider , that will make people running Presto on EMR with KMS easier . `` ` com.facebook.presto.spi.PrestoException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.HiveSplitSource.propagatePrestoException ( HiveSplitSource.java:145 ) at com.facebook.presto.hive.HiveSplitSource.isFinished ( HiveSplitSource.java:123 ) at com.facebook.presto.split.ConnectorAwareSplitSource.isFinished ( ConnectorAwareSplitSource.java:62 ) at com.facebook.presto.execution.scheduler.SourcePartitionedScheduler.schedule ( SourcePartitionedScheduler.java:114 ) at com.facebook.presto.execution.scheduler.SqlQueryScheduler.schedule ( SqlQueryScheduler.java:332 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:511 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:266 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:745 ) Caused by : java.lang.RuntimeException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.PrestoS3FileSystem.createEncryptionMaterialsProvider ( PrestoS3FileSystem.java:624 ) at com.facebook.presto.hive.PrestoS3FileSystem.createAmazonS3Client ( PrestoS3FileSystem.java:594 ) at com.facebook.presto.hive.PrestoS3FileSystem.initialize ( PrestoS3FileSystem.java:188 ) at org.apache.hadoop.fs.PrestoFileSystemCache.createFileSystem ( PrestoFileSystemCache.java:74 ) at org.apache.hadoop.fs.PrestoFileSystemCache.getInternal ( PrestoFileSystemCache.java:61 ) at org.apache.hadoop.fs.PrestoFileSystemCache.get ( PrestoFileSystemCache.java:43 ) at
PrestoS3FileSystem presto.s3.encryption-materials-provider can not accept StaticEncryptionMaterialsProvider __EoT__ I am running Presto on EMR and trying to use the EMR default KMS encryption provider in Presto but ran into issues . The EMR default one is ` com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` , which extends ` com.amazonaws.services.s3.model.StaticEncryptionMaterialsProvider ` . I set ` presto.s3.encryption-materials-provider=com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider ` . But ` PrestoS3FileSystem ` is expecting ` com.amazonaws.services.s3.model.EncryptionMaterialsProvider ` . Thus , it throws the following exception . Will be nice if PrestoS3FileSystem can also support the StaticEncryptionMaterialsProvider , that will make people running Presto on EMR with KMS easier . `` ` com.facebook.presto.spi.PrestoException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.HiveSplitSource.propagatePrestoException ( HiveSplitSource.java:145 ) at com.facebook.presto.hive.HiveSplitSource.isFinished ( HiveSplitSource.java:123 ) at com.facebook.presto.split.ConnectorAwareSplitSource.isFinished ( ConnectorAwareSplitSource.java:62 ) at com.facebook.presto.execution.scheduler.SourcePartitionedScheduler.schedule ( SourcePartitionedScheduler.java:114 ) at com.facebook.presto.execution.scheduler.SqlQueryScheduler.schedule ( SqlQueryScheduler.java:332 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:511 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:266 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1142 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:617 ) at java.lang.Thread.run ( Thread.java:745 ) Caused by : java.lang.RuntimeException : Invalid encryption materials provider class : com.amazon.ws.emr.hadoop.fs.cse.KMSEncryptionMaterialsProvider at com.facebook.presto.hive.PrestoS3FileSystem.createEncryptionMaterialsProvider ( PrestoS3FileSystem.java:624 ) at com.facebook.presto.hive.PrestoS3FileSystem.createAmazonS3Client ( PrestoS3FileSystem.java:594 ) at com.facebook.presto.hive.PrestoS3FileSystem.initialize ( PrestoS3FileSystem.java:188 ) at org.apache.hadoop.fs.PrestoFileSystemCache.createFileSystem ( PrestoFileSystemCache.java:74 ) at org.apache.hadoop.fs.PrestoFileSystemCache.getInternal ( PrestoFileSystemCache.java:61 ) at org.apache.hadoop.fs.PrestoFileSystemCache.get ( PrestoFileSystemCache.java:43 ) at
Coordinator OOM when a query scans many partitions of a Hive table __EoT__ TupleDomain shows up multiple times in a TableScanNode : * ` .tableLayout.layout.promisedPredicate ` ( bad ; a discrete TupleDomain representing all partitions ) * ` .tableLayout.layout.compactEffectivePredicate ` ( good ; compacted [ here ] ( https : //github.com/prestodb/presto/blob/0.206/presto-hive/src/main/java/com/facebook/presto/hive/HivePartitionManager.java # L167 ) ) * ` .currentConstraint ` ( bad ; a discrete TupleDomain representing all partitions ) The ` TaskUpdateRequest.fragment ` contains the plan of a fragment , which contains the TableScanNode . It is transmitted to each task once . Due to the **two** bad JSONs in the TableScan node , such a plan would be roughly 8.4MB . Take a query with 16 scans of a table with 10000 partitions ( without any partition filter ) in a cluster of 500 workers . It takes up 8.4MB/JSON * 1 JSON/task * 500 workers * 16 stages = 70GB 70GB of JSON is generated in short succession , and handed to Jetty client , which provides little back pressure . This translates into many humongous allocations , and causes significant GC pressure . This could also fill up the heap , leading to OOM . # #
Implement DECIMAL type __EoT__
Comprehensive VARCHAR ( x ) implementation roadmap __EoT__ We did some invistigation of what have to be done in order to support the parametrized VARCHAR type system-wide . In order to support the bounded VARCHAR we need to get done the next things **Support VARCHAR ( x ) in Presto connectors** 1 . JDBC connectors ( MySQL , Postgree ) - Return correct type for the VARCHAR ( x ) columns - Truncate values longer that the type in Metadata - Use the ` Varchar.createUnboundedVarcharType ( ) ` explicitly for unbounded columns 2 . Blackhole connector - Handle VARCHAR ( x ) columns 3 . Cassandra connector - Check if cassandra has bounded VARCHAR columns - Use the ` Varchar.createUnboundedVarcharType ( ) ` explicitly for unbounded columns 4 . Raptor connector - Implement VARCHAR ( x ) support . Now all the columns are unbounded . 5 . TPCH connector - Return VARCHAR columns as bounded VARCHAR ( x ) with the correct length . Airlift modifications might be required . 6 . Hive connector - Varchar ( x ) is already supported . Values longer than ` x ` are already truncated . # 4781 - Elimitate all the
Comprehensive VARCHAR ( x ) implementation roadmap __EoT__ We did some invistigation of what have to be done in order to support the parametrized VARCHAR type system-wide . In order to support the bounded VARCHAR we need to get done the next things **Support VARCHAR ( x ) in Presto connectors** 1 . JDBC connectors ( MySQL , Postgree ) - Return correct type for the VARCHAR ( x ) columns - Truncate values longer that the type in Metadata - Use the ` Varchar.createUnboundedVarcharType ( ) ` explicitly for unbounded columns 2 . Blackhole connector - Handle VARCHAR ( x ) columns 3 . Cassandra connector - Check if cassandra has bounded VARCHAR columns - Use the ` Varchar.createUnboundedVarcharType ( ) ` explicitly for unbounded columns 4 . Raptor connector - Implement VARCHAR ( x ) support . Now all the columns are unbounded . 5 . TPCH connector - Return VARCHAR columns as bounded VARCHAR ( x ) with the correct length . Airlift modifications might be required . 6 . Hive connector - Varchar ( x ) is already supported . Values longer than ` x ` are already truncated . # 4781 - Elimitate all the
Introduce BlockingSource < T > __EoT__ In various contexts there emerges a need for a concept for processing and pipelining pages by different processors . Example use cases : 1 . ` PageProcessor ` 2 . ` ConnectorPageSource ` 3 . ` MergeHashSort ` 4 . Distributed merge sort : https : //github.com/prestodb/presto/pull/8169 # discussion_r124836826 5 . ` MergingPageOutput ` : https : //github.com/prestodb/presto/pull/8691/commits/71a28622a00ac8dca55f7d0fae522d29dcf63604 # diff-0cbdfc8e8152ffdb165dec299bf65020R50 Therefore I propose to introduce interface ` BlockingSource ` ( similar to ` Iterator ` interface ) that would wrap common concepts of those use cases : `` ` public interface BlockingSource < T > { // Will this source produce more elements ? CompletableFuture < Boolean > isFinished ( ) ; // Returns next element . Throws an exception when isFinished ( ) is not completed or false T next ( ) ; } `` ` Advantages of having such interface : 1 . Easy chaining of sources , e.g : ` ConnectorPageSource - > PageProcessor - > MergingPageOutput ` 2 . Possibility to write common library methods ( similar as for iterators ) that would simplify common tasks , e.g : merge sort , concat , etc ... 3 . Possibility to
Executing PickTableLayout before AddExchanges breaks index joins __EoT__ In particular commit e6d963b1b3 causes index joins to fail with ` `` Tuple domain handles must have assigned symbols '' ` .
Executing PickTableLayout before AddExchanges breaks index joins __EoT__ In particular commit e6d963b1b3 causes index joins to fail with ` `` Tuple domain handles must have assigned symbols '' ` .
Executing PickTableLayout before AddExchanges breaks index joins __EoT__ In particular commit e6d963b1b3 causes index joins to fail with ` `` Tuple domain handles must have assigned symbols '' ` .
AnalyzeAggregations does n't correctly verify lambas __EoT__ `` ` presto : sf1 > select transform ( array [ 0 ] , y - > transform ( array [ 42 ] , y - > x + y ) ) from ( values ( 1,2 ) ) t ( x , y ) group by x+y ; Query 20170331_142639_00008_tdkiy failed : Invalid node . Expression dependencies ( [ field ] ) not in source plan output ( [ expr_6 , $ hashvalue ] ) `` ` I will fix it as part ( or prerequisite ) of https : //github.com/prestodb/presto/pull/7315 since it closely related and I want to avoid conflicts . FYI : @ martint @ haozhun
Release notes for 0.213 __EoT__ # # Andrii Rosa - [ x ] all checked - 10-01 12:00:08 ae90638e15 Add StorageFormat # toString method - 10-01 12:01:23 77e071ccfb Return zero statistics when no partitions were selected - 10-10 07:56:05 6aed8d841c Add PlanNodeStatsEstimate # isOutputRowCountUnknown method - 10-10 07:56:05 77e28ae062 Replace constants with static factory methods in PlanNodeCostEstimate - 10-10 07:56:05 9e22447e2a Add SymbolStatsEstimate # unknown ( ) method - 10-10 07:56:05 aa366d9c8b Add PlanNodeStatsEstimate # unknown ( ) method - 10-10 07:56:05 ea64943070 Add SymbolStatsEstimate # zero ( ) method - 10-10 07:56:05 f112441aa3 Reorder methods in PlanNodeCostEstimate - 10-11 09:46:43 0fd8b6d01f Increase partitionTargetPath visibility - 10-11 13:52:53 023d6d808d Remove Optional from the ComparisonStatsCalculator method signatures - 10-11 13:52:53 60c0f9526e Refactor FilterStatsCalculator - 10-11 13:52:53 75e271531c Remove Optional from the FilterStatsCalculator method signatures - 10-11 13:52:53 a9d3b0f736 Refactor ComparisonStatsCalculator - 10-16 08:56:32 2122a01a31 Store query and version in partitions created by tests - 10-16 11:06:57 0f98ae0787 Print real CPU time fraction in explain analyze - 10-16 11:06:57 b481853da9 Print absolute cpu and scheduled timings for operators - 10-16 11:06:57 b4cc9c3c2f Refactor PlanNodeStatsSummarizer - 10-16 11:06:57 e8871d5846 Change CPU and scheduled time display to be more succinct - 10-16 11:06:57 f57ba15e7f
Release notes for 0.213 __EoT__ # # Andrii Rosa - [ x ] all checked - 10-01 12:00:08 ae90638e15 Add StorageFormat # toString method - 10-01 12:01:23 77e071ccfb Return zero statistics when no partitions were selected - 10-10 07:56:05 6aed8d841c Add PlanNodeStatsEstimate # isOutputRowCountUnknown method - 10-10 07:56:05 77e28ae062 Replace constants with static factory methods in PlanNodeCostEstimate - 10-10 07:56:05 9e22447e2a Add SymbolStatsEstimate # unknown ( ) method - 10-10 07:56:05 aa366d9c8b Add PlanNodeStatsEstimate # unknown ( ) method - 10-10 07:56:05 ea64943070 Add SymbolStatsEstimate # zero ( ) method - 10-10 07:56:05 f112441aa3 Reorder methods in PlanNodeCostEstimate - 10-11 09:46:43 0fd8b6d01f Increase partitionTargetPath visibility - 10-11 13:52:53 023d6d808d Remove Optional from the ComparisonStatsCalculator method signatures - 10-11 13:52:53 60c0f9526e Refactor FilterStatsCalculator - 10-11 13:52:53 75e271531c Remove Optional from the FilterStatsCalculator method signatures - 10-11 13:52:53 a9d3b0f736 Refactor ComparisonStatsCalculator - 10-16 08:56:32 2122a01a31 Store query and version in partitions created by tests - 10-16 11:06:57 0f98ae0787 Print real CPU time fraction in explain analyze - 10-16 11:06:57 b481853da9 Print absolute cpu and scheduled timings for operators - 10-16 11:06:57 b4cc9c3c2f Refactor PlanNodeStatsSummarizer - 10-16 11:06:57 e8871d5846 Change CPU and scheduled time display to be more succinct - 10-16 11:06:57 f57ba15e7f
Performance Regressions in Presto 0.206 ? __EoT__ I was recently benchmarking Presto 0.206 vs 0.172 . The tests are run on Parquet datasets stored on S3 . We found that Presto 0.206 was generally faster on smaller datasets , there were some significant performance regressions on larger datasets . The CPU time reported by EXPLAIN ANALYZE was lower in 0.206 than 0.172 , but the wall time was much longer . This possibly indicates either stragglers or some sort of scheduling bug that adversely affects parallelism . Note that the concurrency settings like _task.concurrency_ are the same in both clusters . For instance , on the TPCH scale 1000 dataset , query # 7 slowed down by a factor of 2x in wall time . The query was : `` ` sql SELECT supp_nation , cust_nation , l_year , sum ( volume ) AS revenue FROM ( SELECT n1.n_name AS supp_nation , n2.n_name AS cust_nation , substr ( l_shipdate , 1 , 4 ) AS l_year , l_extendedprice * ( 1 - l_discount ) AS volume FROM lineitem_parq , orders_parq , customer_parq , supplier_parq , nation_parq n1 , nation_parq n2 WHERE s_suppkey = l_suppkey AND o_orderkey = l_orderkey AND c_custkey
Refresh partition information in batches __EoT__ Currently , the partition cache in CachingHiveMetastore is accessed via ` getAll ` , which does a single request to the metastore for each call . Once the entries are in the cache , though , the background refresh task fetches them one at a time . We should update the implementation to batch the background requests to refresh based on time/count and issue a single request to the metastore .
Planning failure when count ( * ) over VALUES with aggregation __EoT__ Queries `` ` select count ( * ) from ( values 1 ) t ( a ) group by a ; select a , count ( * ) from ( values 1 ) t ( a ) group by a ; select count ( * ) from ( values 1 ) t ( a ) group by a+1 ; `` ` all fail in ` PruneCountAggregationOverScalar ` with `` ` java.lang.IllegalArgumentException : Expected row to have 2 values , but row has 1 values at com.google.common.base.Preconditions.checkArgument ( Preconditions.java:263 ) at com.facebook.presto.sql.planner.plan.ValuesNode. < init > ( ValuesNode.java:46 ) at com.facebook.presto.sql.planner.iterative.rule.PruneCountAggregationOverScalar.apply ( PruneCountAggregationOverScalar.java:70 ) at com.facebook.presto.sql.planner.iterative.rule.PruneCountAggregationOverScalar.apply ( PruneCountAggregationOverScalar.java:39 ) at com.facebook.presto.sql.planner.iterative.IterativeOptimizer.transform ( IterativeOptimizer.java:157 ) at com.facebook.presto.sql.planner.iterative.IterativeOptimizer.exploreNode ( IterativeOptimizer.java:130 ) `` `
Inline Throwables.propagate __EoT__ Inline Throwables.propagate as described in https : //github.com/prestodb/presto/pull/7778 FYI : @ kokosing @ electrum
0.192 release notes __EoT__ # # Dain Sundstrom - [ x ] 12-15 17:41:18 9ffb60c93e Add OrcEncoding enum to differentiate between ORC and DWRF - [ x ] 12-15 17:41:18 c255e1efd0 Recalculate stats during write validation - [ x ] 12-15 17:41:18 d2f834f62e Update to latest ORC proto IDL - [ x ] 12-15 17:41:19 ecbd0e87ea Add configuration property to enable ORC writer validation - [ x ] 12-15 17:44:21 c497e55951 Ensure ORC StringStatistics sum does not overflow - [ x ] 12-15 17:44:21 c87f61d891 Add ORC IntegerStatistics sum - [ x ] 12-15 17:44:21 d2c332b243 Move OrcWriter config to OrcWriterOptions - [ x ] 12-15 17:44:21 d5dbb5b449 Add ORC writer JMX stats - [ x ] 12-15 17:44:22 1b2ed788f0 Add Hive configuration for ORC writer options - [ x ] 12-15 17:44:22 8941a72ac3 Align ORC default stripe size with open source Hive - [ x ] 12-15 17:44:22 ba8627aa26 Include dictionary bytes in stripe flush decision - [ x ] 12-18 18:24:52 46c6ed55a6 Write ORC string sum statistic - [ x ] 12-18 18:24:52 a68e4b0a9b Update ORC string stat truncation for new writers - [ x ] 12-19 15:38:45 9f13328b27 Replace CompletableFuture with ListenableFuture in HiveSplitSource - [ x
Presto should not rely on Hive metastore types for custom SerDes . __EoT__ Hive tables by default do n't use column information from metastore to get types ; they use column information provided by the deserializer . Many popular and built-in SerDes are exceptions ; they are enumerated explicitly , see HiveConf.java , SERDESUSINGMETASTOREFORSCHEMA . Hive used to replicate the types that SerDe provides into metastore , however there can be consistency problems with these ; until recently , for large type strings ( e.g . for Avro ) , the metastore columns could be truncated from the original schema ; it 's hypothetically possible for users to change the schema by changing the contents of the external schema file for some serdes ; etc. , so Hive was recently changed to not store the type for such SerDes that it is itself not using . Only the SerDes that rely on metastore for schema store the schema in metastore . We are seeing errors from Presto that seem to indicate Presto is using the column type strings from metastore directly , at least for describe table . Given that types may be inconsistent with SerDe-provided types , they should
Avoid unnecessary exchange and partial aggregation in correlated scalar subquery and correlated IN predicate __EoT__ For a correlated scalar subquery like `` ` select name , ( select max ( name ) from region where regionkey = nation.regionkey ) from nation ; `` ` we currently produce the following plan ( i 'm using ` set session push_aggregation_through_join = false ; ` to have the plan more readable ) `` ` - Output [ name , _col1 ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] _col1 : = max - RemoteExchange [ GATHER ] = > name : varchar ( 25 ) , max : varchar ( 25 ) - Project [ ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] x - Aggregate ( FINAL ) [ name , regionkey , unique ] [ $ hashvalue ] = > [ name : varchar ( 25 ) , regionkey : bigint , unique : bigint , $ hashvalue : bigint , max : varchar ( 25 ) ] x max : = `` max '' ( `` max_17 '' ) x
Avoid unnecessary exchange and partial aggregation in correlated scalar subquery and correlated IN predicate __EoT__ For a correlated scalar subquery like `` ` select name , ( select max ( name ) from region where regionkey = nation.regionkey ) from nation ; `` ` we currently produce the following plan ( i 'm using ` set session push_aggregation_through_join = false ; ` to have the plan more readable ) `` ` - Output [ name , _col1 ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] _col1 : = max - RemoteExchange [ GATHER ] = > name : varchar ( 25 ) , max : varchar ( 25 ) - Project [ ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] x - Aggregate ( FINAL ) [ name , regionkey , unique ] [ $ hashvalue ] = > [ name : varchar ( 25 ) , regionkey : bigint , unique : bigint , $ hashvalue : bigint , max : varchar ( 25 ) ] x max : = `` max '' ( `` max_17 '' ) x
Avoid unnecessary exchange and partial aggregation in correlated scalar subquery and correlated IN predicate __EoT__ For a correlated scalar subquery like `` ` select name , ( select max ( name ) from region where regionkey = nation.regionkey ) from nation ; `` ` we currently produce the following plan ( i 'm using ` set session push_aggregation_through_join = false ; ` to have the plan more readable ) `` ` - Output [ name , _col1 ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] _col1 : = max - RemoteExchange [ GATHER ] = > name : varchar ( 25 ) , max : varchar ( 25 ) - Project [ ] = > [ name : varchar ( 25 ) , max : varchar ( 25 ) ] x - Aggregate ( FINAL ) [ name , regionkey , unique ] [ $ hashvalue ] = > [ name : varchar ( 25 ) , regionkey : bigint , unique : bigint , $ hashvalue : bigint , max : varchar ( 25 ) ] x max : = `` max '' ( `` max_17 '' ) x
Migrate MergeProjections to iterative optimizer __EoT__
Bug in stacked bar chart with one stack __EoT__ The stacked bar chart with only one stack crashes on selecting value and a legend 's labels are n't displayed . ! [ screen shot 2015-03-27 at 9 05 39 pm ] ( https : //cloud.githubusercontent.com/assets/3179252/6875131/755a425e-d4c5-11e4-8c45-97f7d8819f19.png ) `` ` java java.lang.ArrayIndexOutOfBoundsException : length=1 ; index=-1 at com.xxmassdeveloper.mpchartexample.StackedBarActivity.onValueSelected ( StackedBarActivity.java:258 ) at com.github.mikephil.charting.charts.Chart.highlightTouch ( Chart.java:513 ) at com.github.mikephil.charting.listener.BarLineChartTouchListener.performHighlight ( BarLineChartTouchListener.java:286 ) at com.github.mikephil.charting.listener.BarLineChartTouchListener.onSingleTapUp ( BarLineChartTouchListener.java:475 ) at android.view.GestureDetector.onTouchEvent ( GestureDetector.java:588 ) at com.github.mikephil.charting.listener.BarLineChartTouchListener.onTouch ( BarLineChartTouchListener.java:84 ) at com.github.mikephil.charting.charts.BarLineChartBase.onTouchEvent ( BarLineChartBase.java:521 ) at android.view.View.dispatchTouchEvent ( View.java:7246 ) at android.view.ViewGroup.dispatchTransformedTouchEvent ( ViewGroup.java:2168 ) ... `` ` It seems that if the stacked chart has only one stack it treats as a simple bar char . In this case the ` onValueSelected ( ) ` method receives a _Highlight_ object with ` mStackIndex = -1 ` by default and we get ` ArrayIndexOutOfBoundsException ` on ` entry.getVals ( ) [ h.getStackIndex ( ) ] ) ` . For the same reason a ` mStackLabels ` array is ignored and the legend 's labels are n't displayed . You can easily reproduce it by going to the demo ` StackedBarActivity ` and comment out val2 and
linechart fill incomplete when cubic is set __EoT__ I have a chart with 5 datasets . They are ordered so that filled areas block each other . This works great until I set drawCubic to true . Then all the fills are drawn from 0,0 to the entry point . This works : ! [ screen shot 2014-10-28 at 1 52 58 pm ] ( https : //cloud.githubusercontent.com/assets/1617276/4815044/ef1a5434-5ed3-11e4-8579-dd686bad9dd7.png ) This shows the bug ; ! [ screen shot 2014-10-28 at 1 54 39 pm ] ( https : //cloud.githubusercontent.com/assets/1617276/4815057/ff2c23fc-5ed3-11e4-8009-4dd32dd7f900.png )
i want to set all line of grid background are dashed line __EoT__ ! [ qq 20150611110434 ] ( https : //cloud.githubusercontent.com/assets/6296547/8099010/d3195c3c-1029-11e5-97d5-f41c4edba571.png ) 1 : XAxis xAxis = mChart.getXAxis ( ) ; xAxis.enableGridDashedLine ( 10f , 10f , 0f ) ; // xAxis.setTypeface ( tf ) ; xAxis.setTextSize ( 12f ) ; xAxis.setTextColor ( Color.BLACK ) ; xAxis.setDrawGridLines ( true ) ; xAxis.setDrawAxisLine ( true ) ; xAxis.setSpaceBetweenLabels ( 1 ) ; xAxis.setPosition ( XAxisPosition.BOTTOM ) ; my case like `` A '' at picture , how can i set it like `` B '' at picture ? ( all line of grid background are dashed line ) i use this code , but it ca n't show me the dashed line of vertical direction , why ?
LineChart fill rendering not working for API < 18 __EoT__ Just checked with the emulator , https : //github.com/PhilJay/MPAndroidChart/pull/1064 by @ tinsukE works fine for Android API 18 and higher but not for lower versions . It may be related to canvas clipPath not working for hardware accelerated views in API 11-17 . Maybe disable hardware acceleration for those or find another way to also solve the `` Path too large to be rendered '' problem .
Problem selecting data on Bubble/Scatter chart __EoT__ I have a set of Bubble entries that subset of them share the same XIndex , this is because my data sets are continuos numbers , so in order to add them to the charting class I created a custom set of X values using a simple step logic . Now the problem is when I try to select a data point from the same data set that are contained on a particular XIndex , only the first one is selected ... . Can anyone tell me what classes can I look to see If I can add this feature ? Thanks in advance .
stackingBehavior NEVER hide all buttons instead of ellipsize __EoT__ # # # # # # Include the following : - Material Dialogs version : ` 0.9.5.0 ` - Device OS version : ` 6.0.1 , 8.1 ` - Device Manufacturer : ` Sony , Google ` - Device Name : ` Z3 Compact , AVD ` Also , please wrap Java with correct syntax highlighting . `` ` java return new MaterialDialog.Builder ( context ) .customView ( mCalculatorView , false ) .positiveText ( R.string.insert ) .negativeText ( R.string.cancel ) .neutralText ( R.string.clear ) .autoDismiss ( false ) .backgroundColorRes ( R.color.uni_form_cards ) .onPositive ( ( dialog , which ) - > { ... } ) .stackingBehavior ( StackingBehavior.NEVER ) .onNeutral ( ( dialog , which ) - > mCalculatorView.clear ( ) ) .onNegative ( ( dialog , which ) - > dialog.dismiss ( ) ) .show ( ) ; `` ` # # # # # # Reproduction Steps 1. text in resources are too long to show on one line in this language , so just use long text as placeholders 2. buttons will be completely missing , not on single line as ellipsized # # # # # #
JSON Reader AssertionError when doInBackground ( Android 7 , 8 ) __EoT__ Hi guys , in latest Lottie Android version ( 2.5.0 ) we are having several crashes at doInBackground ( ) method . This crash is only happening on Android 7 and 8 versions . Here is our animation preloading code : `` ` class LottieAnimations { companion object { @ JvmStatic var willyWaiting : LottieAnimation ? = null var specialBonusCollectCoins : LottieAnimation ? = null var specialBonusCollectGems : LottieAnimation ? = null @ JvmStatic fun load ( context : Context ) { fromAssetFileName ( context , `` animation/waiting_lottie/data.json '' ) { it ? .let { willyWaiting = LottieAnimation ( it , `` animation/waiting_lottie/images '' ) } } fromAssetFileName ( context , `` animation/special_bonus_collect_coins/data.json '' ) { it ? .let { specialBonusCollectCoins = LottieAnimation ( it , `` animation/special_bonus_collect_coins/images '' ) } } fromAssetFileName ( context , `` animation/special_bonus_collect_gems/data.json '' ) { it ? .let { specialBonusCollectGems = LottieAnimation ( it , `` animation/special_bonus_collect_gems/images '' ) } } } } } `` ` Here is the StackTrace : > OS Version : 8.0.0 > Device : Xperia X > RAM Free : 38.5 % > Disk Free : 60.8
OutOfMemoryError when loading a ludicrously huge JSON animation on a Galaxy S3 __EoT__ JSON is 1.5 MB uncompressed , 94 KB zipped . Lottie should probably switch from JSON to Flatbuffers . I 'll open a separate issue for that .
Letters disappears on changing the screen orientation in FontActivity of Sample App __EoT__ Currently when the screen orientation is changed then the letters written disappears . Expected that letters should not disappears on changing the orientation . : )
Create a pluggable JSON parsing module __EoT__ Ideally there would be 2 ( or n ) optional json parsing modules . 1 would use raw json objects so there would be no transitive dependencies The other would use jackson or another more performant json parsing library .
Create a pluggable JSON parsing module __EoT__ Ideally there would be 2 ( or n ) optional json parsing modules . 1 would use raw json objects so there would be no transitive dependencies The other would use jackson or another more performant json parsing library .
setProgress going to wrong frame when startFrame > 0 __EoT__ This is happening after # 624. https : //github.com/airbnb/lottie-android/blob/05df617dc2c1656b0db2dc5f24f2bde0eb4c2c8c/lottie/src/main/java/com/airbnb/lottie/LottieDrawable.java # L514is not considering the startFrame .
Trying to use LottieDrawable : animation does n't start __EoT__ Hi ! I just tried Lottie and I could make ` LottieAnimationView ` work with no problems . However , I can not make ` LottieDrawable ` work , and I wonder what I am doing wrong . Here is what I do : `` ` LottieDrawable lottieDrawable = new LottieDrawable ( ) ; mMainBinding.imgLottie.setLayerType ( View.LAYER_TYPE_SOFTWARE , null ) ; mMainBinding.imgLottie.setImageDrawable ( lottieDrawable ) ; LottieComposition.fromAssetFileName ( this , `` TwitterHeart.json '' , ( composition ) - > { lottieDrawable.setComposition ( composition ) ; lottieDrawable.loop ( true ) ; lottieDrawable.playAnimation ( ) ; } ) ; `` ` The result is I only see the first frame - the animation does n't start . I looked at the source of ` LottieAnimationView ` to compare , and did n't see any major difference . Any idea ?
Bug : in docs , it says the SDK can `` Download animations from the network '' __EoT__ This : http : //airbnb.io/lottie/android/avd.html ! [ image ] ( https : //user-images.githubusercontent.com/5357526/43703540-b22a49fa-9965-11e8-9b2e-09a613de9558.png ) This is incorrect , as is shown here : https : //github.com/airbnb/lottie-android/issues/338 You ca n't set a url just in a single line . Some work need to be done first .
Make LottieDrawable implement the Animatable interface __EoT__ This would make it compatible with existing code that only understands how to work with Animatable objects .
Add support for text __EoT__ Hello . Can Lottie display text ? ? [ single_buton.txt ] ( https : //github.com/airbnb/lottie-android/files/813581/single_buton.txt ) I have button with text `` LET 'S DO IT '' and text does n't display .
is it possible to use lottie with androidx support library ? __EoT__ i use androidx support library and this is my app build.gradle : ` apply plugin : 'com.android.application' apply plugin : 'kotlin-android' apply plugin : 'kotlin-android-extensions' android { compileSdkVersion 28 defaultConfig { applicationId `` me.semycolon.infotorbat '' minSdkVersion 19 targetSdkVersion 28 versionCode 1 versionName `` 1.0 '' testInstrumentationRunner `` android.support.test.runner.AndroidJUnitRunner '' } buildTypes { release { minifyEnabled false proguardFiles getDefaultProguardFile ( 'proguard-android.txt ' ) , 'proguard-rules.pro' } } buildToolsVersion '28.0.2' compileOptions { sourceCompatibility JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 } } dependencies { implementation fileTree ( include : [ '*.jar ' ] , dir : 'libs ' ) implementation `` org.jetbrains.kotlin : kotlin-stdlib-jdk7 : $ kotlin_version '' // for using androidX commented // implementation 'com.android.support.constraint : constraint-layout:1.1.2' // implementation 'com.android.support : appcompat-v7:28.0.0-rc01' // testImplementation 'junit : junit:4.12' // androidTestImplementation 'com.android.support.test : runner:1.0.2' // androidTestImplementation 'com.android.support.test.espresso : espresso-core:3.0.2' implementation 'androidx.appcompat : appcompat:1.0.0-rc01' implementation 'androidx.recyclerview : recyclerview:1.0.0-rc01' implementation 'androidx.annotation : annotation:1.0.0-rc01' implementation 'com.google.android.material : material:1.0.0-rc01' implementation 'androidx.constraintlayout : constraintlayout:1.1.2' implementation 'androidx.lifecycle : lifecycle-extensions:2.0.0-rc01' androidTestImplementation 'androidx.test : runner:1.1.0-alpha4' androidTestImplementation 'androidx.test.espresso : espresso-core:3.1.0-alpha4' //material-drawer implementation 'com.mikepenz : materialdrawer:6.1.0-rc01' //the core iconcis library ( without any widgets ) implementation 'com.mikepenz : iconics-core:3.1.0-rc01' //fonts implementation 'com.mikepenz : fontawesome-typeface:5.0.13.0 @
Animation is rendered incorrectly on Android __EoT__ I am using Lottie 2.2.5 and this animation [ anim.json.zip ] ( https : //github.com/airbnb/lottie-android/files/1332671/anim.json.zip ) is n't rendered properly . When opened on iOS or in web player , the mask animation follows the scanner line , but in Lottie Android app , the mask animation is twice as fast . Is there anything we can do with the animation to fix it or is the problem in Lottie ? I can send you the original AEP file if needed .
minSDK still seems to be 16 __EoT__ Hi , I saw that since version 2.5.0 Lottie supports minSDK version of 14 . When I tried building my app with 2.5.0-rc1 , it worked well with minSDK of 14 , but as I upgraded Lottie to stable version 2.5.0 , it says that Lottie supports minSDK of 16 . Is the change rollbacked , or am I doing something wrong ? Thanks
minSDK still seems to be 16 __EoT__ Hi , I saw that since version 2.5.0 Lottie supports minSDK version of 14 . When I tried building my app with 2.5.0-rc1 , it worked well with minSDK of 14 , but as I upgraded Lottie to stable version 2.5.0 , it says that Lottie supports minSDK of 16 . Is the change rollbacked , or am I doing something wrong ? Thanks
setMinAndMaxProgress uses a different method of calculating frame than setMinProgress and setMaxProgress __EoT__ Currently ` LottieDrawable # setMinAndMaxProgress ` use the broken version of calculating the the frame which was fixed in https : //github.com/airbnb/lottie-android/pull/754 . Update ` LottieDrawable # setMinAndMaxProgress ` to use lerp based method method .
[ box2d ] [ gwt ] World.getFixtures ( ) missing from sources __EoT__ When attempting to compile , the box2dWorld.getFixtures ( ) method does not compile . It asks for source . I checked the [ gwt source file ] ( https : //github.com/libgdx/libgdx/blob/master/extensions/gdx-box2d/gdx-box2d-gwt/src/com/badlogic/gdx/physics/box2d/gwt/emu/com/badlogic/gdx/physics/box2d/World.java ) and the method is missing # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ x ] HTML/GWT - [ ] Windows - [ ] Linux - [ ] MacOS
Lwjgl backend does n't support OpenGL ES 3.2+ __EoT__ Creating a LwjglApplication with useGL30 set to true still does n't create an OpenGL ES 3 context . Additionally , Gdx.gl30 is null . The issue seems to be [ here ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L166 ) . context should be passed in to Display.create along with the PixelFormat . [ This line ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L241 ) should also check whether the major version is 3 and set gl30 accordingly .
Lwjgl backend does n't support OpenGL ES 3.2+ __EoT__ Creating a LwjglApplication with useGL30 set to true still does n't create an OpenGL ES 3 context . Additionally , Gdx.gl30 is null . The issue seems to be [ here ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L166 ) . context should be passed in to Display.create along with the PixelFormat . [ This line ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L241 ) should also check whether the major version is 3 and set gl30 accordingly .
Lwjgl backend does n't support OpenGL ES 3.2+ __EoT__ Creating a LwjglApplication with useGL30 set to true still does n't create an OpenGL ES 3 context . Additionally , Gdx.gl30 is null . The issue seems to be [ here ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L166 ) . context should be passed in to Display.create along with the PixelFormat . [ This line ] ( https : //github.com/libgdx/libgdx/blob/master/backends/gdx-backend-lwjgl/src/com/badlogic/gdx/backends/lwjgl/LwjglGraphics.java # L241 ) should also check whether the major version is 3 and set gl30 accordingly .
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
[ Android ] Sound issue __EoT__ # # # # Issue details On my Android 7.0 smartphone some sounds are gone at play mission time . Usually it happened on looped `` engine '' sound . But also gone other random sounds like shot , explosion , collision and so on . On Android 4.4 all works fine . I solved this problem by writing my own AndroidSound class that use new way to initialize SoundPool . And also increase priority for looping sounds . I think it should be applied for all , so I suggest you to fix this : **gdx.backends.android.AndroidAudio.java constructor must be updated by this way : ** `` ` public AndroidAudio ( Context context , AndroidApplicationConfiguration config ) { if ( ! config.disableAudio ) { if ( Build.VERSION.SDK_INT > = Build.VERSION_CODES.LOLLIPOP ) { AudioAttributes audioAttrib = new AudioAttributes.Builder ( ) .setUsage ( AudioAttributes.USAGE_GAME ) .setContentType ( AudioAttributes.CONTENT_TYPE_SONIFICATION ) .build ( ) ; soundPool = new SoundPool.Builder ( ) .setAudioAttributes ( audioAttrib ) .setMaxStreams ( config.maxSimultaneousSounds ) .build ( ) ; } else { soundPool = new SoundPool ( config.maxSimultaneousSounds , AudioManager.STREAM_MUSIC , 0 ) ; // srcQuality : the sample-rate converter quality . Currently has
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
build.gradle version number __EoT__ # # # # Issue details The build.gradle seems to be on version ` 1.9.5-SNAPSHOT ` . This seems incorrect to me as the current version in this repo is something like 1.9.9-SNAPSHOT or 1.9.8 . Am I missing something ? Is there a reason this number is lagging behind or is it just something that has been forgotten ?
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
SelectBox Javadoc is wrong __EoT__ [ ` SelectBox.getItems ( ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L164 ) proclaims that ` `` If modified , { @ link # setItems ( Array ) } must be called to reflect the changes . `` ` , however this ca n't ever work , because [ ` setItems ( Array ) ` ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/scenes/scene2d/ui/SelectBox.java # L148 ) clears ` items ` , which clears any modification done on ` getItems ( ) ` ` Array ` . I do n't have time to look into this right now , but I believe that this pattern of ` setItems ( getItems ( ) ) ` is already present somewhere in libGDX and I am in favor of keeping it , because it can be useful ( rather than fixing docs ) . When fixing , scene2d should be searched whether this error appears somewhere else as well , as it looks like a copy-paste error .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
[ Skins ] Not possible to use superclass as parent for cascading styles __EoT__ # # # # Issue details Recently the possibility to use cascading styles was introduced to Skins . However , it is not possible to use superclasses as parent styles : # # # # Reproduction steps/code `` ` text { ButtonStyle : { parent : { // ... } } , TextButtonStyle : { child : { parent : parent // error } } } `` ` # # # # Version of LibGDX and/or relevant dependencies 1.9.9 # # # # copyFields ( ) This is because [ Json : :copyFields ( ) ] ( https : //github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/utils/Json.java # L1058 ) ( also new ) requires all fields of the target class to be present in the source class , which generally is n't the case if the source class is a superclass of the target class . https : //github.com/libgdx/libgdx/blob/d72e375d6f1ba8c8f2cf22038b7a36a1ea892690/gdx/src/com/badlogic/gdx/utils/Json.java # L1058-L1073 I assume that ` copyFields ( ) ` is actually supposed to do it the other way around : all fields in the source class should be present in the target class .
`` unknown error 36059 '' when instantiating FrameBufferCubemap __EoT__ When attempting to construct a simple FrameBufferCubemap on OS/X Yosemite ( 10.10.5 ) , using LibGDX 1.9.4 stable on the LWJGL/Desktop backend , I 'm getting the error below . I have not attempted to reproduce on other platforms . OpenGL appears to return an error status from ` glCheckFramebufferStatus ` if it 's queried before ` glBindFramebuffer ` . In the current state of GLFrameBuffer the status is queried before the FB bind , resulting in an error code . This appears to be regression on https : //github.com/libgdx/libgdx/issues/3227 . See also the original fix commit at : https : //github.com/libgdx/libgdx/pull/3233 . Stack trace : `` ` Exception in thread `` LWJGL Application '' java.lang.IllegalStateException : frame buffer could n't be constructed : unknown error 36059 at com.badlogic.gdx.graphics.glutils.GLFrameBuffer.build ( GLFrameBuffer.java:230 ) at com.badlogic.gdx.graphics.glutils.GLFrameBuffer. < init > ( GLFrameBuffer.java:118 ) at com.badlogic.gdx.graphics.glutils.FrameBufferCubemap. < init > ( FrameBufferCubemap.java:88 ) at com.badlogic.gdx.graphics.glutils.FrameBufferCubemap. < init > ( FrameBufferCubemap.java:75 ) at xyz.jmullin.fbcube.error.desktop.FbCubeError.create ( FbCubeError.java:11 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop ( LwjglApplication.java:147 ) at com.badlogic.gdx.backends.lwjgl.LwjglApplication $ 1.run ( LwjglApplication.java:124 ) `` ` Minimal application to reproduce : `` ` import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx . * ; import
Multi-OS Engine build failed in Android Studio __EoT__ # # # # Issue details I 'm recently getting an error building a Multi-OS engine project using LibGDX in Android Studio . This is the output from the Multi-OS Engine console : ERROR : Failed to upgradeonly on device , Unknown error Command failed : [ /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/bin/java , -Dfile.encoding=UTF-8 , -Duser.country=US , -Duser.language=en , -Duser.variant , -jar , /Users/camilo/.moe/moe-sdk-1.3.0-beta-2/tools/ios-device.jar , -- app-path=/path/to/my/project/ios-moe/build/moe/xcodebuild/Debug-iphoneos/MyApp.app , -- wait-for-device , -- launch-arg=-args , -- launch-arg= -- debug , -- install-mode=upgradeonly ] FAILURE : Build failed with an exception . * What went wrong : Execution failed for task ' : ios-moe : moeLaunch ' . > Process exited with non-zero exit value * Try : : ios-moe : moeLaunch FAILED Run with -- stacktrace option to get the stack trace . Run with -- info or -- debug option to get more log output . BUILD FAILED # # # # Reproduction steps/code I tried to solve the problem removing Android Studio and all the related files . I installed everything from zero . Then I installed Multi-OS Engine Plugin . Then I generated a new project using gdx-setup . I imported using gradle and
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
Labels do n't wrap in the correct position with markup enabled __EoT__ # # # # Issue details If markup is used to changed the colour of a word that is at a wrap boundary then the word will not wrap correctly and the label will spill out of the bounds of the table that it is contained in . This increases the width of the layout and causes text to be cut off or drawn in the wrong place . I 've tested combinations of opening and closing the colour markup as well as different colours and the consistently reproducible thing is that if the word after the colour change needed to wrap then it will not . ( even with a space between the markup and the word ) . # # # # Reproduction steps/code Note in the example below if the [ GREEN ] tag is moved one word before or after its current position then all the text will wrap correctly and fit within the table as it should . `` ` public class TextWrapping extends ApplicationAdapter { Stage activeStage ; @ Override public void create ( ) { activeStage = new Stage ( new
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
PolygonSprite.java setRegion bug __EoT__ I am trying to execute this piece of code in my game . ` public void draw ( Batch batch , float parentAlpha ) { PolygonRegion polyReg = new PolygonRegion ( connectorTextureRegion , getVertices ( ) , getTriangles ( ) ) ; polygonSprite.setRegion ( polyReg ) ; polygonSprite.draw ( ( PolygonSpriteBatch ) batch ) ; } ` In general , it works well but sometimes I 'm getting an ArrayIndexOutOfBounds exception caused by the setRegion line . If I dive into the methods code , it fails at the first line in the for loop . public void setRegion ( PolygonRegion region ) { this.region = region ; float [ ] regionVertices = region.vertices ; float [ ] textureCoords = region.textureCoords ; if ( vertices == null || regionVertices.length ! = vertices.length ) vertices = new float [ ( regionVertices.length / 2 ) * 5 ] ; // Set the color and UVs in this sprite 's vertices . float floatColor = color.toFloatBits ( ) ; float [ ] vertices = this.vertices ; for ( int i = 0 , v = 2 , n = regionVertices.length ; i < n ; i += 2 ,
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
Request : Switch to lwjgl version 3.1.4 for next release __EoT__ Current libGDX version is using 3.1.3 . Version 3.1.4 of lwjgl supposedly fixes an important issue that affects all windows ( 10 ) users with UI scaling > 100 % ( which is probably a lot , considering high density displays are commonplace ) . This should fix the following libGDX issue : # 3813 Here 's the underlying lwjgl issue , closed via the 3.1.4 release : https : //github.com/LWJGL/lwjgl3/issues/252 I 'm happy to test a snapshot release of libgdx , if you make one !
LWJGL3 backend expose window hint auto_iconify __EoT__ I am trying to have multiple fullscreen windows on multiple displays . In GLFW , it seems the default behavior for fullscreen windows is to minimize itself when input focus is lost , for instance by clicking on another monitor 's desktop . Which breaks the ability to have multiple fullscreen windows ? GLFW documentation shows a window hint to disable this behavior : GLFW_AUTO_ICONIFY Would it be possible to add a parameter to lwjgl3 application configuration to expose this ?
LWJGL3 backend expose window hint auto_iconify __EoT__ I am trying to have multiple fullscreen windows on multiple displays . In GLFW , it seems the default behavior for fullscreen windows is to minimize itself when input focus is lost , for instance by clicking on another monitor 's desktop . Which breaks the ability to have multiple fullscreen windows ? GLFW documentation shows a window hint to disable this behavior : GLFW_AUTO_ICONIFY Would it be possible to add a parameter to lwjgl3 application configuration to expose this ?
LWJGL3 backend expose window hint auto_iconify __EoT__ I am trying to have multiple fullscreen windows on multiple displays . In GLFW , it seems the default behavior for fullscreen windows is to minimize itself when input focus is lost , for instance by clicking on another monitor 's desktop . Which breaks the ability to have multiple fullscreen windows ? GLFW documentation shows a window hint to disable this behavior : GLFW_AUTO_ICONIFY Would it be possible to add a parameter to lwjgl3 application configuration to expose this ?
LWJGL3 backend expose window hint auto_iconify __EoT__ I am trying to have multiple fullscreen windows on multiple displays . In GLFW , it seems the default behavior for fullscreen windows is to minimize itself when input focus is lost , for instance by clicking on another monitor 's desktop . Which breaks the ability to have multiple fullscreen windows ? GLFW documentation shows a window hint to disable this behavior : GLFW_AUTO_ICONIFY Would it be possible to add a parameter to lwjgl3 application configuration to expose this ?
Intersector duplicating vertices when overlapping polygon __EoT__ Intersector : ` public static boolean intersectPolygons ( Polygon p1 , Polygon p2 , Polygon overlap ) ` method is working presumably faulty for a specific scenario when intersecting polygons have exactly intersecting vertices , as a result this vertices get duplicated . Here is an example : ! [ polytestdiag ] ( https : //cloud.githubusercontent.com/assets/2115888/12695409/b3a08cbe-c766-11e5-8f26-125b3b726409.png ) The resulting overlap polygon has A and B vertices duplicated , resulting in a 10 size array of floats .
Bitmapfont.draw : wrap text drawn at the wrong position __EoT__ # # # # Issue details Wrap text is drawn at the wrong position if align is set to center : ! [ image ] ( https : //user-images.githubusercontent.com/6698758/38073018-6f8e5944-3329-11e8-8e03-d5816725b888.png ) Maybe this is releated to the issues # 4425 , # 4970 or # 4192 , but I am not sure . I noticed also some other issues : - dots of the german umlauts ( e.g . `` Ä '' , `` Ü '' ) are drawn outside the bounds for some fonts - the lower part of some chars ( e.g . `` p '' , `` q '' , `` g '' ) are drawn outside the bounds for all fonts ( see picture ) # # # # Reproduction steps/code `` ` public class MyGdxGame extends ApplicationAdapter { SpriteBatch batch ; Texture img ; TextureRegion texReg ; BitmapFont font ; GlyphLayout layout ; @ Override public void create ( ) { batch = new SpriteBatch ( ) ; layout = new GlyphLayout ( ) ; img = new Texture ( `` blank.png '' ) ; texReg = new TextureRegion ( img ) ; font = new
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Pointer not always removed from 'touched ' Array in AndroidInput __EoT__ # # # # Issue details This issue can be reproduced by executing the movements below , but I 've also experienced this with far less complex movements . ( but not without using multiple fingers yet ) Basically , sometimes the pointers do n't seem to be properly removed from the touched Array in com.badlogic.gdx.backends.android.AndroidInput , resulting in Gdx.input.isTouched ( ) always returning true and the pointer id affected being stuck in the Array . This is n't an issue for projects that only detect a input once . I am however storing all touches that happened in certain areas in hashsets and check if the pointer id has been released by now before removing it from the hashset . This was an attempt for a workaround , I 've been using the touchUp method before . Pointers also get stuck on buttons , which will appear to be always hovered over . **Edit** : I have now noticed the following message in the console ; > 04-26 18:07:01.551 16133-16133/bug.report D/ViewRootImpl : [ ViewRootImpl ] action cancel - 1 , eccen:1.4761904 # # # # Reproduction steps/code I
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
Color markup causes text to be display in wrong position , and does not escape properly __EoT__ # # # # Issue details When using color markup , each subsequent block after a colored block is offset to the left compared to unstyled text . Additionally , the markup escape code ` [ [ ` does not correctly cause the markup to be ignored if a closing bracket follows after a word which happens to be a valid color . ! [ libgdxcolormarkup ] ( https : //cloud.githubusercontent.com/assets/1232124/16882909/68a9b026-4a8f-11e6-9150-241e3017b3b8.png ) # # # # Reproduction steps/code `` ` java import com.badlogic.gdx.ApplicationAdapter ; import com.badlogic.gdx.Gdx ; import com.badlogic.gdx.backends.lwjgl.LwjglApplication ; import com.badlogic.gdx.graphics.Color ; import com.badlogic.gdx.graphics.GL20 ; import com.badlogic.gdx.graphics.g2d.BitmapFont ; import com.badlogic.gdx.graphics.g2d.SpriteBatch ; public class ColorRenderingMain extends ApplicationAdapter { static final String TEXT_PLAIN = `` AAA BBB CCC DDD EEE '' ; static final String TEXT_COLOR = `` [ RED ] AAA [ BLUE ] BBB [ RED ] CCC [ BLUE ] DDD [ RED ] EEE '' ; static final String TEXT_ESCAPE = `` [ [ ORANGE ] Escaped , but is colored '' ; SpriteBatch batch ; BitmapFont font ; public void create ( ) { batch = new SpriteBatch (
[ BUG ] [ LWJGL3 ] GLProfiler stats not counting after GLProfiler.reset ( ) __EoT__ # # # # Issue details with the lwjgl3 backend , at init running GLProfiler.enable ( ) and then in render , do a batch draw , print counters and call GLProfiler.reset . counters will not update after that , ONLY on lwjgl3 backend . on lwjgl2 backend it works fine . # # # # Reproduction steps/code * use lwjgl3 backend * at init call GLProfiler.enable ( ) * render anything ( spritebatch is fine ) * print the GLProfiler.drawCalls counter , for example * GLProfiler.reset ( ) * counters never go beyond 0 anymore , after that reset a workaround for this i found is after the reset to call GLProfiler.enable ( ) -- obviously this is n't meant to be called , but it fixes it . i 've no idea how lwjgl3 manages to affect this sort of thing , as it is just a rather simple interception of gl calls , which all go through libgdx first . `` ` public class GLProfilerTestCaseIssue extends ApplicationAdapter { SpriteBatch batch ; Texture texture ; public void create ( ) { GLProfiler.enable (
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Padded fonts have inconsistent space calculation around [ ] tags in marked up strings . __EoT__ Please merge # 3432 and other relevant issues to this : After testing with padded and not-padded fonts it is clear that padding is bugged . Tested with the built-in : data\arial-32.fnt and data\arial-32-pad.fnt for contrast ( and to eliminate issues with my personal assets that I wrongly uploaded in # 3432 ) . The top pair of draws are the padded font , the second pair has no padding and is displayed correctly . If the last glyphrun ended with a space , the location to start the new glyphrun ( for the next colored text section ) does n't compute the correct offset taking into account pad left & pad right . The same happens when closing a tag since a new run starts with the previous color . Edit : Note that it 's not about glyphs or spaces at all , the text from the next run has wrong offset and overlaps the previous text and the total width of the text element is incorrect . Edit 2 : Note how the 4rth line is also different than the 3d
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Application 's pause ( ) method is called before initialization is done on GWT __EoT__ # # # # Issue details On GWT , libGDX preloads all assets before initializing the game . Also on GWT , the game is paused when the web browser tab is hidden by changing to view another tab . When the tab is changed while the libGDX GWT application is still preloading - users do this when they see that loading will take some time - , the ` pause ( ) ` method on the game 's main ` Game ` class is called *before* ` Gdx.app ` variable is initialized and before the ` create ( ) ` method was called . This should not happen according to the [ documented lifecycle ] ( https : //github.com/libgdx/libgdx/wiki/The-life-cycle ) . # # # # Reproduction steps/code Place some huge assets in the asset directory , and add the following lines to your main game 's class : public class Tralala extends Game { @ Override public void create ( ) { ... . Gdx.app.log ( `` TEST '' , `` Created '' ) ; } @ Override public void pause ( ) {
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
Expose ALSource state on iOS __EoT__ I 'd like to be able to access the state information on ALSource on iOS . Does this change only require the following code to bind to the native property or is there something else needed ? `` ` java @ Property ( selector = `` state '' ) public native int getState ( ) ; `` `
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
*.wav music not played in deployed .jar __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details I built a very simple prototype of a game . I have some .ogg / .wav / .mp3 files for audio . During debugging in IDEA everything is fine . When the application is deployed only .ogg and .mp3 music files are played . # # # # Reproduction steps/code Music menuMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/menu_screen_loop.wav '' ) ) ; menuMusic.play ( ) ; < -- -- - this does not work Music gameMusic = Gdx.audio.newMusic ( Gdx.files.internal ( `` audio/DST-DustLoop.mp3 '' ) ) ; gameMusic.play ( ) ; < -- -- -- this does work . https : //github.com/Naxos84/TestRepo.git # # # # Version of LibGDX and/or relevant dependencies Libgdx 1.9.8 Gradle Wrapper : https\ : //services.gradle.org/distributions/gradle-2.14.1-bin.zip # # # # Stacktrace `` ` java No Stacktrace available `` ` # # # # Please select the affected platforms - [ ] Android - [ ] iOS ( robovm ) - [ ] iOS ( MOE ) - [ ] HTML/GWT - [ x ] Windows - [
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
TextArea crash in 1.9.9-SNAPSHOT with FreeType __EoT__ Please ensure you have given all the following requested information in your report . # # # # Issue details Since updating from 1.9.8 to 1.9.9-SNAPSHOT I 've been having a crash caused by a TextArea . TextFields work properly for me . This only happens when using a font created using FreeType . The `` times '' font I 'm using is the Windows builtin Times New Roman font ( C : /Windows/Fonts/times.ttf ) . # # # # Reproduction steps/code `` ` java public class ErrTest extends ApplicationAdapter { private FreeTypeFontGenerator g32 ; private BitmapFont u32 ; private Skin skin ; private Stage stage ; @ Override public void create ( ) { g32 = new FreeTypeFontGenerator ( Gdx.files.internal ( `` times.ttf '' ) ) ; FreeTypeFontParameter param = new FreeTypeFontParameter ( ) ; param.gamma = 1 ; param.incremental = true ; param.magFilter = TextureFilter.Linear ; param.minFilter = TextureFilter.Linear ; param.renderCount = 1 ; param.size = 32 ; u32 = g32.generateFont ( param ) ; u32.getData ( ) .markupEnabled = true ; skin = new Skin ( Gdx.files.internal ( `` uiskin.json '' ) ) ; skin.get ( TextFieldStyle.class ) .font =
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
[ HTML/GWT ] InputAdapter Basic Mouse Event Handling Bug __EoT__ # # # # Issue details In reference to the findings [ here ] ( https : //stackoverflow.com/questions/48718190/libgdx-mouse-event-detection ) , InputAdapter touchDown ( ) and touchUp ( ) events are not firing as expected when multiple mouse events occur in overlapping sequences for HTML/GWT . If left button is pressed , right button is never detected . But if the right button is pressed , left button is detected after the first try , and after that right button touchUp is not detected . # # # # Reproduction steps/code Given the snippet for handling Input Processing : `` ` Gdx.input.setInputProcessor ( new InputAdapter ( ) { @ Override public boolean touchDown ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` down : `` + pointer + `` `` + button ) ; return super.touchDown ( screenX , screenY , pointer , button ) ; } @ Override public boolean touchUp ( int screenX , int screenY , int pointer , int button ) { Engine.console ( `` up : `` + pointer + `` `` + button ) ; return super.touchUp
Put SpriteBatch.end in finally block in stage.draw __EoT__ This is not a bug , this is a TODO to allow recovery from issues thrown during stage drawing . I will implement this when I 'm by my PC tonight .
Put SpriteBatch.end in finally block in stage.draw __EoT__ This is not a bug , this is a TODO to allow recovery from issues thrown during stage drawing . I will implement this when I 'm by my PC tonight .
[ Feature Request ] I18Bundle Debug Mode __EoT__ I am not sure if this is the right location for this . I searched around and was n't able to find a suggestion thread on the forums . If you could point me in the right direction that would be great Often , many LibGDX developers will just hardcode strings into their games when testing and forget to localize them later . A useful method for finding strings you 've missed is to have a sort of `` test '' internalization file , with every key string pointing to a value like `` X '' so you can easily tell in-game which values are n't being localized . Since creating a file like this is time consuming ( and keeping it up to date with other localization files ) it 'd be nice to have a debug mode for I18Bundle that sets all the values to some value like `` X '' so it 's easy to see the non-X values in game and know they are n't localized . If needed , I can submitted a pull request with the required code . Thanks
hiero do not create some glyphs __EoT__ Sometimes hiero do not create glyphs on the generated texture , but there is entry in *.fnt file . For example in attached fnt file there is entry for char ` id=21457 ` , but glyph for this character does not exist on generated texture . In fact glyph 's coordinates exceed texture size . For mentioned character coordinates in *.fnt file are ` x=0 y=945 width=164 height=153 ` Texture size is set to 1024x1024 and 945+153 exceedes this size . I noticed this only when used with big font sizes and only when multiple pages are created . I attach generated *.fnt file and *.hiero settings file . I could also attach generated textures if that helps . [ test.fnt.txt ] ( https : //github.com/libgdx/libgdx/files/110512/test.fnt.txt ) [ test.hiero.txt ] ( https : //github.com/libgdx/libgdx/files/110514/test.hiero.txt )
AppCompatImageView __EoT__ Why not extends a AppCompatImageView ?
click in view angle border，it respond . __EoT__ my view < de.hdodenhof.circleimageview.CircleImageView android : clickable= '' true '' android : id= '' @ +id/index_main_btn '' android : background= '' @ drawable/index_button_selector '' android : layout_centerInParent= '' true '' android : layout_width= '' wrap_content '' android : layout_height= '' wrap_content '' / > when i click in the view angle border , it respond . how to not respond in angle border ? ?
I keep seeing ImageView no longer exists . You should not use this PhotoViewAttacher any more . in the logs . Am I doing something wrong ? __EoT__ I have a view pager where I use PhotoView . I keep seeing this log : ` ImageView no longer exists . You should not use this PhotoViewAttacher any more ` . Do I need to be destroying the PhotoViewAttacher somehow when the view is destroyed ?
Bitmap too large to be uploaded into a texture error __EoT__ Whenever i load high quality photos and zoom the photos . I am getting Bitmap too large to be uploaded into a texture error and the image view background is hidden . After that only the blank image view is being shown .
Bitmap too large to be uploaded into a texture error __EoT__ Whenever i load high quality photos and zoom the photos . I am getting Bitmap too large to be uploaded into a texture error and the image view background is hidden . After that only the blank image view is being shown .
Bitmap too large to be uploaded into a texture error __EoT__ Whenever i load high quality photos and zoom the photos . I am getting Bitmap too large to be uploaded into a texture error and the image view background is hidden . After that only the blank image view is being shown .
Add ability to follow someone __EoT__
GitHub links do n't offer the app from K9 Mail __EoT__ When I receive a notification email from GitHub and tap on the link to `` View this on GitHub '' , I get a list of browsers as a choice , but not the GitHub app . However , if I tap and hold on the link , then choose Open Link , I now have a choice of apps including the GitHub app . Maybe a bug in K9 Mail or could it be in the GitHub app ?
Integrate with Google 's Navigation Drawer __EoT__ http : //developer.android.com/training/implementing-navigation/nav-drawer.html
Crash in gist 's `` all tab '' , NullPointerException __EoT__ Commit 7bee3b232c876db7c9f80a753079b690b4db8927 ! [ git ] ( http : //7tsy92.com1.z0.glb.clouddn.com/commit_7bee3b232c876db7c9f80a753079b690b4db8927.gif ) Log message : `` ` brash 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : FATAL EXCEPTION : main 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : Process : com.github.mobile , PID : 2054 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : java.lang.NullPointerException : Attempt to invoke virtual method 'java.lang.String org.eclipse.egit.github.core.User.getAvatarUrl ( ) ' on a null object reference 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.util.AvatarLoader.getAvatarUrl ( AvatarLoader.java:200 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.util.AvatarLoader.bind ( AvatarLoader.java:159 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.ui.gist.GistListAdapter.update ( GistListAdapter.java:91 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.mobile.ui.gist.GistListAdapter.update ( GistListAdapter.java:37 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.kevinsawicki.wishlist.SingleTypeAdapter.update ( SingleTypeAdapter.java:164 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at com.github.kevinsawicki.wishlist.SingleTypeAdapter.getView ( SingleTypeAdapter.java:180 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.HeaderViewListAdapter.getView ( HeaderViewListAdapter.java:220 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.AbsListView.obtainView ( AbsListView.java:2344 ) 04-16 08:27:14.040 : E/AndroidRuntime ( 2054 ) : at android.widget.ListView.makeAndAddView ( ListView.java:1864 ) 04-16 08:27:14.040 :
Support BUCK build __EoT__ I 'm just a new fan . It 's fast . But I mean , it 's really fast .
Roadmap : Gradle or Maven ? __EoT__ With several talks , issues reported even some PRs about Gradle support , what exactly is the roadmap ? And as you can see here https : //plus.google.com/+AndroidDevelopers/posts/9KeE69UR4PG , Maven support is dropped by AndroidStudio . Moving to Gradle , personally I think , is an awesome thing to do . Also , in PR # 378 @ atermenji mentioned about concerns for Eclipse and IntelliJ users . Gradle is supported by two IDEs if I 'm not mistaken , although it 's not their default build systems . So , are you guys planning to move to Gradle ? Could someone please elaborate what the roadmap is ?
Not possible to override headers __EoT__ The **header ( String header , String value ) ** method only adds headers ( contrary to what the javadoc states ) `` ` response.header ( `` X-Frame-Options '' , `` DENY '' ) ; response.header ( `` X-Frame-Options '' , `` SAMEORIGIN '' ) ; //X-Frame-Options is now `` DENY , SAMEORIGIN '' `` ` I suggest setHeader and addHeader . **Current workaround** ` response.raw ( ) .setHeader ( `` X-Frame-Options '' , `` SAMEORIGIN '' ) ; `
Mime-type differences between 2.5 and 2.5.1 __EoT__ [ This is original description is in error - the bug is not before ( ) /mime-type handling related ] My HTML in static resources does n't end in .html . I 'm adding that with a filter . `` ` public static void main ( String [ ] args ) { staticFiles.location ( `` / '' ) ; // `` foo '' - a html file is in there . before ( `` / '' , ( request , response ) - > { response.type ( `` text/html '' ) ; // `` foo '' gets its html mime type } ) ; } `` ` Was working fine in 2.5 . **Is not working in 2.5.1** I 've looked at https : //github.com/perwendel/spark/compare/2.5 ... 2.5.1 and can not see what broke it .
Mime-type differences between 2.5 and 2.5.1 __EoT__ [ This is original description is in error - the bug is not before ( ) /mime-type handling related ] My HTML in static resources does n't end in .html . I 'm adding that with a filter . `` ` public static void main ( String [ ] args ) { staticFiles.location ( `` / '' ) ; // `` foo '' - a html file is in there . before ( `` / '' , ( request , response ) - > { response.type ( `` text/html '' ) ; // `` foo '' gets its html mime type } ) ; } `` ` Was working fine in 2.5 . **Is not working in 2.5.1** I 've looked at https : //github.com/perwendel/spark/compare/2.5 ... 2.5.1 and can not see what broke it .
X-Forwarded-For support in request.ip ( ) __EoT__ Currently , when Sparks runs behind a proxy or other front-end server , request.ip ( ) returns the IP of the proxy server , which is usually not what you want . Most proxy servers set the X-Forwarded-For header with user 's real IP , so request.ip ( ) could take advantage of that .
static files support just like in jetty __EoT__ Hi , I spotted spark yesterday and I 'm just implementing a private project with it and though I normally implement the jetty stuff myself I found the way spark handles requests is more elegant and saves me some time and lines of code so thanks for that : D. However , I have n't found a way to tell spark which directory can be used to store static files and how to access them . Well , that 's it : ) . Probably easy to implement . I did it with plain jetty in all of my projects before . Basically just defining a new ResourceHandler , setting the resourceBase and adding it with setHandlers of the Server object . Hope it helps in some way : ) . Keep the project going . It 's great . I even played with `` play '' but I do n't like to be jailed in any way . Spark seems like it jails me , too but in a far less way . I , at least , feel free and that 's important . Just keep it going : )
Enhancement : concept of `` finally '' filter __EoT__ I noticed that `` after '' filter methods are not invoked if an exception occurs , making it possible to have mismatched `` before '' / '' after '' pairs . Suppose I begin a database transaction in `` before '' and an exception occurs - the `` after '' does not fire , so it is up so some unrelated place like ExceptionMapper to perform cleanup . I confirmed this by examining https : //github.com/perwendel/spark/blob/master/src/main/java/spark/webserver/MatcherFilter.java What do you think of introducing a `` finally '' filter , which would always execute , even in the face of an exception ? If you think it makes sense , I can probably come up with a pull request . Or maybe there is a better way to do this out-of-the-box that I am missing and we do n't need any Spark changes at all : )
Improve RTL checks __EoT__ The current implementation that checks whether it 's an RTL device has one specific flaw , it does not check if the developer defined specifically in ` AndroidManifest ` ` android : supportsRtl= '' false '' ` , a usecase might be that an app does not want to support RTL because it does not look good when this flag is toggled on . I made 2 main changes in https : //github.com/apl-devs/AppIntro/pull/519 : Removed from the manifest ` android : supportsRtl= '' true '' ` which is wrong for a library Changed ` isRtl ` from ` LayoutUtils ` to read what is the configuration the manifest
Custom Typefaces Ignored __EoT__ < ! -- Please fill in the below fields with some data to help us best diagnose the issue . The more specific you are , the better ! You can help a lot by not making us ask these questions . Feel free to remove any irrelevant parts that you know are not related to the issue . Any HTML comment like this will be stripped when rendering markdown , no need to delete them . If an issue does not have the following template filled out , it will be closed without discussion . -- > < ! -- What version of AppIntro you 're running , for example : 4.1.0 | 4.0.0 It 's essentially the version number from your build.gradle : ` dependencies { compile ' ... : x.y.z ' } ` -- > **AppIntro Version** : 4.1.0 < ! -- What devices you managed to get the issue to come up on ? For example : fails on Galaxy S4/GT-I9500 4.4.2 , works fine on Nexus 6P 5.1 and Genymotion Nexus 5 5.0.1 -- > **Device/Android Version** : Xiaomi Mi Max ( Android Marshmallow ) < ! -- Share the details
Custom Typefaces Ignored __EoT__ < ! -- Please fill in the below fields with some data to help us best diagnose the issue . The more specific you are , the better ! You can help a lot by not making us ask these questions . Feel free to remove any irrelevant parts that you know are not related to the issue . Any HTML comment like this will be stripped when rendering markdown , no need to delete them . If an issue does not have the following template filled out , it will be closed without discussion . -- > < ! -- What version of AppIntro you 're running , for example : 4.1.0 | 4.0.0 It 's essentially the version number from your build.gradle : ` dependencies { compile ' ... : x.y.z ' } ` -- > **AppIntro Version** : 4.1.0 < ! -- What devices you managed to get the issue to come up on ? For example : fails on Galaxy S4/GT-I9500 4.4.2 , works fine on Nexus 6P 5.1 and Genymotion Nexus 5 5.0.1 -- > **Device/Android Version** : Xiaomi Mi Max ( Android Marshmallow ) < ! -- Share the details
Proguard-project.txt included in lib is hinders obfuscation of final apk __EoT__ The ` proguard-project.txt ` configuration file used in this library addresses all classes in a project . It should only affect classes belonging to its own package . This is a problem as proguard configuration files are automatically merged when building . When using this library I thus can not obfuscate my own code . Link to Proguard file : https : //github.com/PaoloRotolo/AppIntro/blob/master/library/proguard-project.txt The following lines are an issue `` `` `` -keepparameternames -renamesourcefileattribute SourceFile -keepattributes Exceptions , InnerClasses , Signature , Deprecated , SourceFile , LineNumberTable , EnclosingMethod # Preserve all annotations . -keepattributes *Annotation* # Preserve all public classes , and their public and protected fields and # methods . -keep public class * { public protected * ; } # Preserve all .class method names . -keepclassmembernames class * { java.lang.Class class $ ( java.lang.String ) ; java.lang.Class class $ ( java.lang.String , boolean ) ; } # Preserve all native method names and the names of their classes . -keepclasseswithmembernames class * { native < methods > ; } # Preserve the special static methods that are required in all enumeration # classes . -keepclassmembers
ThreadPools are not shutdown even after Hystrix.reset ( ) call if there is no fallback defined __EoT__ JVM hangs after throwing a time-out exception , com.netflix.hystrix.exception.HystrixRuntimeException : PrimaryCommand timed-out and no fallback available . at com.netflix.hystrix.HystrixObservableCommand $ 15.call ( HystrixObservableCommand.java:689 ) at com.netflix.hystrix.HystrixObservableCommand $ 15.call ( HystrixObservableCommand.java:672 ) at rx.internal.operators.OperatorOnErrorResumeNextViaFunction $ 1.onError ( OperatorOnErrorResumeNextViaFunction.java:76 ) at rx.internal.operators.OperatorDoOnEach $ 1.onError ( OperatorDoOnEach.java:70 ) at rx.internal.operators.OperatorMap $ 1.onError ( OperatorMap.java:48 ) at rx.internal.operators.OperatorDoOnEach $ 1.onError ( OperatorDoOnEach.java:70 ) at rx.Observable $ ThrowObservable $ 1.call ( Observable.java:10493 ) at rx.Observable $ ThrowObservable $ 1.call ( Observable.java:10483 ) at rx.Observable.unsafeSubscribe ( Observable.java:8591 ) at rx.internal.operators.OperatorOnErrorResumeNextViaFunction $ 1.onError ( OperatorOnErrorResumeNextViaFunction.java:77 ) at rx.internal.operators.OperatorMap $ 1.onError ( OperatorMap.java:48 ) at com.netflix.hystrix.HystrixCommand $ HystrixCommandFromObservableCommand $ 2.call ( HystrixCommand.java:375 ) at com.netflix.hystrix.HystrixCommand $ HystrixCommandFromObservableCommand $ 2.call ( HystrixCommand.java:367 ) at rx.Observable $ 2.call ( Observable.java:173 ) at rx.Observable $ 2.call ( Observable.java:166 ) at rx.Observable $ 2.call ( Observable.java:173 ) at rx.Observable $ 2.call ( Observable.java:166 ) at rx.Observable $ 2.call ( Observable.java:173 ) at rx.Observable $ 2.call ( Observable.java:166 ) at rx.Observable $ 2.call ( Observable.java:173 ) at rx.Observable $ 2.call ( Observable.java:166 ) at rx.Observable $ 2.call ( Observable.java:173 ) at rx.Observable $ 2.call ( Observable.java:166
Model collapser metrics as a stream __EoT__ See motivations in # 943 . This builds upon work in # 981 . Collapser metrics include : 1 ) Batch distributions 2 ) Shard distributions 3 ) Execution results : success/response from cache We can recover the events from the Command stream in # 981 by adding collapser info to each event . This would allow us to avoid the cost of maintaining separate paths for writing these metrics .
Model threadpool metrics as a stream __EoT__ See motivations in # 943 . This builds upon work in # 981 . There are 2 types of threadpool metrics : 1 ) Events - thread executed , thread rejected 2 ) Utilization - only valid if sampled We can recover the events from the Command stream in # 981 by adding threadpool info to each event . This would allow us to avoid the cost of maintaining separate paths for writing these metrics . # 981 also provides the start of a first-class sample stream , which is a better way to model sampling-based metrics
Throwable in extended fallback is null for timeouts __EoT__ Hi , I 've been using the extended fallbacks made in # 828 ( which are great ) and I 've seen that when the execution times out the Throwable is null as the execution did n't actually fail . It would be nice to have some kind of TimeoutException there to know the real reason and do n't have to dead with nulls . Looking at the code , probably the same thing happens with rejected executions . Thanks !
Add video MediaTypes __EoT__ Missed several video MimeTypes in MediaType class : `` ` video/x-flv video/3gpp video/3gpp2 `` ` and some audio types : `` ` audio/basic audio/L24 audio/aac audio/vorbis audio/x-ms-wma audio/x-ms-wax audio/vnd.rn-realaudio audio/vnd.wave `` `
Splitter.onPattern drops last token when zero width matches are used __EoT__ _ [ Original issue ] ( https : //code.google.com/p/guava-libraries/issues/detail ? id=1190 ) created by **travis.downs** on 2012-11-04 at 10:17 AM_ -- - If you split on a zero-width regex , the last element may be dropped . String input = `` foo '' ; String regex = `` ( ? =o ) | ( ? < =o ) '' ; Splitter splitter = Splitter.onPattern ( regex ) ; System.out.println ( Arrays.asList ( input.split ( regex ) ) ) ; System.out.println ( Arrays.asList ( Iterables.toArray ( splitter.split ( input ) , String.class ) ) ) ; This does zero-width lookaround for 'o ' , so the string will be split before and after any o , but the o characters will also be returned as individual items . Note that String.split works correctly here , but Guava splitter drops the last o . Examining the code , this was probably introduced in this fix ( granted , it did n't work at all before that ) : https : //github.com/google/guava/issues/936 In particular , this bit of logic in Splitter.java : `` ` if ( offset == nextStart ) { /*
Create a GsonBuilder from Gson __EoT__ I 'd like to request a feature that would allow obtaining a ` GsonBuilder ` instance from an existing ` Gson ` instance , similar to what Jackson enables via its ` ObjectMapper # copy ` method . The rationale is that it would allow reusing existing configuration . E.g . frameworks often include a preconfigured ` Gson ` instance and this way other libraries using Gson would be able to inherit the same configurations , but still override/add what they need .
Github has this repository marked as HTML in search results __EoT__ Just a tiny meta-issue , I was doing some Github API tests and found that this repository is tagged as language ` HTML ` , which does n't seem right . It might be worth amending that , not that it is especially visible , except to search results .
newBuilder ( ) API __EoT__ For the pour souls that are n't on Moshi would a PR be welcomed that adds a ` newBuilder ` API to ` Gson ` ?
@ JsonAdapter 's documentation does not mention support for JsonSerializer and JsonDeserializer __EoT__ The documentation [ here ] ( https : //github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/annotations/JsonAdapter.java # L79 ) and further down the page [ here ] ( https : //github.com/google/gson/blob/master/gson/src/main/java/com/google/gson/annotations/JsonAdapter.java # L94 ) only mentions that ` TypeAdapter ` and ` TypeAdapterFactory ` are supported at the moment . However , according to the [ changelog ] ( https : //github.com/google/gson/blob/master/CHANGELOG.md # version-27 ) , as of version 2.7 , ` JsonSerializer ` and ` JsonDeserializer ` are also supported . I 'm happy to submit a pull request and add this documentation if it 's useful .
Update Gradle and Build Tools to v27.0.2 __EoT__ *Update Gradle and Build Tools to v27.0.2 .
？？？ __EoT__ what 's this ? v0.8.0 , only the jadx-dui.exe file . ! [ image ] ( https : //user-images.githubusercontent.com/7868514/46185400-33bf5080-c30c-11e8-8cf1-ca4f4e8c2edd.png )
Remove required default font . __EoT__ It would be best to remove the need to require a default font . As this breaks fontFamily attribute in some setups .
Custom Layout Crash InflateException __EoT__ Hello Chris , just wanted to start off by saying thanks for such a great library ! With that in mind I 'm hoping this crash report helps improve it . I 'm currently seeing a crash on a couple of Samsung devices where the apps are crashing in what seems to be a failure to inflate a xml file used in a custom layout that extends FrameLayout . Below is the stack trace I 've collected : android.view.InflateException : Binary XML file line # 63 : Error inflating class < unknown > at android.view.LayoutInflater.createView ( LayoutInflater.java:626 ) at uk.co.chrisjenx.calligraphy.CalligraphyLayoutInflater.onCreateView ( CalligraphyLayoutInflater.java:162 ) at android.view.LayoutInflater.onCreateView ( LayoutInflater.java:675 ) at uk.co.chrisjenx.calligraphy.CalligraphyLayoutInflater.onCreateView ( CalligraphyLayoutInflater.java:146 ) at android.view.LayoutInflater.createViewFromTag ( LayoutInflater.java:700 ) at android.view.LayoutInflater.rInflate ( LayoutInflater.java:761 ) at android.view.LayoutInflater.rInflate ( LayoutInflater.java:769 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:498 ) at uk.co.chrisjenx.calligraphy.CalligraphyLayoutInflater.inflate ( CalligraphyLayoutInflater.java:60 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:398 ) at android.view.LayoutInflater.inflate ( LayoutInflater.java:354 ) at android.view.View.inflate ( View.java:18474 ) at re.snapwi.ui.RetryLayout.init ( RetryLayout.java:52 ) at re.snapwi.ui.RetryLayout. < init > ( RetryLayout.java:31 ) at re.snapwi.ui.photo.PhotoGalleryFragment.onCreateView ( PhotoGalleryFragment.java:116 ) at android.support.v4.app.Fragment.performCreateView ( Fragment.java:1786 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:947 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1126 ) at android.support.v4.app.BackStackRecord.run ( BackStackRecord.java:739 ) at android.support.v4.app.FragmentManagerImpl.execPendingActions ( FragmentManager.java:1489
为什么我原来的file是jpg格式的，压缩过后onSuccess里的file就没有格式了呢 __EoT__
为什么我原来的file是jpg格式的，压缩过后onSuccess里的file就没有格式了呢 __EoT__
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Sliding Panel Overlay __EoT__ Is there a way to add a layer ( full width and height ) over the sliding panel ? For example a floating action button that is over both the sliding panel and the underlying view that is independant of both the views and their behaviors .
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
Floating action button use __EoT__ I wonder if you can use a floating button . Similar to that used by google maps , which is located between the map view and the slide information . How could I simulate it ?
ButterKnife generates ViewBinding class with wrong resource ID __EoT__ I am using a 3rd-party library in our project , and compilation works fine , but the app crashes when it starts up . I looked at the logcat and generate source code , it seems the generated source code has the wrong resource ID . For example , the source file is `` ` class HomeActivity ... { @ BindView ( R2.id.mode_transition_layout ) AppModeTransitionLayout modeTransitionLayout ; @ Override protected void onCreate ( @ Nullable Bundle savedInstanceState ) { super.onCreate ( savedInstanceState ) ; setContentView ( R.layout.activity_main ) ; ButterKnife.bind ( this ) ; `` ` The generated ` HomeActivity_ViewBinding ` class has `` ` @ UiThread public HomeActivity_ViewBinding ( T target , View source ) { this.target = target ; target.modeTransitionLayout = Utils.findRequiredViewAsType ( source , R.id.infant_description_text , `` field 'modeTransitionLayout ' '' , AppModeTransitionLayout.class ) ; } `` ` ` R.id.infant_description_text ` is a different resource ID , and I 'd assume here should use ` R.id.mode_transition_layout ` . At the runtime I get an exception says ` java.lang.IllegalStateException : Required view 'infant_description_text ' with ID 2131822441 for field 'modeTransitionLayout ' was not found . If this view is
Long , confusing stack trace for unresolved resource IDs __EoT__ I received this error ( on 6.0 , but it 's been around forever ) if the resource ID value can not be resolved in ` @ InjectView ` . The stack trace is so long and confusing that it can can easily mask the underlying issue . In my case , I removed an element from my layout file ( which caused it to be removed from resources ) , and had some temporary trouble finding where the error was in my code . > Error : ( 78 , 59 ) Gradle : error : Unable to generate view injector for @ InjectView . > java.lang.annotation.AnnotationTypeMismatchException : Incorrectly typed data found for annotation element public abstract int butterknife.InjectView.value ( ) ( Found data of type int ) > at com.sun.tools.javac.model.AnnotationProxyMaker $ ValueVisitor $ 1AnnotationTypeMismatchExceptionProxy.generateException ( AnnotationProxyMaker.java:264 ) > at sun.reflect.annotation.AnnotationInvocationHandler.invoke ( AnnotationInvocationHandler.java:75 ) > at com.sun.proxy. $ Proxy1333.value ( Unknown Source ) > at butterknife.internal.ButterKnifeProcessor.parseInjectView ( ButterKnifeProcessor.java:251 ) > at butterknife.internal.ButterKnifeProcessor.findAndParseTargets ( ButterKnifeProcessor.java:129 ) > at butterknife.internal.ButterKnifeProcessor.process ( ButterKnifeProcessor.java:102 ) > at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor ( JavacProcessingEnvironment.java:793 ) > at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs ( JavacProcessingEnvironment.java:722 ) > at com.sun.tools.javac.processing.JavacProcessingEnvironment.access $ 1700 (
7.0.1 issues __EoT__ Logcat : Error : Execution failed for task ' : app : compileDebugJava ' . > java.lang.ClassCastException : com.sun.tools.javac.code.Symbol $ MethodSymbol can not be cast to javax.lang.model.element.TypeElement > l > < li > Gradle 's dependency cache may be corrupt ( this sometimes occurs after a network connection timeout . ) > Re-download dependencies and sync project ( requires network ) < /li > < li > The state of a Gradle build process ( daemon ) may be corrupt . Stopping all Gradle daemons may solve this problem . > Stop Gradle build processes ( requires restart ) < /li > < /ul > In the case of corrupt Gradle processes , you can also try closing the IDE and then killing all Java processes . 7.0.1 I got this problem
Do n't use nullable annotation to indicate optional listeners __EoT__ Nullable annotations make sense for optional view bindings , but not so much for listener methods . If the listener method has no return value or primitive return value you are basically telling the compiler that you have a Nullable void or primitive and Android Studio gives you an inspection warning for it . If the listener did return a reference value ( not sure if any do ) you would be saying that the return value is nullable when in fact it may not be . Should come up with a better alternative . That may be having things like @ OptionalOnClick or add your own @ Optional annotation to use in place of @ Nullable
SearchView binding __EoT__ Is a SearchView binding planned ? I can submit if that 's appropriate
Touchmode.Fullscreen does not take into account any other views in the hierarchy __EoT__ Regardless of what other views want to receive Action.MOVE events , the SlidingMenu always consumes them . I will attach an example of this problem . The HorizontalScrollView should receive touch events when going left and right , but outside that HorizontalScrollView you should be able to slide the sliding menu .
Touchmode.Fullscreen does not take into account any other views in the hierarchy __EoT__ Regardless of what other views want to receive Action.MOVE events , the SlidingMenu always consumes them . I will attach an example of this problem . The HorizontalScrollView should receive touch events when going left and right , but outside that HorizontalScrollView you should be able to slide the sliding menu .
pointerIndex out of range Exception __EoT__ Hello . Thank you for your great effort for this slidingmenu . I am developing an application implementing SlidingMemu and it is utterly nicely working . But today I found a strange behavior . please have a look at this picture [ link ] http : //cfile1.uf.tistory.com/image/136E224E506AFE1C2540B1 This happened when I moved my finger on the screen insanely . ( I hope you could understand what I mean by this description because my English is not very fluent ) Alright , I decided to show you another picture [ link ] http : //cfile5.uf.tistory.com/image/1449604C506AFF9F194210 Thank you .
How to hide types that are not allowed from Matisse ? __EoT__ Hi guys , me again , I 've made a fork of this library because I had to make some minor changes in order to use it into one of my projects , some of them I 've already pull requested here , but the point is that I need to hide files that are not allowed by my application , for example , if I have ` Matisse.from ( this ) .choose ( MimeType.ofVideo ( ) , false ) ` I want to hide all the media that are n't video files , that 's an UX request from my development team , I 've tried to change the AlbumMediaAdapter by filtering and I have some success , but I still have white frames in the RecyclerView , I do n't get why , even trying to use ` notifyItemChanged ` or ` notifyDatasetChanged ` these gaps do n't move away . Do you know why or there 's a better way to achieve this ? These are the changes that I 've made so far , I know that 's not the best option doing this
Gray line above bottomBar Android 4 __EoT__ I tried to apply : ` app : bb_showShadow= '' false '' ` But this method did not help to solve my problem . What to do ? ! [ device-2017-04-11-212306 ] ( https : //cloud.githubusercontent.com/assets/26580188/24921886/673440ce-1efd-11e7-8083-9463e4ea1637.png )
showShadow is not working ! __EoT__ When I set app : bb_showShadow= '' false '' , the shadow is visible ! and it 's not hidden . Please fix it . Thanks
can not run the android project __EoT__ Android resource linking failed Output : C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2987 : error : style attribute 'attr/maxExpandedTextSize ( aka io.plaidapp : attr/maxExpandedTextSize ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2988 : error : style attribute 'attr/titleInsetStart ( aka io.plaidapp : attr/titleInsetStart ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2989 : error : style attribute 'attr/titleInsetTop ( aka io.plaidapp : attr/titleInsetTop ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2990 : error : style attribute 'attr/titleInsetEnd ( aka io.plaidapp : attr/titleInsetEnd ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2991 : error : style attribute 'attr/titleInsetBottom ( aka io.plaidapp : attr/titleInsetBottom ) ' not found . error : failed linking references . Command : C : \Users\OsMat\.gradle\caches\transforms-1\files-1.1\aapt2-3.2.0-alpha18-4804415-windows.jar\1f0f8c612ce8afab4ef9532397d53e77\aapt2-3.2.0-alpha18-4804415-windows\aapt2.exe link -I\ C : \Users\OsMat\AppData\Local\Android\Sdk\platforms\android-28\android.jar\ -- manifest\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\merged_manifests\debug\processDebugManifest\merged\AndroidManifest.xml\ -o\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\processed_res\debug\processDebugResources\out\resources-debug.ap_\ -R\ @ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\processDebugResources\resources-list-for-resources-debug.ap_.txt\ -- auto-add-overlay\ -- java\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\generated\not_namespaced_r_class_sources\debug\processDebugResources\r\ -- custom-package\ io.plaidapp\ -0\ apk\ -c\ en\ -- output-text-symbols\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\symbols\debug\R.txt\ -- no-version-vectors Daemon : AAPT2 aapt2-3.2.0-alpha18-4804415-windows Daemon # 0
can not run the android project __EoT__ Android resource linking failed Output : C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2987 : error : style attribute 'attr/maxExpandedTextSize ( aka io.plaidapp : attr/maxExpandedTextSize ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2988 : error : style attribute 'attr/titleInsetStart ( aka io.plaidapp : attr/titleInsetStart ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2989 : error : style attribute 'attr/titleInsetTop ( aka io.plaidapp : attr/titleInsetTop ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2990 : error : style attribute 'attr/titleInsetEnd ( aka io.plaidapp : attr/titleInsetEnd ) ' not found . C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\mergeDebugResources\merged.dir\values\values.xml:2991 : error : style attribute 'attr/titleInsetBottom ( aka io.plaidapp : attr/titleInsetBottom ) ' not found . error : failed linking references . Command : C : \Users\OsMat\.gradle\caches\transforms-1\files-1.1\aapt2-3.2.0-alpha18-4804415-windows.jar\1f0f8c612ce8afab4ef9532397d53e77\aapt2-3.2.0-alpha18-4804415-windows\aapt2.exe link -I\ C : \Users\OsMat\AppData\Local\Android\Sdk\platforms\android-28\android.jar\ -- manifest\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\merged_manifests\debug\processDebugManifest\merged\AndroidManifest.xml\ -o\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\processed_res\debug\processDebugResources\out\resources-debug.ap_\ -R\ @ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\incremental\processDebugResources\resources-list-for-resources-debug.ap_.txt\ -- auto-add-overlay\ -- java\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\generated\not_namespaced_r_class_sources\debug\processDebugResources\r\ -- custom-package\ io.plaidapp\ -0\ apk\ -c\ en\ -- output-text-symbols\ C : \Users\OsMat\Documents\GitHub\plaid\app\build\intermediates\symbols\debug\R.txt\ -- no-version-vectors Daemon : AAPT2 aapt2-3.2.0-alpha18-4804415-windows Daemon # 0
[ CI ] Code formatting __EoT__ PRs are getting noisey due to formatting differences . We should check in a formatter and run over the entire project .
Layout issues when keyboard is shown __EoT__ If one opens a post , and the comment is automatically focused , making the keyboard appears , the layout gets `` broken '' and the position of items too . Issue seems to persist even after keyboard is hidden ... **Screenshots : ** ! [ cxlf7qjwiaawct0 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307275/b5aceb6c-ab0c-11e6-8dc3-5b100f7f2a0d.jpg ) ! [ screenshot_20161115-081142 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307276/b5afc3fa-ab0c-11e6-8cc8-5d21fc61f667.png ) ! [ screenshot_20161115-081148 ] ( https : //cloud.githubusercontent.com/assets/10360816/20307277/b5b441d2-ab0c-11e6-961a-cba002c4255e.png )
[ CI ] Add ktlint checks __EoT__
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Make an independent task for integration tests __EoT__ Now the integration tests is running as a part of normal unit test suites . However it is better we split it into a different task which can be executed separately on CI . I failed with trying to make it in the similar way the benchmarks does since the integration tests is only for the ` ObjectServer ` flavor . See details : https : //github.com/realm/realm-java/pull/3601 # issuecomment-253734769
Finegrained notifications __EoT__ Hi Realm devs , we now have the RealmChangeListener to listen for changes if some background thread updates the Realm instance , which is great . But i 'd like to put a feature request forward for more fine grained control when a listener can be called . It would be nice if it were possible to add a RealmChangeListener that only fires if a certain class of RealmObject is updated . The issue i have now is that i have multiple fragments for multiple classes of RealmObject ( eg . RealmUser , RealmMessage , RealmBeer ) open at once , then a background services updates one of the RealmUser instances . Now all the RealmChangeListener are fired , and all fragments are updated individually . While ideally only the one that deals with RealmUser should be updating .
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
RealmList.delete* ( ) does not delete target object . __EoT__ ` RealmList.delete* ( ) ` must delete target objects in addition to removing them from the list . Due to a bug introduced our refactoring introduced in ` 3.7.1 ` , ` RealmList.delete* ( ) ` ( except for ` deleteAllFromRealm ( ) ` ) only remove the target objects from the list and target objects still remain in the database . Following test exposes the bug . `` ` @ Test public void deleteFromRealm ( ) { Owner owner = realm.where ( Owner.class ) .findFirst ( ) ; //noinspection ConstantConditions RealmList < Dog > dogs = owner.getDogs ( ) ; assertEquals ( TEST_SIZE , dogs.size ( ) ) ; int expectedSize = TEST_SIZE ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( TEST_SIZE / 2 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count ( ) ) ; realm.beginTransaction ( ) ; dogs.deleteFromRealm ( 0 ) ; expectedSize -- ; realm.commitTransaction ( ) ; assertEquals ( expectedSize , dogs.size ( ) ) ; assertEquals ( expectedSize , realm.where ( Dog.class ) .count (
ChangeListener no longer triggered on a findFirstAsync , after delete __EoT__ # # # # Goal I have a single Token object , that I need to insert/update/delete and be notified every time this happens . Here 's what I do : `` ` java mTokenObservable = database.getRealm ( ) .where ( Token.class ) .findFirstAsync ( ) ; mTokenObservable.addChangeListener ( ( RealmChangeListener < Token > ) element - > { if ( element.isValid ( ) ) { setAccessToken ( element.accessToken ) ; } else { // The token has been deleted setAccessToken ( null ) ; } } ) ; `` ` - This work after the first insert , and also after updates . - This also works after the first delete . - But when I insert again after that , I am no longer called . Note : I confirmed by using Realm Browser that the insert really worked . # # # # Expected Results I should be called . # # # # Actual Results On insertion after the delete , the listener is not triggered # # # # Steps & Code to Reproduce FYI : If I change my ` mTokenObservable ` to
ChangeListener no longer triggered on a findFirstAsync , after delete __EoT__ # # # # Goal I have a single Token object , that I need to insert/update/delete and be notified every time this happens . Here 's what I do : `` ` java mTokenObservable = database.getRealm ( ) .where ( Token.class ) .findFirstAsync ( ) ; mTokenObservable.addChangeListener ( ( RealmChangeListener < Token > ) element - > { if ( element.isValid ( ) ) { setAccessToken ( element.accessToken ) ; } else { // The token has been deleted setAccessToken ( null ) ; } } ) ; `` ` - This work after the first insert , and also after updates . - This also works after the first delete . - But when I insert again after that , I am no longer called . Note : I confirmed by using Realm Browser that the insert really worked . # # # # Expected Results I should be called . # # # # Actual Results On insertion after the delete , the listener is not triggered # # # # Steps & Code to Reproduce FYI : If I change my ` mTokenObservable ` to
Primary key migration from optional to required deleting rows __EoT__ < ! -- - **Questions** : If you have questions about how to use Realm , ask on [ StackOverflow ] ( http : //stackoverflow.com/questions/ask ? tags=realm ) . We monitor the ` realm ` tag . **Feature Request** : Just fill in the first two sections below . **Bugs** : To help you as fast as possible with an issue please describe your issue and the steps you have taken to reproduce it in as many details as possible . -- > Hi guys , i just encountered a weird problem and do n't know if is a bug or i just do n't know how to migrate things . I found a workaround for that , create new field with required attribute , transform to get the value of the old primary key , remove old primary key and set primary key to the newly created field . # # # # Goal Change primary key name and required to true ( Kotlin non-null but not @ Required ) # # # # Expected Results The primary key with the new name and the field to be required
Access Realm from Background Service __EoT__ I am trying to get some data from Realm DB from ` IntentService ` class , which runs in background , and upload data to web service . I have ` RealmManager ` class which has ` Realm ` instance and does CRUD on database . So i create ` RealmManager ` intance inside my background ` IntentService ` and try to query . I am getting error : ** ` Realm access from incorrect thread . Realm objects can only be accessed on the thread they were created ` ** . I see ` Realm ` can not be shared across threads . So what might be solution for this ? Is there any way to make CRUD on Realm from background android service , thread ?
Partial Sync : Unify Notification System __EoT__ See https : //github.com/realm/product/issues/392 for details . Note that this introduce a small breaking change to the Java API 's as ` OrderedChangeSet ` will no longer be ` @ Nullable ` in callbacks .
Partial Sync : Unify Notification System __EoT__ See https : //github.com/realm/product/issues/392 for details . Note that this introduce a small breaking change to the Java API 's as ` OrderedChangeSet ` will no longer be ` @ Nullable ` in callbacks .
RealmChangeListener not called for newly created objects __EoT__ # # # # Goal Get a row from a table ( asynchronously ) if it exists , or be notified when said row is created . # # # # Expected Results ` RealmChangeListener ` being called once when the query is done , with ` object.isValid ` set to ` false ` ( the row is not in the table yet ) . When the row is inserted , ` RealmChangeListener ` should be called a second time , with ` object.isValid ` set to ` true ` . # # # # Actual Results ` RealmChangeListener ` is called once , with ` object.isValid ` set to ` false ` , but not a second time after the object has been saved in the database . # # # # Steps & Code to Reproduce You can looks at [ this class ] ( https : //github.com/MGaetan89/ShowsRage/blob/master/app/src/main/kotlin/com/mgaetan89/showsrage/fragment/StatisticsFragment.kt ) for an example of implementation . - In [ ` onCreate ( ) ` ] ( https : //github.com/MGaetan89/ShowsRage/blob/master/app/src/main/kotlin/com/mgaetan89/showsrage/fragment/StatisticsFragment.kt # L88 ) I read the data from the database ( asynchronously , with a listener ) and send a request to
Default values for fields / assignment in default constructor __EoT__ Question/request : Will the java version have default values for fields similar to the iOS one ? i.e . +defaultPropertyValues can be overriden to provide default values every time an object is created . This might also helps to alleviate the lack of null support in the interim ( and with the standalone object support now , helps with gson deserialization a bunch ) Thanks for all the awesome work on this !
Default values for fields / assignment in default constructor __EoT__ Question/request : Will the java version have default values for fields similar to the iOS one ? i.e . +defaultPropertyValues can be overriden to provide default values every time an object is created . This might also helps to alleviate the lack of null support in the interim ( and with the standalone object support now , helps with gson deserialization a bunch ) Thanks for all the awesome work on this !
App crashing ( librealm-jni.so ) __EoT__ Realm is working flawlessly on almost devices in our user base but one user is unable to launch the app . The screen is white and then the app closes down . I was able to get the phone having the issue and check its logs . The issue seems to happen after or during the loading of librealm-jni.so # # # # Goal > Start app and use Realm normally # # # # Expected Results > App running # # # # Actual Results > App crash instantly when starting ( ANR ) # # # # Code Sample `` ` crash stack > 11-14 16:54:23.320 32150-32150/ ? D/dalvikvm : Trying to load lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.343 32150-32150/ ? D/dalvikvm : Added shared lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.437 32150-32150/ ? A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5aa4cff0 ( code=2 ) , thread 32150 ( com.myapp ) 11-14 16:54:23.546 31669-31669/ ? I/DEBUG : pid : 32150 , tid : 32150 , name : com.myapp > > > com.myapp < < < 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : # 00 pc 00082052 /data/app-lib/com.myapp-1/librealm-jni.so 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : #
App crashing ( librealm-jni.so ) __EoT__ Realm is working flawlessly on almost devices in our user base but one user is unable to launch the app . The screen is white and then the app closes down . I was able to get the phone having the issue and check its logs . The issue seems to happen after or during the loading of librealm-jni.so # # # # Goal > Start app and use Realm normally # # # # Expected Results > App running # # # # Actual Results > App crash instantly when starting ( ANR ) # # # # Code Sample `` ` crash stack > 11-14 16:54:23.320 32150-32150/ ? D/dalvikvm : Trying to load lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.343 32150-32150/ ? D/dalvikvm : Added shared lib /data/app-lib/com.myapp-1/librealm-jni.so 0x4175fe08 11-14 16:54:23.437 32150-32150/ ? A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5aa4cff0 ( code=2 ) , thread 32150 ( com.myapp ) 11-14 16:54:23.546 31669-31669/ ? I/DEBUG : pid : 32150 , tid : 32150 , name : com.myapp > > > com.myapp < < < 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : # 00 pc 00082052 /data/app-lib/com.myapp-1/librealm-jni.so 11-14 16:54:23.976 31669-31669/ ? I/DEBUG : #
Unable to build project after upgrading realm-gradle-plugin to version '4.3.0 ' __EoT__ **Bug** : When trying to assemble my project from the command line ( gradle clean assembleDebug ) the build fails with the following error in the **transformClassesWithRealmTransformerForDebug** task : FAILURE : Build failed with an exception . * What went wrong : Execution failed for task ' : data : transformClassesWithRealmTransformerForDebug ' . > Bad < init > method call from inside of a branch Exception Details : Location : io/realm/transformer/ManagedClassPool. < init > ( Ljava/util/Collection ; Ljava/util/Collection ; ) V @ 59 : invokespecial Reason : Error exists in the bytecode Bytecode : 0x0000000 : b800 184e 04bd 001a 5903 0153 5910 ff12 0x0000010 : 04b8 0020 2a5f ab00 0000 0050 0000 0003 0x0000020 : 0000 9b75 0000 0022 0013 85ff 0000 002b 0x0000030 : 159a c03f 0000 003b 5f5a 57b7 0023 a700 0x0000040 : 325f 5a59 0332 b800 295f 57b7 002c a700 0x0000050 : 225f 5a59 0332 1204 b800 30c0 0004 5f57 0x0000060 : b700 33a7 000d bb00 3559 1237 b700 3abf 0x0000070 : 572d 123b 3212 3db9 0043 0200 3a04 1904 0x0000080 : 1245 b800 30c0 0045 2a5f b500 4719 0457 0x0000090 : 2ab6 004b
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
ReLinker NoClassDefFoundError exception __EoT__ Using 8.8.0-SNAPSHOT : java.lang.NoClassDefFoundError : Failed resolution of : Lcom/getkeepsafe/relinker/ReLinker ; at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) at android.app.ActivityThread.handleBindApplication ( ActivityThread.java:4605 ) at android.app.ActivityThread.access $ 1500 ( ActivityThread.java:148 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1353 ) at android.os.Handler.dispatchMessage ( Handler.java:102 ) at android.os.Looper.loop ( Looper.java:135 ) at android.app.ActivityThread.main ( ActivityThread.java:5312 ) at java.lang.reflect.Method.invoke ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:372 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:901 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:696 ) Caused by : java.lang.ClassNotFoundException : Did n't find class `` com.getkeepsafe.relinker.ReLinker '' on path : DexPathList [ [ zip file `` /mnt/asec/com.borg.forza-1/base.apk '' ] , nativeLibraryDirectories= [ /mnt/asec/com.borg.forza-1/lib/arm , /vendor/lib , /system/lib ] ] at dalvik.system.BaseDexClassLoader.findClass ( BaseDexClassLoader.java:56 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:511 ) at java.lang.ClassLoader.loadClass ( ClassLoader.java:469 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:90 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:307 ) at com.borg.forza.activities.Forza.setupRealm ( Forza.java:75 ) at com.borg.forza.activities.Forza.onCreate ( Forza.java:63 ) at android.app.Instrumentation.callApplicationOnCreate ( Instrumentation.java:1034 ) `
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
java.lang.UnsatisfiedLinkError on tests running 0.88.2 with Kotlin __EoT__ Greetings , Upgrading from 0.87.5 to 0.88.2 produces a ` java.lang.UnsatisfiedLinkError ` when running Robolectric unit tests in a Kotlin project . Previously , I used the following dependency setup ( taken from # 509 ) , which worked fine : `` ` compile `` io.realm : realm-android-library:0.87.5 @ aar '' compile `` io.realm : realm-annotations:0.87.5 '' kapt `` io.realm : realm-annotations-processor:0.87.5 '' kapt `` io.realm : realm-annotations:0.87.5 '' `` ` Upgrading to version 0.88.2 produces the following error when running tests : `` ` java.lang.UnsatisfiedLinkError : Ca n't load library : /var/folders/mv/pfq8mc1j1kldmhvb600_09t40000gn/T/android-tmp-robolectric4118687178846717807/app_lib/librealm-jni.dylib at java.lang.ClassLoader.loadLibrary ( ClassLoader.java:1854 ) at java.lang.Runtime.load0 ( Runtime.java:795 ) at java.lang.System.load ( System.java:1062 ) at io.realm.internal.android.ReLinker.loadLibrary ( ReLinker.java:75 ) at io.realm.internal.RealmCore.loadLibrary ( RealmCore.java:89 ) at io.realm.RealmConfiguration $ Builder. < init > ( RealmConfiguration.java:338 ) at com.maxwellforest.safedome.util.database.RealmUtils.init ( RealmUtils.kt:21 ) at com.maxwellforest.safedome.SafedomeApplication.onCreate ( SafedomeApplication.kt:58 ) at org.robolectric.internal.ParallelUniverse.setUpApplicationState ( ParallelUniverse.java:140 ) at org.robolectric.RobolectricTestRunner.setUpApplicationState ( RobolectricTestRunner.java:433 ) at org.robolectric.RobolectricTestRunner $ 2.evaluate ( RobolectricTestRunner.java:240 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:188 ) at org.robolectric.RobolectricTestRunner.runChild ( RobolectricTestRunner.java:54 ) at org.junit.runners.ParentRunner $ 3.run ( ParentRunner.java:290 ) at org.junit.runners.ParentRunner $ 1.schedule ( ParentRunner.java:71 ) at org.junit.runners.ParentRunner.runChildren ( ParentRunner.java:288 ) at org.junit.runners.ParentRunner.access $ 000 ( ParentRunner.java:58 ) at
Partial Sync : Support named queries __EoT__ See https : //github.com/realm/product/issues/390 for details
Fatal signal 11 ( SIGSEGV ) at 0x5bb29ffe ( code=2 ) on API 17 ( 4.2.2 ) __EoT__ When I try to use Realm realm = Realm.getDefaultInstance ( ) ; the app gives that error while it runs well on 4.4 and above
Fatal signal 11 ( SIGSEGV ) at 0x5bb29ffe ( code=2 ) on API 17 ( 4.2.2 ) __EoT__ When I try to use Realm realm = Realm.getDefaultInstance ( ) ; the app gives that error while it runs well on 4.4 and above
JSR305 annotations for nullability __EoT__ Square has started pushing JSR305 annotations as the way to express nullability in their API 's . - https : //github.com/square/okio/pull/307 - https : //medium.com/square-corner-blog/rolling-out-nullable-42dd823fbd89 - https : //medium.com/ @ jakewharton/an-optionals-place-in-kotlin-17d7b271eefe - https : //youtrack.jetbrains.com/issue/KT-10942 And this is starting a push on other libraries as well : - https : //github.com/ReactiveX/RxJava/issues/5341 When we originally added the ` @ Required ` annotation it was precisely because there was n't one single standard for ` @ Nullable/ @ NonNull ` being used . At the time we found at least 7 different versions I believe . JSR305 , Android , Jetbrains , Findbugs , Eclipse and a few others I forgot . However , I would n't mind at all help move the Android eco-system towards a default standard for this . It would also improve tool support with Android Studio as well as improve our API compatibility with Kotlin . Suggested roadmap : 1 ) Add JSR305 as a provided dependency . 2 ) Add Nullability annotation to our API : ` @ ParametersAreNonnullByDefault ` is much preferred but not supported by Kotlin yet . 3 ) ( Delete null-checks in code ) . 4 )
JSR305 annotations for nullability __EoT__ Square has started pushing JSR305 annotations as the way to express nullability in their API 's . - https : //github.com/square/okio/pull/307 - https : //medium.com/square-corner-blog/rolling-out-nullable-42dd823fbd89 - https : //medium.com/ @ jakewharton/an-optionals-place-in-kotlin-17d7b271eefe - https : //youtrack.jetbrains.com/issue/KT-10942 And this is starting a push on other libraries as well : - https : //github.com/ReactiveX/RxJava/issues/5341 When we originally added the ` @ Required ` annotation it was precisely because there was n't one single standard for ` @ Nullable/ @ NonNull ` being used . At the time we found at least 7 different versions I believe . JSR305 , Android , Jetbrains , Findbugs , Eclipse and a few others I forgot . However , I would n't mind at all help move the Android eco-system towards a default standard for this . It would also improve tool support with Android Studio as well as improve our API compatibility with Kotlin . Suggested roadmap : 1 ) Add JSR305 as a provided dependency . 2 ) Add Nullability annotation to our API : ` @ ParametersAreNonnullByDefault ` is much preferred but not supported by Kotlin yet . 3 ) ( Delete null-checks in code ) . 4 )
Fix insertOrUpdate Javadoc __EoT__ Feedback : > from the javadoc of ` insertOrUpdate ( ) ` We do n't check if the provided objects are already managed or not , so inserting a managed object might duplicate it ` ( https : //github.com/realm/realm-java/blob/master/realm/realm-library/src/main/java/io/realm/Realm.java # L863 ) this seems confusing in my opinion , it lead me to think that ` insertOrUpdate ( ) ` might duplicate objects . It is true that ` insertOrUpdate ` never duplicate objects with primary keys . We should clarify that .
realm can user annotation replace column name or table name __EoT__ realm can user annotation replace column name or table name ?
realm can user annotation replace column name or table name __EoT__ realm can user annotation replace column name or table name ?
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Stable iterators for RealmCollection __EoT__ # # # Problem This has been discussed before https : //github.com/realm/realm-java/issues/640 https : //github.com/realm/realm-java/issues/602 https : //github.com/realm/realm-wiki/wiki/Java-Iterators ( Internal wiki page ) So # 2124 was introduced to solve below problem : `` ` java RealmResults < Person > persons = realm.allObjects ( Person.class ) ; realm.beginTransaction ( ) ; for ( int i = 0 ; persons.size ( ) ; i++ ) { // Will only delete half the elements due to size ( ) calling // sync_if_needed . persons.get ( i ) .removeFromRealm ( ) ; } realm.commitTransaction ( ) ; `` ` Then we added # 2990 to make sure the ` RealmResults ` gets updated in very next event loop by calling ` handler.postAtFrontOfQueue ( ) ` . Usually above works fine , this becomes a topic again for below reasons : # # # # 1 . However there are still corner cases which could trigger an exception : > java.lang.IllegalStateException : Object is no longer managed by Realm . Has it been deleted ? eg . : Delete an element in ` RealmResults ` then calling the corresponding ` ListView.measure ( ) ` method . ` measure (
Detach Realm from RealmQuery __EoT__ # # Problem statement . As described in https : //stackoverflow.com/q/44035272/1008278 Create a **RealmQuery** in Thread A & pass it across to be executed conditionally in different Thread . This triggers ` IllegalStateException ( BaseRealm.INCORRECT_THREAD_MESSAGE ) ; ` . [ Solution provided can not be used , as listeners can be added only if Looper is available ] ( https : //stackoverflow.com/a/44043733/1008278 ) & it is not necessary the result will always update UI . [ RealmQuery.createQuery ( this , clazz ) ; ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/Realm.java # L1346 ) Creates a query binding realm Object tightly to RealmQuery , but the actual usage of realm is required only when query is executed . [ createRealmResults ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/RealmQuery.java # L1972 ) , [ findFirstAsync ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/RealmQuery.java # L1936 ) or similay query . As mentioned in doc , RealmQuery is built on builder pattern . Clearly there is no dependency of Realm until execution . RealmQuery should be detached from Realm & should be able to execute after attaching to Realm . Ex : `` ` java Query query = Realm.where ( clazz ) ; // Query is
Detach Realm from RealmQuery __EoT__ # # Problem statement . As described in https : //stackoverflow.com/q/44035272/1008278 Create a **RealmQuery** in Thread A & pass it across to be executed conditionally in different Thread . This triggers ` IllegalStateException ( BaseRealm.INCORRECT_THREAD_MESSAGE ) ; ` . [ Solution provided can not be used , as listeners can be added only if Looper is available ] ( https : //stackoverflow.com/a/44043733/1008278 ) & it is not necessary the result will always update UI . [ RealmQuery.createQuery ( this , clazz ) ; ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/Realm.java # L1346 ) Creates a query binding realm Object tightly to RealmQuery , but the actual usage of realm is required only when query is executed . [ createRealmResults ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/RealmQuery.java # L1972 ) , [ findFirstAsync ] ( https : //github.com/realm/realm-java/blob/5e20952decab2a2f4dda826a06a21a3b93115665/realm/realm-library/src/main/java/io/realm/RealmQuery.java # L1936 ) or similay query . As mentioned in doc , RealmQuery is built on builder pattern . Clearly there is no dependency of Realm until execution . RealmQuery should be detached from Realm & should be able to execute after attaching to Realm . Ex : `` ` java Query query = Realm.where ( clazz ) ; // Query is
Memory violation on Samsung Galaxy S6 with encrypted Realm 0.82.1 __EoT__ I have an issue which could be related to # 1037 and # 1357 . Each time I write data in a ` encrypted Realm ` using ` realm.commitTransaction ( ) ; ` on a ` Samsung Galaxy S6 ( Android 5.1.1 ) ` I get the following error : `` ` 08-19 15:42:40.651 4018-4018/ ? E/audit﹕ type=1701 msg=audit ( 1439991760.651:232 ) : auid=4294967295 uid=10208 gid=10208 ses=4294967295 subj=u : r : untrusted_app : s0 pid=8542 comm= '' roid. < app_name > '' reason= '' memory violation '' sig=11 `` ` I traced down the crash to ` nativeCommitAndContinueAsRead ( nativePtr ) ; ` in class ` SharedGroup ` . On execution of this method the error occurs and our app crashes . We are using ` 0.82.1 ` and getting the same error on ` 0.83.0-SNAPSHOT ` as well . The problem is , I was trying to reproduce this error in a Hello World project , but I could not . Writing and reading data works fine . It just does not function in context with our app . I can not even find a big difference to
Downloading Core should not require S3 credentials __EoT__ Right now secret S3 credentials are required to build our public repo . Instead these files should be uploaded to a public location and fetched from there , just like the 1.\* Core . - [ x ] Change realm-sync/JenkinsFile so it uploads to the proper location - [ ] Change realm-java/realm/realm-library/build.gradle so it downloads from that location .
Crash when syncing Realm __EoT__ < ! -- - **Questions** : If you have questions about how to use Realm , ask on [ StackOverflow ] ( http : //stackoverflow.com/questions/ask ? tags=realm ) . We monitor the ` realm ` tag . **Feature Request** : Just fill in the first two sections below . **Bugs** : To help you as fast as possible with an issue please describe your issue and the steps you have taken to reproduce it in as many details as possible . -- > # # # # Goal Trying to sync a Realm . The Realm is created by the Java client and one object is written to it with details about the user , right after Realm auth . This also only happens for some users . But it happens every time for those users . The users have all the same data from a client perspective . When calling ` Realm.getInstance ( myConfig ) ` ... # # # # Expected Results ... it will open the Realm and begin syncing any data up to/down from ROS . # # # # Actual Results ... the app crashes with the following message :
io.realm.internal.Table.finalize ( ) timed out after 10 seconds __EoT__ Copy from # 1599 People are still seeing finalizer timeouts on 0.88.2 : http : //crashes.to/s/360245fd72a We should look into how hard it would be to get rid of finalizers completely IMO . /cc @ dalinaum
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Support android gradle plugin 3.0.0 __EoT__ Original title : < TableName > is not part of the schema for this realm when using gradle:3.0.0-alpha4 I 'm using the latest version of realm ( 3.4.0 ) but I 've also tried with an older project on 2.x If I create a build with com.android.tools.build : gradle:2.4.0-alpha7 the app builds fine and runs , but as soon as I upgrade to com.android.tools.build : gradle:3.0.0-alpha4 the app still builds fine , but as the app crashes straight away with < TableName > is not part of the schema for this realm . As far as config of the realm I 'm using the following ` RealmInspectorModulesProvider.builder ( this ) .withFolder ( getCacheDir ( ) ) .withMetaTables ( ) .withDescendingOrder ( ) .withLimit ( 1000 ) .databaseNamePattern ( Pattern.compile ( `` .+\\.realm '' ) ) .build ( ) ; Realm.init ( this ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .deleteRealmIfMigrationNeeded ( ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; ` Is there anything that needs to change to get new gradle builds working ?
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Migration script when changing model name __EoT__ Hello , In the migration examples , I can see that we have `` add new table '' , `` add new column '' and `` adjust a column '' , but there 's no example to demonstrate if we want to change the model name . What would be appropriate way to achieve this ? Thank you very much ,
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
Info : Clarification on pr # 3370 and monitor threads __EoT__ @ beeender pr # 3370 Please clarify latest changelog regarding the below since the warning directly applies to us and may cause huge resource impact . We have 10+ realmConfigs . > The known problem is for every RealmConfiguration , a monitor thread will > be created which is not ideal for app which is using multiple > RealmConfiguration . - Monitor thread count : Is this monitor thread per realm , per thread ? If I open same realm in 2 different threads , how many monitor threads are there ? - Monitor thread life cycle : Is the thread created on first realm open and destroyed on last realm close ? Thanks
java.lang.ArrayIndexOutOfBoundsException rowIndex > available rows __EoT__ # # # # Expected Results > No crash # # # # Actual Results > `` ` java > Fatal Exception : java.lang.ArrayIndexOutOfBoundsException : rowIndex > available rows : 4 > 4 > at io.realm.internal.TableView.nativeRemoveRow ( TableView.java ) > at io.realm.internal.TableView.remove ( TableView.java:405 ) > at io.realm.RealmResults.deleteFromRealm ( RealmResults.java:246 ) > at removed.SavedMediaRecyclerViewAdapter $ 8.onClick ( SavedMediaRecyclerViewAdapter.java:288 ) > at cn.pedant.SweetAlert.SweetAlertDialog.onClick ( SweetAlertDialog.java:372 ) > at android.view.View.performClick ( View.java:4240 ) > at android.view.View $ PerformClick.run ( View.java:17721 ) > at android.os.Handler.handleCallback ( Handler.java:730 ) > at android.os.Handler.dispatchMessage ( Handler.java:92 ) > at android.os.Looper.loop ( Looper.java:137 ) > at android.app.ActivityThread.main ( ActivityThread.java:5199 ) > at java.lang.reflect.Method.invokeNative ( Method.java ) > at java.lang.reflect.Method.invoke ( Method.java:525 ) > at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:737 ) > at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:553 ) > at dalvik.system.NativeStart.main ( NativeStart.java ) > `` ` # # # # Steps & Code to Reproduce > I am using ` RealmBasedRecyclerViewAdapter ` ( https : //github.com/thorbenprimke/realm-recyclerview - but I think this kind of issue should in Realm not the lib so I am posting it here ) for my RecyclerView , I just override ` onItemSwipedDismiss ` to show confirm dialog before
java.lang.ArrayIndexOutOfBoundsException rowIndex > available rows __EoT__ # # # # Expected Results > No crash # # # # Actual Results > `` ` java > Fatal Exception : java.lang.ArrayIndexOutOfBoundsException : rowIndex > available rows : 4 > 4 > at io.realm.internal.TableView.nativeRemoveRow ( TableView.java ) > at io.realm.internal.TableView.remove ( TableView.java:405 ) > at io.realm.RealmResults.deleteFromRealm ( RealmResults.java:246 ) > at removed.SavedMediaRecyclerViewAdapter $ 8.onClick ( SavedMediaRecyclerViewAdapter.java:288 ) > at cn.pedant.SweetAlert.SweetAlertDialog.onClick ( SweetAlertDialog.java:372 ) > at android.view.View.performClick ( View.java:4240 ) > at android.view.View $ PerformClick.run ( View.java:17721 ) > at android.os.Handler.handleCallback ( Handler.java:730 ) > at android.os.Handler.dispatchMessage ( Handler.java:92 ) > at android.os.Looper.loop ( Looper.java:137 ) > at android.app.ActivityThread.main ( ActivityThread.java:5199 ) > at java.lang.reflect.Method.invokeNative ( Method.java ) > at java.lang.reflect.Method.invoke ( Method.java:525 ) > at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:737 ) > at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:553 ) > at dalvik.system.NativeStart.main ( NativeStart.java ) > `` ` # # # # Steps & Code to Reproduce > I am using ` RealmBasedRecyclerViewAdapter ` ( https : //github.com/thorbenprimke/realm-recyclerview - but I think this kind of issue should in Realm not the lib so I am posting it here ) for my RecyclerView , I just override ` onItemSwipedDismiss ` to show confirm dialog before
Realm .so problem __EoT__ > **Bugs** : Build fingerprint : 'google/volantis/flounder:6.0.1/MMB29S/2489379 : user/release-keys' Revision : '0' ABI : 'arm64' pid : 22511 , tid : 22511 , name : mycom.myapp > > > com.mycom.myapp < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0x155c52b8c7e x0 0000007f8236dbf0 x1 0000007f8236dc38 x2 00000055ab2bc000 x3 00000055ab5dddb0 x4 0000000000001012 x5 0000000000000000 x6 00000155c52b8c66 x7 0000000000000000 x8 00000155c52b8c55 x9 0000000000000000 x10 0000000000000003 x11 0000000000000960 x12 0000007f8236da70 x13 00000055ab8be8b0 x14 0000000000000000 x15 00000155c52b8c50 x16 00000155c52b9d20 x17 0000000000000030 x18 0000002ab8a5718a x19 00000055ab5dcce0 x20 0000007f8236d000 x21 00000055ab5c6e20 x22 00000055ab5dcce0 x23 0000000000000000 x24 0000000070548ac8 x25 00000055ab5d81d0 x26 00000055ab5d81e0 x27 0000000012d571c0 x28 00000000715fd7ca x29 0000007fddcf8580 x30 00000155c52b8c78 sp 0000007fddcf8580 pc 0000007f8230670c pstate 0000000020000000 backtrace : # 00 pc 000000000004770c /system/lib64/libc.so ( dlfree+1036 ) # 01 pc 00000000000194e8 /system/lib64/libc.so ( free+20 ) # 02 pc 00000000000754dc /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so # 03 pc 00000000000503b0 /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so ( Java_io_realm_internal_SharedGroup_nativeClose+544 ) # 04 pc 000000000077b130 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.nativeClose ( long ) +132 ) # 05 pc 000000000077c774 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.close ( ) +168 ) # 06 pc 0000000000752e2c /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.Realm.close ( ) +848 )
Realm .so problem __EoT__ > **Bugs** : Build fingerprint : 'google/volantis/flounder:6.0.1/MMB29S/2489379 : user/release-keys' Revision : '0' ABI : 'arm64' pid : 22511 , tid : 22511 , name : mycom.myapp > > > com.mycom.myapp < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0x155c52b8c7e x0 0000007f8236dbf0 x1 0000007f8236dc38 x2 00000055ab2bc000 x3 00000055ab5dddb0 x4 0000000000001012 x5 0000000000000000 x6 00000155c52b8c66 x7 0000000000000000 x8 00000155c52b8c55 x9 0000000000000000 x10 0000000000000003 x11 0000000000000960 x12 0000007f8236da70 x13 00000055ab8be8b0 x14 0000000000000000 x15 00000155c52b8c50 x16 00000155c52b9d20 x17 0000000000000030 x18 0000002ab8a5718a x19 00000055ab5dcce0 x20 0000007f8236d000 x21 00000055ab5c6e20 x22 00000055ab5dcce0 x23 0000000000000000 x24 0000000070548ac8 x25 00000055ab5d81d0 x26 00000055ab5d81e0 x27 0000000012d571c0 x28 00000000715fd7ca x29 0000007fddcf8580 x30 00000155c52b8c78 sp 0000007fddcf8580 pc 0000007f8230670c pstate 0000000020000000 backtrace : # 00 pc 000000000004770c /system/lib64/libc.so ( dlfree+1036 ) # 01 pc 00000000000194e8 /system/lib64/libc.so ( free+20 ) # 02 pc 00000000000754dc /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so # 03 pc 00000000000503b0 /data/app/com.mycom.myapp-1/lib/arm64/librealm-jni.so ( Java_io_realm_internal_SharedGroup_nativeClose+544 ) # 04 pc 000000000077b130 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.nativeClose ( long ) +132 ) # 05 pc 000000000077c774 /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.internal.SharedGroup.close ( ) +168 ) # 06 pc 0000000000752e2c /data/app/com.mycom.myapp-1/oat/arm64/base.odex ( offset 0x47c000 ) ( void io.realm.Realm.close ( ) +848 )
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
insertOrUpdate ( T t ) fails on RealmList < Persons > field __EoT__ # # # # Goal > What do you want to achieve ? Save a ` RentalProgram ` object that contains a ` RealmList < Persons > ` object # # # # Expected Results It should work just like when I used ` copyToRealmOrUpdate ( ) ` , which works # # # # Actual Results Using ` insertOrUpdate ( ) ` , the ` rentalProgram.getCast ( ) ` is empty ! # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Frickin ' ProGuard eats my debug efforts , but it 's quite clear that the ` cast ` list is empty if I use ` insertOrUpdate ( ) ` , while it works as intended with ` copyToRealmOrUpdate ( ) ` . # # # # Code Sample `` ` java public class RentalProgram extends RealmObject { @ PrimaryKey private long id ; private RealmList < RentalProgramVersion > versions ; private String title ; private String href ; private String imageSrc ; private String baseInfoText ; private String originalTitle ; private String trailerUrl ; private String description ;
Custom SEPolicy required for Realm in AOSP system applications __EoT__ I 'm working on my custom AOSP ROM and I 'm developing a system application that uses android : sharedUserId= '' android.uid.system '' . I am initializing realm like this and it goes without problems : ` Realm.init ( context ) ; mRealmConfiguration = new RealmConfiguration.Builder ( ) .build ( ) ; ` Now , as soon as I do this : ` Realm realm = Realm.getInstance ( mRealmConfiguration ) ; ` I get the following crash : http : //pastebin.com/FinnMhkS Now , the first line says that there is a problem with SELinux policy stating that my app violates a rule that system app cant perform certain file operations ( im not a SELinux expert ) . My question is do you maybe know why is this crashing ? What exactly is realm trying to do in this case ? Everything works as usual if its an app doesnt share the system UID and for the sake of the project i 'm working on it needs to have that . Thanks in advance for your help !
Interface as supplement to extending RealmObject __EoT__ Following the discussion in # 1036 and # 2296 we have decided to add a new interface that can work as supplement to extending RealmObject . Exploratory work for that approach has been conducted in https : //github.com/realm/realm-java/tree/cm/realmmodel so further work can either be done there as well or moved to another branch . **Known subtasks** - [ ] Create new marker interface . RealmObject should implement this interface : https : //github.com/realm/realm-java/blob/cm/realmmodel/realm/realm-library/src/main/java/io/realm/RealmModel.java - [ ] All API methods should be converted from ` < E extends RealmObject RealmObject > ` to ` < E implements RealmClass > ` - [ ] The ` RealmObjectProxy ` interface needs to be extended significantly : https : //github.com/realm/realm-java/blob/cm/realmmodel/realm/realm-library/src/main/java/io/realm/internal/RealmObjectProxy.java - [ ] We need to find a way to share proxy state between standard proxies and DynamicRealmObject . See # 2296 for some suggestions on how to do that . - [ ] ProxyClassGenerator should be extended to support the new methods . - [ ] RealmProcessor has to be expanded to allow extending RealmObject or implementing the interface . General inheritance is still not allowed . - [ ] Decide on name for the interface
Add description for Retrofit 2 to Retrofit docs __EoT__ API has changed slightly for Retrofit 2 , add that to the docs as well
RxJava support for finegrained notifications __EoT__ We should extend our RxJava support to also include fine-grained notifications . It would be relatively easy to expose as a ` Pair < RealmResults , ChangeSet > ` . However naming it might be a bit difficult since ` asObservable ( ) ` is already taken . Some suggestions : `` ` RealmResults < Person > persons = realm.where ( Person.class ) .findAll ( ) ; Observable < Pair < RealmResults , OrderedCollectionChangeSet > > obs ; // # 1 obs = persons.asChangeSetObservable ( ) ; // # 2 obs = persons.asObservable ( true ) ; // true = fine-grained , false = standard // # 3 obs = persons.asFinegrainedObservable ( ) ; // # 4 // ... . others ? `` ` One thing to consider is also that we will get single object notifications in the near future # 4101 , which will have similar requirements . Personally I probably favour 1. with a 2. as a close second , both could be re-used for single object notifications I think . Thoughts @ realm/java ? **TODO** - [ ] Decide on a method name - [ ] Add new method to
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Remove a table from a previous Realm scheme __EoT__ Hi , With the introduction of Modules ( Realm 0.82.0 ) , I have splitted a part of my scheme into another Realm . However , the old database ( which is now a core Module ) still contains tables that are no longer needed ( and data as well ) . Example : Old scheme contained **A , B , C** into ` main.realm ` . New scheme is now splitted in two Modules **A , B** into ` main.realm ` **C** into ` second.realm ` Following the app update , ` main.realm ` still contains a table **C** and I 'm unable to clean nor delete the table manually ( error like 'this entity is not part of this module ' ) . Is there a way I did not find ? Thanks .
Request for community comments : Better Kotlin support __EoT__ With an awesome I/O17 being over , one of the big announcements were official support for [ Kotlin ] ( https : //blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/ ) . Realm is already fully interoperable with Kotlin and we have a [ Kotlin example here ] ( https : //github.com/realm/realm-java/tree/master/examples/kotlinExample ) and [ here ] ( https : //github.com/realm-demos/realm-surveys/tree/master/Kotlin ) that demonstrates how it works . But we want to make that support even better and In order to do that , we are looking for feedback on what you would most like to see changed so Realm works even better with Kotlin We have a few ideas ourselves : 1 ) ** ( DONE ) ** : Add extension functions for all classes with methods that currently accept ` Class < ? extends RealmModel > ` so ` KClass ` can be used directly , e.g . ` realm.where ( Person : :class ) ` instead of ` realm.where ( Person : :class.java ) ` . 2 ) ** ( DONE ) ** Detect nullability automatically in model classes . Right now you are required to use the Realm ` @ Required ` annotation ,
Request for community comments : Better Kotlin support __EoT__ With an awesome I/O17 being over , one of the big announcements were official support for [ Kotlin ] ( https : //blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/ ) . Realm is already fully interoperable with Kotlin and we have a [ Kotlin example here ] ( https : //github.com/realm/realm-java/tree/master/examples/kotlinExample ) and [ here ] ( https : //github.com/realm-demos/realm-surveys/tree/master/Kotlin ) that demonstrates how it works . But we want to make that support even better and In order to do that , we are looking for feedback on what you would most like to see changed so Realm works even better with Kotlin We have a few ideas ourselves : 1 ) ** ( DONE ) ** : Add extension functions for all classes with methods that currently accept ` Class < ? extends RealmModel > ` so ` KClass ` can be used directly , e.g . ` realm.where ( Person : :class ) ` instead of ` realm.where ( Person : :class.java ) ` . 2 ) ** ( DONE ) ** Detect nullability automatically in model classes . Right now you are required to use the Realm ` @ Required ` annotation ,
Request for community comments : Better Kotlin support __EoT__ With an awesome I/O17 being over , one of the big announcements were official support for [ Kotlin ] ( https : //blog.jetbrains.com/kotlin/2017/05/kotlin-on-android-now-official/ ) . Realm is already fully interoperable with Kotlin and we have a [ Kotlin example here ] ( https : //github.com/realm/realm-java/tree/master/examples/kotlinExample ) and [ here ] ( https : //github.com/realm-demos/realm-surveys/tree/master/Kotlin ) that demonstrates how it works . But we want to make that support even better and In order to do that , we are looking for feedback on what you would most like to see changed so Realm works even better with Kotlin We have a few ideas ourselves : 1 ) ** ( DONE ) ** : Add extension functions for all classes with methods that currently accept ` Class < ? extends RealmModel > ` so ` KClass ` can be used directly , e.g . ` realm.where ( Person : :class ) ` instead of ` realm.where ( Person : :class.java ) ` . 2 ) ** ( DONE ) ** Detect nullability automatically in model classes . Right now you are required to use the Realm ` @ Required ` annotation ,
Migrate SyncUser to the ObjectStore __EoT__ SyncUser class should use the ObjectStore SyncUser .
logout and ` currentUser ( ) ` __EoT__ Below test case will fail with : `` ` java.lang.IllegalStateException : Current user is not valid if more that one valid , logged-in user exists . `` ` `` ` java @ Test public void logout_currentUserMoreThanOne ( ) { final CountDownLatch latch = new CountDownLatch ( 1 ) ; SyncUser user1 = UserFactory.createUniqueUser ( Constants.AUTH_URL ) ; final RealmConfiguration config1 = configurationFactory.createSyncConfigurationBuilder ( user1 , Constants.USER_REALM ) .build ( ) ; SyncUser.currentUser ( ) .logout ( ) ; SyncUser user2 = UserFactory.createUniqueUser ( Constants.AUTH_URL ) ; Realm realm = Realm.getInstance ( config1 ) ; SyncUser user3 = SyncUser.currentUser ( ) ; } `` `
[ Request ] : Remove the block that stops primary key from being changed after object creation ? __EoT__ # # # # Goal > What do you want to achieve ? I want the primary key to be editable , just like other objects , at least for the time being , while auto incrementing ids are not a feature in realm . They both go hand in hand . -- -- -- Hey all , I 've just been trying to update to the latest version of realm , and came accross this issue , which for me at least requires a bit of a rewrite on how I deal with API responses . I had the weekend to think it over , and look at the PR for the feature that stops primary keys from being changed and I can at least understand but I think it was implemented too early . It makes sense that primary keys do n't change , however it 's not something we should ever have to worry about . Esspecially as Zhuinden mentions in the PR ( https : //github.com/realm/realm-java/pull/3418 ) : `` I still think trying to set the same
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
Sync - Verify certificate using TrustManager __EoT__ Sync is working on a [ PR ] ( https : //github.com/realm/realm-sync/pull/1312 ) that will perform a series of callback to validate the certificate chain , in order to complete the SSL Handshake using the trusted root CA configured with Android . We need to handle the callback from the Java binding , and use the default ` TrustManager ` in order to validate the certificate . The C++ need to pass as an argument the certificate that we should transform into a ` X509Certificate ` format , so it can be usable with the ` JSSE ` API
`` Realm instance has been closed '' exception on un-closed Realm __EoT__ @ cmelchior and @ zhuinden recall quirky experiences with ` RealmCache ` causing an open Realm to appear closed . The issue arose , recently in # 4641 This issue tracks identifying and fixing the bug
Regression issue after # 3379 merged . Different default values when create with JSON Stream __EoT__ This is a regression issue after # 3379 merged . The APIs to create ` RealmObject ` from JSON stream will have different behaviours from other APIs . Underneath , it is using the non-managed object 's default constructor to create an object , then set its fields from JSON . Those absent field in JSON will have the default value set by the default non-managed object 's constructor . See comments from https : //github.com/realm/realm-java/pull/3379 # discussion_r77316752 It looks like it only effect the ` create ` part , not the ` update ` part right ? I see 3 choices : 1 ) Accept the current solution and document the breaking change 2 ) Rewrite ` createFromJsonStream ` to create JSONObject instead and return the result from ` createObjectFromJson ( jsonObj ) ` 3 ) Add support for # 777 For expendiency , I would probably just go with 1 ) now and make an issue for looking into 2/3 in th next week or two , because we need a better solution before releasing anything publically . If 3 ) is
All fields are empty after bulk insert __EoT__ # # # # Goal I am trying to bulk insert to my db after network operation is completed . For network operation I am using retrofit and response of network operation is successful and all json fields are non-empty or not null . Bulk insert operation is successful and all fields are non-empty on LG G3 ( Android 5.0.0 ) however same operation and same code have not successful result on Samsung Galaxy S4 Mini ( GT-I9190 Android 4.4.2 ) . # # # # Expected Results > After bulk insert operation , all fields must be filled on both phones . # # # # Code Sample I am trying to add items with following codes . I also tried insertOrUpdate ( listOfData ) but after operation all fields are empty again . `` ` java dbRealm.beginTransaction ( ) ; dbRealm.copyToRealmOrUpdate ( institutionList ) ; dbRealm.commitTransaction ( ) ; or dbRealm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { realm.copyToRealmOrUpdate ( listOfData ) ; } } ) ; `` ` # # # # Version of Realm and tooling Realm version (
All fields are empty after bulk insert __EoT__ # # # # Goal I am trying to bulk insert to my db after network operation is completed . For network operation I am using retrofit and response of network operation is successful and all json fields are non-empty or not null . Bulk insert operation is successful and all fields are non-empty on LG G3 ( Android 5.0.0 ) however same operation and same code have not successful result on Samsung Galaxy S4 Mini ( GT-I9190 Android 4.4.2 ) . # # # # Expected Results > After bulk insert operation , all fields must be filled on both phones . # # # # Code Sample I am trying to add items with following codes . I also tried insertOrUpdate ( listOfData ) but after operation all fields are empty again . `` ` java dbRealm.beginTransaction ( ) ; dbRealm.copyToRealmOrUpdate ( institutionList ) ; dbRealm.commitTransaction ( ) ; or dbRealm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { realm.copyToRealmOrUpdate ( listOfData ) ; } } ) ; `` ` # # # # Version of Realm and tooling Realm version (
All fields are empty after bulk insert __EoT__ # # # # Goal I am trying to bulk insert to my db after network operation is completed . For network operation I am using retrofit and response of network operation is successful and all json fields are non-empty or not null . Bulk insert operation is successful and all fields are non-empty on LG G3 ( Android 5.0.0 ) however same operation and same code have not successful result on Samsung Galaxy S4 Mini ( GT-I9190 Android 4.4.2 ) . # # # # Expected Results > After bulk insert operation , all fields must be filled on both phones . # # # # Code Sample I am trying to add items with following codes . I also tried insertOrUpdate ( listOfData ) but after operation all fields are empty again . `` ` java dbRealm.beginTransaction ( ) ; dbRealm.copyToRealmOrUpdate ( institutionList ) ; dbRealm.commitTransaction ( ) ; or dbRealm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { realm.copyToRealmOrUpdate ( listOfData ) ; } } ) ; `` ` # # # # Version of Realm and tooling Realm version (
All fields are empty after bulk insert __EoT__ # # # # Goal I am trying to bulk insert to my db after network operation is completed . For network operation I am using retrofit and response of network operation is successful and all json fields are non-empty or not null . Bulk insert operation is successful and all fields are non-empty on LG G3 ( Android 5.0.0 ) however same operation and same code have not successful result on Samsung Galaxy S4 Mini ( GT-I9190 Android 4.4.2 ) . # # # # Expected Results > After bulk insert operation , all fields must be filled on both phones . # # # # Code Sample I am trying to add items with following codes . I also tried insertOrUpdate ( listOfData ) but after operation all fields are empty again . `` ` java dbRealm.beginTransaction ( ) ; dbRealm.copyToRealmOrUpdate ( institutionList ) ; dbRealm.commitTransaction ( ) ; or dbRealm.executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { realm.copyToRealmOrUpdate ( listOfData ) ; } } ) ; `` ` # # # # Version of Realm and tooling Realm version (
Samsung Tab 3 Lite 7 crashes on Realm 2.0.1 and 2.0.2 __EoT__ A Samsung Galaxy Tab 3 Lite 7 ( SM-T111 ) crashes on startup with the below error ( Android 4.2.2 ) Has been confirmed working on Nexus 5 , Nexus 4 and emulators 15 , 19 , 21 , 22 , 23 , 24 . `` ` 10-18 11:57:25.851 D/dalvikvm ( 6127 ) : Trying to load lib /data/app-lib/com.zt.android.test.realmio-1/librealm-jni.so 0x412e0568 10-18 11:57:25.851 D/dalvikvm ( 6127 ) : Added shared lib /data/app-lib/com.zt.android.test.realmio-1/librealm-jni.so 0x412e0568 10-18 11:57:25.859 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeCreateConfig 10-18 11:57:25.859 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeGetSharedRealm 1521857752 10-18 11:57:25.867 I/v_hwc ( 112 ) : hwc prepare : 3D composition 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeCloseConfig 1521857752 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeHasTable 1522273128 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeCloseSharedRealm 1522273128 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeCreateConfig 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeGetSharedRealm 1521857752 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeGetVersion 1522276080 10-18 11:57:25.875 V/REALM ( 6127 ) : -- > Java_io_realm_internal_SharedRealm_nativeCloseConfig 1521857752 10-18 11:57:25.875 V/REALM ( 6127 ) :
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Add multi process support __EoT__ Currently Realm for Java only support multi threading but not multi process .
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Batch or bulk updates __EoT__ Feature request following this discussion : https : //groups.google.com/forum/ # ! topic/realm-java/6NeywfWmCA4 Basically it allows setting a property on many objects in one operation just like this SQL : `` ` UPDATE Foo SET isDeleted = 1 WHERE name = `` 123 '' `` ` One option could be `` ` RealmResults < Foo > foos = realm.where ( Foo.class ) .equalsTo ( `` name '' , `` 123 '' ) ; realm.beginTransaction ( ) ; foos.updateAllObjects ( `` isDeleted '' , 1 ) ; realm.commitTransaction ( ) ; `` `
Realm on async thread not notify instances of Realm on main looper __EoT__ I have an application that updates a value of a determined model . Imagine this code , this is very simple : This code runs very fast , I think it is a problem of synchronisation . `` ` kotlin override fun runAsync ( id : Int , duration : Long ) { // Duration is 1000 try { if ( id > -1 ) { throw IllegalStateException ( `` id is invalid , impossible to update duration '' ) } //INVALID_VALUE is -1 if ( duration < = INVALID_VALUE ) { throw IllegalStateException ( `` Duration is a invalid value , aborting '' ) } val realm = Realm.getDefaultInstance ( ) realm.executeTransaction { val model = realm.where ( Model : :class.java ) ? .equalTo ( `` id '' , id ) ? .findFirst ( ) model ? .let { model - > if ( model.layers.isNotEmpty ) { //Always true model.layers.last ( ) .duration = duration } } } realm.close ( ) //Realm used just to assert that the update is correct . val tempRealm = Realm.getDefaultInstance ( ) val model = tempRealm.where ( Model : :class.java
SyncUser.all ( ) should return Map __EoT__ Pr . internal discussion on Sync API alignment . This method should now return a read only map with the User identifier as the key . The User identifier is currently used in the Object Store , but no the Java layer . `` ` Map < String , User > users = SyncUser.all ( ) ; users.put ( `` key '' , createUser ( ) ) ; // throws `` `
io.realm.exceptions.RealmMigrationNeededException : RealmMigration must be provided __EoT__ # # # # Goal > What do you want to achieve ? Update an existing Android application using the old ( pre January 2016 ) method for including Realm in our grade file . ( https : //realm.io/news/android-installation-change/ ) without crashes # # # # Expected Results > We expected Realm would update without crashing when we changed the way we included Realm in our application to the new way ( in the article above ) # # # # Actual Results > When users update the app from the Google Play Store , the app crashes upon opening . This is occurring when users have an old version already on their phones ( with the old way of including Realm ) . This is the stack trace we see when we re-create this crash : ` 11-22 09:02:49.356 4836-4836/com. < company-name > . < client-name > E/AndroidRuntime : FATAL EXCEPTION : main Process : com. < company-name > . < client-name > , PID : 4836 java.lang.RuntimeException : Unable to start activity ComponentInfo { com. < company-name > . < client-name > /com. < company-name > . < client-name > .SplashScreen
io.realm.exceptions.RealmMigrationNeededException : RealmMigration must be provided __EoT__ # # # # Goal > What do you want to achieve ? Update an existing Android application using the old ( pre January 2016 ) method for including Realm in our grade file . ( https : //realm.io/news/android-installation-change/ ) without crashes # # # # Expected Results > We expected Realm would update without crashing when we changed the way we included Realm in our application to the new way ( in the article above ) # # # # Actual Results > When users update the app from the Google Play Store , the app crashes upon opening . This is occurring when users have an old version already on their phones ( with the old way of including Realm ) . This is the stack trace we see when we re-create this crash : ` 11-22 09:02:49.356 4836-4836/com. < company-name > . < client-name > E/AndroidRuntime : FATAL EXCEPTION : main Process : com. < company-name > . < client-name > , PID : 4836 java.lang.RuntimeException : Unable to start activity ComponentInfo { com. < company-name > . < client-name > /com. < company-name > . < client-name > .SplashScreen
io.realm.exceptions.RealmMigrationNeededException : RealmMigration must be provided __EoT__ # # # # Goal > What do you want to achieve ? Update an existing Android application using the old ( pre January 2016 ) method for including Realm in our grade file . ( https : //realm.io/news/android-installation-change/ ) without crashes # # # # Expected Results > We expected Realm would update without crashing when we changed the way we included Realm in our application to the new way ( in the article above ) # # # # Actual Results > When users update the app from the Google Play Store , the app crashes upon opening . This is occurring when users have an old version already on their phones ( with the old way of including Realm ) . This is the stack trace we see when we re-create this crash : ` 11-22 09:02:49.356 4836-4836/com. < company-name > . < client-name > E/AndroidRuntime : FATAL EXCEPTION : main Process : com. < company-name > . < client-name > , PID : 4836 java.lang.RuntimeException : Unable to start activity ComponentInfo { com. < company-name > . < client-name > /com. < company-name > . < client-name > .SplashScreen
Bulk insert __EoT__ This is feature requested by http : //stackoverflow.com/questions/33358880/realm-java-fastest-bulk-write-methodology Most SQL database support `` batch insert '' like ` INSERT INTO tbl ( col1 , col2 ) VALUES ( 'val1 ' , 'val2 ' ) , ( 'val3 ' , 'val4 ' ) , ... ` Our current bottle neck would be when inserting lots of data , lots of duplicated checking are made , and lots or jni calls are made . We should find a way to pass a batch of different types of data to JNI and insert them through one JNI call .
OsObject.notifyChangeListeners ( ) get obfuscated by the proguard __EoT__ I 've got this error on LTE . No wifi . What 's matter ? I tested with proguard . 04-11 10:11:52.025 19739-19739/ ? E/BoostFramework : BoostFramework ( ) : Exception_1 = java.lang.ClassNotFoundException : Did n't find class `` com.qualcomm.qti.Performance '' on path : DexPathList [ [ ] , nativeLibraryDirectories= [ /system/lib , /vendor/lib ] ] 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] JNI DETECTED ERROR IN APPLICATION : mid == null 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] in call to CallVoidMethodV 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] from void android.os.MessageQueue.nativePollOnce ( long , int ) 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] `` main '' prio=5 tid=1 Runnable 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] | group= '' main '' sCount=0 dsCount=0 obj=0x7660c968 self=0xeda85400 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] | sysTid=19739 nice=0 cgrp=default sched=0/0 handle=0xf1038534 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] | state=R schedstat= ( 694933766 45404731 1180 ) utm=55 stm=14 core=5 HZ=100 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] | stack=0xff704000-0xff706000 stackSize=8MB 04-11 10:11:52.593 19739-19739/ ? A/art : art/runtime/java_vm_ext.cc:470 ] | held mutexes= `` mutator lock
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
RealmList < Integer / String / ... > __EoT__ Dear realm-Team , I 'm really impressed by Realm and I do like the way you 're providing support and solutions on github , SO and gGroups ! I like working with Realm - however there are three really big drawbacks for me : 1 ) No model-instantiation by ` = new ... ` - I know you 're on it . I ca n't wait for this ! Do we have to wait for the `` whole '' JSON-Upgrade or will there be an earlier release providing this feature ? 2 ) No model-passing across threads . That 's hindering all the great benefits of EventBus and Android Priority Job Queue . But I read that it will be possible in the further versions and I 'm looking forward on this . 3 ) **The reason for this issue : ** In my model class I 'm allowed to have primitive fields as well as object fields of objects that extend ` RealmObject ` . But I 'm not allowed to have a field type like ` RealmList < Integer > ` or ` RealmList < String > ` .
Realm API Below 19 __EoT__ realm.createObject does n't do anything in background and does work as intended on api 19 and above ! I think something is simply replaced or missed to be added ! Realm works and it works pretty well the only problem is with devices below API 19 . I think it simply does n't do anything when you ask it to create an object and the other thing i found is That just show you only one result from the whole DB and replace it in RealResultAdapter . RealmAdapter - > Above API 19 show all Realm Adapter - > Below API 19 show only one element Realm Create - > Works properly Abobe 19 Realm Create - > Not working at all some times replace old object which is only 1 . Android Studio : latest Realm : latest
Memory and file exceeds size issue __EoT__ # # # # Goal To allow app to work by solving realm memory issues # # # # Steps & Code to Reproduce 06-12 13:45:51.895 16425-16425/ ? D/dalvikvm : Late-enabling CheckJNI 06-12 13:45:51.895 16425-16425/ ? D/dalvikvm : Try to disable coredump for pid 16425 06-12 13:45:51.895 16425-16425/ ? D/dalvikvm : Process 16425 nice name : com.tcrsoftware.android 06-12 13:45:51.895 16425-16425/ ? D/dalvikvm : Extra Options : not specified 06-12 13:45:51.935 16425-16425/com.tcrsoftware.android I/MultiDex : VM with version 1.6.0 does not have multidex support 06-12 13:45:51.935 16425-16425/com.tcrsoftware.android I/MultiDex : install 06-12 13:45:51.935 16425-16425/com.tcrsoftware.android I/MultiDex : MultiDexExtractor.load ( /data/app/com.tcrsoftware.android-2.apk , false ) 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android I/MultiDex : loading existing secondary dex files 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android I/MultiDex : load found 1 secondary dex files 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android I/MultiDex : install done 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android D/dalvikvm : DexOpt : could n't find static field Landroid/os/Build ; .SUPPORTED_ABIS 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android W/dalvikvm : VFY : unable to resolve static field 162 ( SUPPORTED_ABIS ) in Landroid/os/Build ; 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android D/dalvikvm : VFY : replacing opcode 0x62 at 0x0006 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android D/dalvikvm : DexOpt : could n't find static field Landroid/os/Build ; .SUPPORTED_ABIS 06-12 13:45:51.945 16425-16425/com.tcrsoftware.android I/dalvikvm :
Error : Operation not permitted in io_realm_internal_SharedGroup.cpp __EoT__ # # # # Goal > What do you want to achieve ? # # # # Actual Results io.realm.exceptions.RealmError : Unrecoverable error . Operation not permitted in io_realm_internal_SharedGroup.cpp line 113 at io.realm.internal.SharedGroup.createNativeWithImplicitTransactions ( Native Method ) at io.realm.internal.SharedGroup.openSharedGroupOrFail ( SharedGroup.java:95 ) at io.realm.internal.SharedGroup. & lt ; init & gt ; ( SharedGroup.java:74 ) at io.realm.internal.SharedGroupManager. & lt ; init & gt ; ( SharedGroupManager.java:49 ) at io.realm.BaseRealm. & lt ; init & gt ; ( BaseRealm.java:81 ) at io.realm.Realm. & lt ; init & gt ; ( Realm.java:140 ) at io.realm.Realm.createAndValidate ( Realm.java:240 ) at io.realm.Realm.createInstance ( Realm.java:220 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:126 ) at io.realm.Realm.getDefaultInstance ( Realm.java:166 ) at br.com.jbsoft.mobile.di.modules.ProviderModule.provideRealm ( ProviderModule.java:28 ) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get ( ProviderModule_ProvideRealmFactory.java:19 ) at br.com.jbsoft.mobile.di.modules.ProviderModule_ProvideRealmFactory.get ( ProviderModule_ProvideRealmFactory.java:8 ) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers ( ControleUsuario_MembersInjector.java:33 ) at br.com.jbsoft.mobile.models.ControleUsuario_MembersInjector.injectMembers ( ControleUsuario_MembersInjector.java:9 ) at br.com.jbsoft.mobile.di.components.DaggerProviderComponent.inject ( DaggerProviderComponent.java:243 ) at br.com.jbsoft.mobile.models.ControleUsuario.inject ( ControleUsuario.java:31 ) at br.com.jbsoft.mobile.models.ControleUsuario.getUsuario ( ControleUsuario.java:35 ) at br.com.jbsoft.mobile.views.Main.onCreate ( Main.java:59 ) at br.com.jbsoft.mobile.componentes.BaseActivity.onCreate ( BaseActivity.java:86 ) at android.app.Activity.performCreate ( Activity.java:6500 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1120 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:3072 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:3218 ) at android.app.ActivityThread.access $ 1000 ( ActivityThread.java:198 ) at android.app.ActivityThread $ H.handleMessage (
Credentials.usernamePassword with multiple options __EoT__ Pr . internal discussion on API alignment on Sync API 's , we need to supply a ` createAccountIfNeeded ` or ` createUser|useExistingAccount ` option . `` ` // Current Credentials.usernamePassword ( `` username '' , `` password '' , true ) ; // Last parameters should be a flag supporting the following : // createUser , useExistingAccount and createUser|useExistingAccount ~ createUserIfNeeded // Natural suggestion would either be enum or bitwise flags , but I think just having another constructor could be simpler : Credentials.usernamePassword ( `` user '' , `` password '' ) ; // no boolean param = createifNeeded Credentials.usernamePassword ( `` user '' , `` password '' , false ) ; // Choose to create or not // Alternatives Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.Options.CREATE_IF_NEEDED ) ; Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.CREATE_ACCOUNT | Credentials.USE_EXISITING_ACCOUNT ) ; `` ` Thoughts @ realm/java ?
Credentials.usernamePassword with multiple options __EoT__ Pr . internal discussion on API alignment on Sync API 's , we need to supply a ` createAccountIfNeeded ` or ` createUser|useExistingAccount ` option . `` ` // Current Credentials.usernamePassword ( `` username '' , `` password '' , true ) ; // Last parameters should be a flag supporting the following : // createUser , useExistingAccount and createUser|useExistingAccount ~ createUserIfNeeded // Natural suggestion would either be enum or bitwise flags , but I think just having another constructor could be simpler : Credentials.usernamePassword ( `` user '' , `` password '' ) ; // no boolean param = createifNeeded Credentials.usernamePassword ( `` user '' , `` password '' , false ) ; // Choose to create or not // Alternatives Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.Options.CREATE_IF_NEEDED ) ; Credentials.usernamePassword ( `` user '' , `` password '' , Credentials.CREATE_ACCOUNT | Credentials.USE_EXISITING_ACCOUNT ) ; `` ` Thoughts @ realm/java ?
Calling setter method in no argument constructor results in NPE __EoT__ # # # # Goal Be able to use setter methods in the no arguments constructor . # # # # Expected Results No NPE and field set to the given value . # # # # Actual Results `` ` Caused by : java.lang.NullPointerException : Attempt to invoke virtual method 'void io.realm.BaseRealm.checkIfValid ( ) ' on a null object reference at io.realm.ModelRealmProxy.realmSet $ string ( ModelRealmProxy.java:62 ) at de.jonasrottmann.realmtest.Model.setString ( Model.java:13 ) at de.jonasrottmann.realmtest.Model. < init > ( Model.java:19 ) at io.realm.ModelRealmProxy. < init > ( ModelRealmProxy.java:51 ) at io.realm.DefaultRealmModuleMediator.newInstance ( DefaultRealmModuleMediator.java:80 ) at io.realm.BaseRealm.get ( BaseRealm.java:521 ) at io.realm.Realm.createObject ( Realm.java:709 ) `` ` # # # # Code Sample `` ` java public class Model extends RealmObject { public String string ; public void setString ( String string ) { this.string = string ; } public Model ( ) { setString ( `` Success ! `` ) ; } } `` ` # # # # Version of Realm and tooling Realm version ( s ) : 0.88.2 Android Studio version : 2.1 Preview 4 Which Android version and device : 6.0.1 ( MHC19J ) on
Calling setter method in no argument constructor results in NPE __EoT__ # # # # Goal Be able to use setter methods in the no arguments constructor . # # # # Expected Results No NPE and field set to the given value . # # # # Actual Results `` ` Caused by : java.lang.NullPointerException : Attempt to invoke virtual method 'void io.realm.BaseRealm.checkIfValid ( ) ' on a null object reference at io.realm.ModelRealmProxy.realmSet $ string ( ModelRealmProxy.java:62 ) at de.jonasrottmann.realmtest.Model.setString ( Model.java:13 ) at de.jonasrottmann.realmtest.Model. < init > ( Model.java:19 ) at io.realm.ModelRealmProxy. < init > ( ModelRealmProxy.java:51 ) at io.realm.DefaultRealmModuleMediator.newInstance ( DefaultRealmModuleMediator.java:80 ) at io.realm.BaseRealm.get ( BaseRealm.java:521 ) at io.realm.Realm.createObject ( Realm.java:709 ) `` ` # # # # Code Sample `` ` java public class Model extends RealmObject { public String string ; public void setString ( String string ) { this.string = string ; } public Model ( ) { setString ( `` Success ! `` ) ; } } `` ` # # # # Version of Realm and tooling Realm version ( s ) : 0.88.2 Android Studio version : 2.1 Preview 4 Which Android version and device : 6.0.1 ( MHC19J ) on
Calling setter method in no argument constructor results in NPE __EoT__ # # # # Goal Be able to use setter methods in the no arguments constructor . # # # # Expected Results No NPE and field set to the given value . # # # # Actual Results `` ` Caused by : java.lang.NullPointerException : Attempt to invoke virtual method 'void io.realm.BaseRealm.checkIfValid ( ) ' on a null object reference at io.realm.ModelRealmProxy.realmSet $ string ( ModelRealmProxy.java:62 ) at de.jonasrottmann.realmtest.Model.setString ( Model.java:13 ) at de.jonasrottmann.realmtest.Model. < init > ( Model.java:19 ) at io.realm.ModelRealmProxy. < init > ( ModelRealmProxy.java:51 ) at io.realm.DefaultRealmModuleMediator.newInstance ( DefaultRealmModuleMediator.java:80 ) at io.realm.BaseRealm.get ( BaseRealm.java:521 ) at io.realm.Realm.createObject ( Realm.java:709 ) `` ` # # # # Code Sample `` ` java public class Model extends RealmObject { public String string ; public void setString ( String string ) { this.string = string ; } public Model ( ) { setString ( `` Success ! `` ) ; } } `` ` # # # # Version of Realm and tooling Realm version ( s ) : 0.88.2 Android Studio version : 2.1 Preview 4 Which Android version and device : 6.0.1 ( MHC19J ) on
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
Migrate SyncManager to ObjectStore __EoT__ SyncManager class should be migrated to the ObjectStore
RealmMigrationNeededException after renaming an indexed field and adding a new field with the old name __EoT__ Hello ! Recently , I had to rename an indexed field and add a new field with the same name as the old name for the existing one , but without an index . Everything was okay until we noticed that users are getting an exception and ca n't even launch the app . Stack trace : `` ` java io.realm.exceptions.RealmMigrationNeededException : Field count is less than expected - expected 13 but was 12 at io.realm.EventRealmProxy.validateTable ( EventRealmProxy.java:701 ) at io.realm.DefaultRealmModuleMediator.validateTable ( DefaultRealmModuleMediator.java:78 ) at io.realm.Realm.initializeRealm ( Realm.java:348 ) at io.realm.Realm.createAndValidate ( Realm.java:313 ) at io.realm.Realm.createInstance ( Realm.java:278 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:143 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) at [ redacted ] `` ` Event class before the changes : `` ` java public class Event extends RealmObject implements Parcelable , MediaObject { @ PrimaryKey private long id ; @ Index private int channelId ; private Channel channel ; private String title ; private String description ; private String picture ; private Long timeStartUnix ; private Long timeStopUnix ; private String category1 ; private String sysStatus ; private boolean isArchive ; private String
Use ObjectStore functions for creating meta tables __EoT__ To ensure full and stable compatibility between platforms we need to use Object Store functionality for creating the ` meta ` and ` pk ` tables . See e.g https : //github.com/realm/realm-java/pull/3409 # discussion-diff-78084779
Use ObjectStore functions for creating meta tables __EoT__ To ensure full and stable compatibility between platforms we need to use Object Store functionality for creating the ` meta ` and ` pk ` tables . See e.g https : //github.com/realm/realm-java/pull/3409 # discussion-diff-78084779
Reverse lookup ( Backlinks ) __EoT__ Hi guys , I looked at the documentation and found support for linked queries . Is reverse lookup currently possible with the java version of Realm ? I 'm also using Realm on Cocoa which just added support for reverse lookup and wondered if there is already support for this feature in Java . Thanks a lot !
Reverse lookup ( Backlinks ) __EoT__ Hi guys , I looked at the documentation and found support for linked queries . Is reverse lookup currently possible with the java version of Realm ? I 'm also using Realm on Cocoa which just added support for reverse lookup and wondered if there is already support for this feature in Java . Thanks a lot !
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Feature Request : Manual `` Refresh '' ( synchronization of Realm instance to latest version on background thread ) __EoT__ # # # # Goal > What do you want to achieve ? I feel a certain set of de-ja-vu , but I 'd like to execute a periodic task in an ` IntentService ` and ensure that the Realm is always up to date for querying data without having to execute a transaction on non-looper ( or IntentService ) background thread . # # # # Expected Results Call ` realm.refresh ( ) ` on a background non-looper ( or IntentService ) thread , and the Realm instance should be synchronized to its latest version . # # # # Actual Results This method was removed in 0.89.0 in favor of ` waitForChange ( ) ` , but that method is difficult to work with [ waitForChange ( ) /stopWaitForChange ( ) ] ( https : //gist.github.com/cmelchior/8786ec511f7e1f47673935a26f568106 ) because you need to use your own thread , and you can not wake it up periodically while it waits for a Realm change . # # # # Code Sample http : //stackoverflow.com/questions/39600315/realm-not-fetching-data or http : //stackoverflow.com/questions/38833163/realmchangelistener-does-not-get-called-when-realm-gets-updated-in-notificationl or http :
Support mapping from field name in model class to column name in database file . __EoT__ If other bindings than Java create a field ` class ` , we ca n't access to it with typed Realm since we ca n't define the field ` class ` in model classes . One idea to solve this is that introducing ` Field ` annotation which maps field name in model class and column name in Realm database file .
Support mapping from field name in model class to column name in database file . __EoT__ If other bindings than Java create a field ` class ` , we ca n't access to it with typed Realm since we ca n't define the field ` class ` in model classes . One idea to solve this is that introducing ` Field ` annotation which maps field name in model class and column name in Realm database file .
Support mapping from field name in model class to column name in database file . __EoT__ If other bindings than Java create a field ` class ` , we ca n't access to it with typed Realm since we ca n't define the field ` class ` in model classes . One idea to solve this is that introducing ` Field ` annotation which maps field name in model class and column name in Realm database file .
Support mapping from field name in model class to column name in database file . __EoT__ If other bindings than Java create a field ` class ` , we ca n't access to it with typed Realm since we ca n't define the field ` class ` in model classes . One idea to solve this is that introducing ` Field ` annotation which maps field name in model class and column name in Realm database file .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Make Realm class to implement an interface __EoT__ Please could you make the Realm class to implement an interface with standard methods ? It is impossible to mock final singleton . So it is almost impossible to unit test anything using Realm . Thank you M .
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Lists Of Primitives for Kotlin-types ( String , Int etc . ) __EoT__ # # # # Goal I want to use the new **Lists Of Primitives**-Feature with **Kotlin** . So it needs to support Kotlin-types as well ( e.g . ` kotlin.String ` instead of only ` java.lang.String ` ) . See https : //realm.io/docs/java/latest/ # lists-of-primitives Refs https : //github.com/realm/realm-java/pull/5031 # issuecomment-346624558 # # # # Expected Results A ` RealmList ` with a Kotlin-type should be possible . `` ` kotlin open class Foo ( var bar : RealmList < kotlin.String > ? = null ) : RealmObject ( ) `` ` # # # # Actual Results The compiler gives the following error : > Error : Element type of RealmList must be a class implementing 'RealmModel ' or one of the 'java.lang.String ' , 'byte [ ] ' , 'java.lang.Boolean ' , 'java.lang.Long ' , 'java.lang.Integer ' , 'java.lang.Short ' , 'java.lang.Byte ' , 'java.lang.Double ' , 'java.lang.Float ' , 'java.util.Date ' . Using ` RealmList < java.lang.String > ` produces the same error . # # # # Steps & Code to Reproduce Just create a new Kotlin-class with the code above and try
Crash In Android 4.2.1 & Android 4.2.2 With Realm 3.0 __EoT__ please help me . I use realm 3.0. and collect crash in android 4.2.1 & android 4.2.2 ( level 17 ) . It looks like only crash in level 17 . # # This is crash log : main ( 1 ) SIGSEGV ( SEGV_ACCERR ) # 00 pc 00018b6c /system/lib/libc.so ( memcpy+1324 ) [ armeabi-v7a ] java : io.realm.internal.SharedRealm.long nativeGetTable ( long , java.lang.String ) ( Native Method ) io.realm.internal.SharedRealm.io.realm.internal.Table getTable ( java.lang.String ) ( ProGuard:271 ) io.realm.MasteryRealmBeanRealmProxy.io.realm.internal.Table initTable ( io.realm.internal.SharedRealm ) ( ProGuard:149 ) io.realm.PersonSchemaMediator.io.realm.internal.Table createTable ( java.lang.Class , io.realm.internal.SharedRealm ) ( ProGuard:58 ) io.realm.Realm.void initializeRealm ( io.realm.Realm ) ( ProGuard:347 ) io.realm.Realm.io.realm.Realm createAndValidate ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:314 ) io.realm.Realm.io.realm.Realm createInstance ( io.realm.RealmConfiguration , io.realm.internal.ColumnIndices [ ] ) ( ProGuard:265 ) io.realm.RealmCache.io.realm.BaseRealm createRealmOrGetFromCache ( io.realm.RealmConfiguration , java.lang.Class ) ( ProGuard:143 ) io.realm.Realm.io.realm.Realm getInstance ( io.realm.RealmConfiguration ) ( ProGuard:228 ) com.shensz.student.service.storage.StorageService.io.realm.Realm getPersonRealm ( ) ( ProGuard:120 ) # # This is my code : private static final String REALM_NAME_PREFIX = `` person . `` ; private static final String REALM = `` .realm '' ; private RealmConfiguration getPersonRealmConfiguration ( String uid ) {
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Integrate Object Store __EoT__ - [ x ] Base PR for making build work . See # 3102 - Enable cmake with our build system . - Enable cmake on CI . - Use git ~~subtree~~ submodule to integrate OS repo . - Use clang to compile since gcc 4.9 has problems with OS compiling . - Removing ` realm-jni ` wo n't be part of this to avoid conflicts . They can be remove after this merged to master . - [ x ] Integrate SharedRealm from OS . See # 3031 - Replace ` SharedGroup ` / ` Group ` by ` SharedRealm ` . - More details see # 3031 . - [ ] Integrate ` Property ` / ` Schema ` / ` ObjectSchema ` . ( # 3066 ) - [ x ] Integrate OS notification ( # 3370 ) - [ x ] Integrate ` Results ` for the future fine grained notification . ( # 3834 ) - [ x ] Clean up finalizers ? It is a good time to start it right now . ( # 3144 ) Reviewing and merging # 3102 is the basis of the integration .
Realm.getInstanceAsync ( ) __EoT__ **Edit by CM** : Changing the focus slightly of this issue . Discussions around exposing info and callbacks for custom migrations have been moved to # 4083 -- - As described in # 4270 we need to expose a ` Realm.getInstanceAsync ( config ) ` in order to allow synced Realms to be downloaded first . **Usage** `` ` java // Create configuration RealmConfiguration config = new RealmConfiguration.Builder ( ) .migration ( new MyMigration ( ) ) .schemaVersion ( 42 ) .build ( ) ; // Get instance on a Looper thread Realm.getInstanceAsync ( config , new Realm.Callback ( ) { public void OnSuccess ( Realm realm ) { // Use Realm } // Do we really want to force both onSuccess and onError ? // Perhaps make Realm.Callback abstract and provide default impl for this ? // Should we instead provide ` getInstanceAsync ( config , onSuccess , onError ) ` ? public void onError ( Exception e ) { // Something went wrong ? Migration failed , problems opening file ? } } ) `` ` **TODO** This issue is therefore now about the following : - [ x ] Add new API `
Realm.getInstanceAsync ( ) __EoT__ **Edit by CM** : Changing the focus slightly of this issue . Discussions around exposing info and callbacks for custom migrations have been moved to # 4083 -- - As described in # 4270 we need to expose a ` Realm.getInstanceAsync ( config ) ` in order to allow synced Realms to be downloaded first . **Usage** `` ` java // Create configuration RealmConfiguration config = new RealmConfiguration.Builder ( ) .migration ( new MyMigration ( ) ) .schemaVersion ( 42 ) .build ( ) ; // Get instance on a Looper thread Realm.getInstanceAsync ( config , new Realm.Callback ( ) { public void OnSuccess ( Realm realm ) { // Use Realm } // Do we really want to force both onSuccess and onError ? // Perhaps make Realm.Callback abstract and provide default impl for this ? // Should we instead provide ` getInstanceAsync ( config , onSuccess , onError ) ` ? public void onError ( Exception e ) { // Something went wrong ? Migration failed , problems opening file ? } } ) `` ` **TODO** This issue is therefore now about the following : - [ x ] Add new API `
Realm.getInstanceAsync ( ) __EoT__ **Edit by CM** : Changing the focus slightly of this issue . Discussions around exposing info and callbacks for custom migrations have been moved to # 4083 -- - As described in # 4270 we need to expose a ` Realm.getInstanceAsync ( config ) ` in order to allow synced Realms to be downloaded first . **Usage** `` ` java // Create configuration RealmConfiguration config = new RealmConfiguration.Builder ( ) .migration ( new MyMigration ( ) ) .schemaVersion ( 42 ) .build ( ) ; // Get instance on a Looper thread Realm.getInstanceAsync ( config , new Realm.Callback ( ) { public void OnSuccess ( Realm realm ) { // Use Realm } // Do we really want to force both onSuccess and onError ? // Perhaps make Realm.Callback abstract and provide default impl for this ? // Should we instead provide ` getInstanceAsync ( config , onSuccess , onError ) ` ? public void onError ( Exception e ) { // Something went wrong ? Migration failed , problems opening file ? } } ) `` ` **TODO** This issue is therefore now about the following : - [ x ] Add new API `
Native code failure in librealm-jni.so __EoT__ An user of my application has a problem that the application crashes everytime when using latest version of realm 2.0.2 . I got a logcat from my user , see below . Is there please anything that I or him can do ? I 'm currently not sure if this will happen to more users , the same user was previously using Realm 1.1.0 and it was working correctly on the same device . > -- - > > Build fingerprint : 'motorola/XT926_verizon/vanquish:4.4.2/KDA20.62-15.1/15 : user/release-keys' > Revision : 'p300' > pid : 1817 , tid : 1817 , name : rak.myapplication > > > com.myapplication < < < > signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 0000002c > r0 00000000 r1 4187e4d8 r2 00000000 r3 4187cfd8 > r4 00000000 r5 4187cfd8 r6 5fa78e90 r7 5fa78e98 > r8 416a3c38 r9 00000000 sl 416a3c38 fp 5b7f224c > ip 00000001 sp be81d478 lr 416353c9 pc 416353ce cpsr 600d0030 > d0 0000000000000000 d1 0000000000000000 > d2 0000000000000000 d3 0000000000000000 > d4 4026000000000000 d5 316c3131316c6c31 > d6 4026000000000000 d7 0000000b00000000 > d8 0000000000000000 d9 0000000000000000 > d10 0000000000000000 d11 0000000000000000 > d12
Realm 1.2.0 : removing @ PrimaryKey constraint does not trigger RealmMigrationNeededException __EoT__ I like the whole issue template thing , but this one really does n't need one . ` deleteIfMigrationNeeded ( ) ` did not delete Realm after removing ` @ PrimaryKey ` annotation . # # # # Version of Realm and tooling Realm version ( s ) : 1.2.0 Realm sync feature enabled : no Android Studio version : . Which Android version and device : .
missing field type getter of DynamicRealmObject __EoT__ In order to access model object by generic way , we have to know the type of each field . I 'd like to write as follows . `` ` DynamicRealmObject obj = ... ; for ( String fieldName : obj.getFieldNames ( ) ) { switch ( obj.getFieldType ( fieldName ) ) { // getFieldType ( String ) is missing case BOOLEAN : boolean b = obj.getBoolean ( fieldName ) ; // do something break ; case STRING : String str = obj.getString ( fieldName ) ; // do something break ; ... } } `` `
Table getInt ( long columnIndex , long rowIndex ) function __EoT__ I checked Table class and I ca n't found getInt ( long columnIndex , long rowIndex ) , is there any other way to get value with ColumnType INTEGER from Table class ? Thanks
Operation not permitted in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 81 __EoT__ Operation not permitted in /Users/zaki/fromgit/realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 I want create my realm file on external storage , when i use Realm.getDefaultInstance ( ) , i get the exception . In MyApplication.java : Realm.init ( this ) ; File directory = new File ( Environment.getExternalStorageDirectory ( ) , `` RealmSamplesData '' ) ; if ( ! directory.exists ( ) ) directory.mkdirs ( ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .name ( `` myrealm.realm '' ) .directory ( directory ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; In MainActivity.java : mRealm = Realm.getDefaultInstance ( ) ; `` ` # # # # Version of Realm and tooling Realm version ( s ) : 2.1.1 Android Studio version : 2.2.2 Which Android version and device : Android 4.4 , on PDA device `` `
Operation not permitted in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 81 __EoT__ Operation not permitted in /Users/zaki/fromgit/realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 I want create my realm file on external storage , when i use Realm.getDefaultInstance ( ) , i get the exception . In MyApplication.java : Realm.init ( this ) ; File directory = new File ( Environment.getExternalStorageDirectory ( ) , `` RealmSamplesData '' ) ; if ( ! directory.exists ( ) ) directory.mkdirs ( ) ; RealmConfiguration config = new RealmConfiguration.Builder ( ) .name ( `` myrealm.realm '' ) .directory ( directory ) .build ( ) ; Realm.setDefaultConfiguration ( config ) ; In MainActivity.java : mRealm = Realm.getDefaultInstance ( ) ; `` ` # # # # Version of Realm and tooling Realm version ( s ) : 2.1.1 Android Studio version : 2.2.2 Which Android version and device : Android 4.4 , on PDA device `` `
'com.intellij : annotations ' lib included as generated code , causing DEX conflicts __EoT__ # # # # Goal Build an application that depends on Realm and an ` aar ` dependency that includes ` com.intellij : annotations ` as a dependency . # # # # Expected Results The application builds successfully . # # # # Actual Results When assembling the application , I get this error . `` ` FAILURE : Build failed with an exception . * What went wrong : Execution failed for task ' : apps : questionnaire : app : transformClassesWithDexForDebug ' . > com.android.build.api.transform.TransformException : com.android.ide.common.process.ProcessException : java.util.concurrent.ExecutionException : com.android.dex.DexException : Multiple dex files define Lorg/jetbrains/annotations/NotNull ; `` ` # # # # Steps & Code to Reproduce App build file contains the following : `` ` buildscript { repositories { classpath 'io.realm : realm-gradle-plugin:1.1.0' } } dependencies { compile project ( ' : path : to : library : project ' ) } `` ` Library build file contains : `` ` dependencies { compile 'com.intellij : annotations:12.0' } `` ` # # # # Workaround Since Realm generates the annotations library into the ` build/intermediates/transforms/RealmOptionalAPITransformer/debug/folders/1/10/realm-optional-api/org/jetbrains ` , there is no
RealmFileException when call Realm.getDefaultInstance ( ) __EoT__ I 'm called Realm.init ( context ) on Application onCreate . Then RealmFileException when call Realm.getDefaultInstance ( ) ， but default.realm is exists . The following log： 12-25 02:11:29.940 29972-29972/com.linchaolong.android.app E/AndroidRuntime : FATAL EXCEPTION : main Process : com.linchaolong.android.app , PID : 29972 io.realm.exceptions.RealmFileException : Unable to open a realm at path '/data/data/com.linchaolong.android.app/files/default.realm ' : Not a Realm file . in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 Kind : ACCESS_ERROR . at io.realm.internal.SharedRealm.nativeGetSharedRealm ( Native Method ) at io.realm.internal.SharedRealm.getInstance ( SharedRealm.java:205 ) at io.realm.internal.SharedRealm.getInstance ( SharedRealm.java:182 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:124 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) at com.linchaolong.android.library.orm.RealmUtils.get ( RealmUtils.java:72 ) at com.linchaolong.android.app.home.DatabaseFragment.onCreate ( DatabaseFragment.java:39 ) at android.support.v4.app.Fragment.performCreate ( Fragment.java:2075 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1060 ) at android.support.v4.app.FragmentManagerImpl.moveToState ( FragmentManager.java:1295 ) at android.support.v4.app.BackStackRecord.run ( BackStackRecord.java:801 ) at android.support.v4.app.FragmentManagerImpl.execPendingActions ( FragmentManager.java:1682 ) at android.support.v4.app.FragmentManagerImpl $ 1.run ( FragmentManager.java:541 ) at android.os.Handler.handleCallback ( Handler.java:733 ) at android.os.Handler.dispatchMessage ( Handler.java:95 ) at android.os.Looper.loop ( Looper.java:136 ) at android.app.ActivityThread.main ( ActivityThread.java:5016 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:515 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:795 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:611 ) at dalvik.system.NativeStart.main ( Native Method ) 12-25 02:11:30.014 2591-2591/ ? E/octvm : open /sys/class/power_supply/battery/status
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
Array of primitives : Support JSON methods __EoT__ Split from https : //github.com/realm/realm-java/pull/5031 All our ` realm.create*FromJSON ( ) ` methods should support arrays of primitives .
uncaught exception in notifier thread : N5realm10LogicErrorE : Bad version number __EoT__ # # # # Steps & Code to Reproduce Unfortunately , do n't have any specific steps or code sample to reproduce . It is just randomly crash and it sometimes crashes in different places , but we can not get it in Realm v2.3.1 . I found similar issue in realm-cocoa @ https : //github.com/realm/realm-cocoa/issues/4422 . # # # # Version of Realm and tooling Realm version ( s ) : 3.0.0 Realm sync feature enabled : no Android Studio version : 2.3 Which Android version and device : Android 7.1.1 on Nexus 5X , Android 4.3 on Samsung S3 GT-I9300 , Emulator Android # # # # Logcat 03-29 18:15:00.773 27003-27038 E/REALM : uncaught exception in notifier thread : N5realm10LogicErrorE : Bad version number -- -- -- -- - beginning of crash 03-29 18:15:00.776 27003-27038 A/libc : Fatal signal 6 ( SIGABRT ) , code -6 in tid 27038 ( -//- ) [ 03-29 18:15:00.785 367 : 367 W/ ] debuggerd : handling request : pid=27003 uid=10376 gid=10376 tid=27038 03-29 18:15:01.005 27758-27758 A/DEBUG : *** *** *** *** *** *** *** *** *** *** *** ***
Test : Reconnect not happening correctly __EoT__ Leaving a phone in airplane mode for a couple of minutes , then try to activate it again . The Java layer does not seem to handle this well resulting in the access token not being refreshed `` ` 10-10 13:58:15.082 20935-21485/io.realm.examples.objectserver E/REALM_SYNC : Connection [ 2 ] : Failed to connect to endpoint '192.168.87.111:9080 ' : Network is unreachable 10-10 13:58:15.083 20935-21485/io.realm.examples.objectserver E/REALM_SYNC : Connection [ 2 ] : Failed to connect to '192.168.87.111:9080 ' : All endpoints failed 10-10 13:58:15.083 20935-21485/io.realm.examples.objectserver D/REALM_SYNC : Connection [ 2 ] : Reconnecting in 55173 milliseconds 10-10 13:58:20.776 20935-20935/io.realm.examples.objectserver D/REALM_JAVA : NetworkListener : Connection available 10-10 13:58:47.485 20935-22048/io.realm.examples.objectserver D/REALM_JAVA : Network request ( authenticate ) : http : //192.168.87.111:9080/auth 10-10 13:58:54.420 20935-20935/io.realm.examples.objectserver D/REALM_JAVA : NetworkListener : Connection available 10-10 13:58:54.422 20935-20935/io.realm.examples.objectserver D/REALM_JAVA : NetworkListener : Connection available 10-10 13:58:59.640 20935-22048/io.realm.examples.objectserver D/REALM_JAVA : AuthenticateResponse - Error : UNKNOWN ( -1 ) java.net.SocketException : Connection reset at java.net.SocketInputStream.read ( SocketInputStream.java:209 ) at java.net.SocketInputStream.read ( SocketInputStream.java:139 ) at okio.Okio $ 2.read ( Okio.java:138 ) at okio.AsyncTimeout $ 2.read ( AsyncTimeout.java:236 ) at okio.RealBufferedSource.indexOf ( RealBufferedSource.java:344 ) at okio.RealBufferedSource.readUtf8LineStrict ( RealBufferedSource.java:216 ) at okio.RealBufferedSource.readUtf8LineStrict ( RealBufferedSource.java:210 ) at okhttp3.internal.http1.Http1Codec.readResponseHeaders
release step failed at monkeyDebug __EoT__ I got a COULD_NOT_FIND_MATCHING_ABI error when running ` monkeyDebug ` against our GridViewExample that uses APK Split . We need to figure out why
release step failed at monkeyDebug __EoT__ I got a COULD_NOT_FIND_MATCHING_ABI error when running ` monkeyDebug ` against our GridViewExample that uses APK Split . We need to figure out why
[ Sync ] Change stop policy to SyncSessionStopPolicy : : __EoT__ Current policy for the session is ` SyncSessionStopPolicy : :Immediately ` we should change it to ` SyncSessionStopPolicy : : AfterChangesUploaded ` to align with other binding and to prevent use cases where the Realm might be deleted before the last changes get synchronised . This can happen when using ` logout ` which will mark the ` SyncUser ` and associated Realms to be deleted on the next app launch . https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp # L177-L182 https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_manager.cpp # L123-L140
[ Sync ] Change stop policy to SyncSessionStopPolicy : : __EoT__ Current policy for the session is ` SyncSessionStopPolicy : :Immediately ` we should change it to ` SyncSessionStopPolicy : : AfterChangesUploaded ` to align with other binding and to prevent use cases where the Realm might be deleted before the last changes get synchronised . This can happen when using ` logout ` which will mark the ` SyncUser ` and associated Realms to be deleted on the next app launch . https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp # L177-L182 https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_manager.cpp # L123-L140
[ Sync ] Change stop policy to SyncSessionStopPolicy : : __EoT__ Current policy for the session is ` SyncSessionStopPolicy : :Immediately ` we should change it to ` SyncSessionStopPolicy : : AfterChangesUploaded ` to align with other binding and to prevent use cases where the Realm might be deleted before the last changes get synchronised . This can happen when using ` logout ` which will mark the ` SyncUser ` and associated Realms to be deleted on the next app launch . https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp # L177-L182 https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_manager.cpp # L123-L140
[ Sync ] Change stop policy to SyncSessionStopPolicy : : __EoT__ Current policy for the session is ` SyncSessionStopPolicy : :Immediately ` we should change it to ` SyncSessionStopPolicy : : AfterChangesUploaded ` to align with other binding and to prevent use cases where the Realm might be deleted before the last changes get synchronised . This can happen when using ` logout ` which will mark the ` SyncUser ` and associated Realms to be deleted on the next app launch . https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_user.cpp # L177-L182 https : //github.com/realm/realm-object-store/blob/master/src/sync/sync_manager.cpp # L123-L140
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm just update half of search result __EoT__ `` ` Realm realm = Realm.getDefaultInstance ( ) ; RealmResults < Message > messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; realm.beginTransaction ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; for ( int i=0 ; i < messages.size ( ) ; i++ ) { messages.get ( i ) .setRead ( true ) ; } realm.commitTransaction ( ) ; messages = realm.where ( Message.class ) .equalTo ( `` read '' , false ) .findAll ( ) ; Log.i ( `` Total '' , messages.size ( ) + `` '' ) ; realm.close ( ) ; `` ` Console : I/Total : 42 I/Total : 21
Realm 3.4.0 : isEmpty for linked relationships causes SIGSEGV __EoT__ # # # # Goal Query for empty inverse relationships : get all dogs without owners . # # # # Expected Results Query should return the dogs without owners . # # # # Actual Results SIGSEGV : `` ` 06-27 22:21:19.670 3461-3461/com.realm.bug.realmbug A/libc : Fatal signal 11 ( SIGSEGV ) , code 2 , fault addr 0x2429a227 in tid 3461 ( lm.bug.realmbug ) [ 06-27 22:21:19.670 1256 : 1256 W/ ] debuggerd : handling request : pid=3461 uid=10079 gid=10079 tid=3461 `` ` Full log attached : [ full_log.txt ] ( https : //github.com/realm/realm-java/files/1106998/full_log.txt ) # # # # Steps & Code to Reproduce The first query ( ` equalTo ( `` owner.id '' , `` person '' ) ` ) is successful , and works as expected : ` 06-27 21:52:47.999 31101-31101/com.realm.bug.realmbug I/MainActivity : size=1 ` However the second ( ` isEmpty ( `` owner '' ) ` ) causes segfault . # # # # Code Sample ` Dog ` and ` Person ` are simple ` RealmObject ` s with ` @ PrimaryKey ` id . `` ` java private void testRealmBug ( Context context )
io.realm.exceptions.RealmError : Unrecoverable error . Table index out of range in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 __EoT__ Hi , first of all , I have zero knowledge of Android development . Recently we 've been receiving reports of Android smartphones crashing eventually at random points after extended use of our app . Today we 've finally managed to capture this on debug and got this stack trace . # # # # Stack trace `` ` java 12-12 11:08:20.274 5641-5641/com.oraintechnologies.iot E/AndroidRuntime : FATAL EXCEPTION : main io.realm.exceptions.RealmError : Unrecoverable error . Table index out of range in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_SharedRealm.cpp line 92 at io.realm.internal.SharedRealm.nativeGetSharedRealm ( Native Method ) at io.realm.internal.SharedRealm.a ( Unknown Source ) at io.realm.internal.SharedRealm.a ( Unknown Source ) at io.realm.p.a ( Unknown Source ) at io.realm.n.l ( Unknown Source ) at com.oraintechnologies.iot.OrainApplication.a ( Unknown Source ) at com.oraintechnologies.iot.init.Init.onCreate ( Unknown Source ) at android.app.Activity.performCreate ( Activity.java:5206 ) at android.app.Instrumentation.callActivityOnCreate ( Instrumentation.java:1094 ) at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2074 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2135 ) at android.app.ActivityThread.access $ 700 ( ActivityThread.java:140 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1237 ) at android.os.Handler.dispatchMessage ( Handler.java:99 ) at android.os.Looper.loop ( Looper.java:137 ) at android.app.ActivityThread.main ( ActivityThread.java:4921 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:511 )
Allow 0-length values array on RealmQuery.in ( ) __EoT__ Allow 0-length values array on RealmQuery.in ( ) > cmelchior : Should we allow the 0-length values array ? It would basically default to the query always returning the empty set , but I would imagine that this values array in most cases will be generated in a loop based on some other input , so I think that this array in a lot of cases will actually be empty , making it a hassle for the user to work around . > > bdash : In Cocoa we have [ ` TrueExpression ` and ` FalseExpression ` ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L88-L114 ) that we use for cases like [ handling an ` or ` group containing zero elements ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L727-L732 ) . from [ previous discussion ] ( https : //github.com/realm/realm-java/pull/3133 # discussion_r73099630 )
Allow 0-length values array on RealmQuery.in ( ) __EoT__ Allow 0-length values array on RealmQuery.in ( ) > cmelchior : Should we allow the 0-length values array ? It would basically default to the query always returning the empty set , but I would imagine that this values array in most cases will be generated in a loop based on some other input , so I think that this array in a lot of cases will actually be empty , making it a hassle for the user to work around . > > bdash : In Cocoa we have [ ` TrueExpression ` and ` FalseExpression ` ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L88-L114 ) that we use for cases like [ handling an ` or ` group containing zero elements ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L727-L732 ) . from [ previous discussion ] ( https : //github.com/realm/realm-java/pull/3133 # discussion_r73099630 )
Allow 0-length values array on RealmQuery.in ( ) __EoT__ Allow 0-length values array on RealmQuery.in ( ) > cmelchior : Should we allow the 0-length values array ? It would basically default to the query always returning the empty set , but I would imagine that this values array in most cases will be generated in a loop based on some other input , so I think that this array in a lot of cases will actually be empty , making it a hassle for the user to work around . > > bdash : In Cocoa we have [ ` TrueExpression ` and ` FalseExpression ` ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L88-L114 ) that we use for cases like [ handling an ` or ` group containing zero elements ] ( https : //github.com/realm/realm-cocoa/blob/30947f35a115db9e62e208a2ee2c2b75a3009e9b/Realm/RLMQueryUtil.mm # L727-L732 ) . from [ previous discussion ] ( https : //github.com/realm/realm-java/pull/3133 # discussion_r73099630 )
Support transient keyword __EoT__ From this article https : //medium.com/ @ ffvanderlaan/realm-auto-updated-objects-what-you-need-to-know-b2d769d12d76 # .hzmdv62a9 Would it make sense to allow the ` transient ` keyword and just treat any field with ` transient ` as having ` @ Ignore ` ? On the top of my head I can not come with any negatives , but plenty of positives : * ` transitive ` literally means `` do n't serialize this '' = `` Do n't save to disk '' = `` @ Ignore '' * Better support for GSON . * Closer to language semantics instead of using custom annotations . * Open question : Should we deprecate/remove ` @ Ignore ` ? Some good counter points here http : //stackoverflow.com/questions/2154622/why-does-jpa-have-a-transient-annotation , but I 'm not entirely convinced they apply to the Android world . `` ` public class Person extends RealmObject { // Today @ Ignore public String foo ; // With change public transient String foo ; } `` ` Thoughts @ realm/java ? **TODO** - [ ] Decide if ` @ Ignore ` should be deprecated - [ ] Modify annotation processor so ` transient ` are treated as ` @ Ignore ` - [ ]
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
Native crash after upgrading from 0.79.0 to 0.80.0 __EoT__ Hi , I am experiencing a native crash after a library upgrade from ` 0.79.0 ` to ` 0.80.0 ` . ( the data from ` 0.79.0 ` is present in the phone ) Unfortunately , I ca n't say at what line of my code it crashes but I can reproduce it . Everytime I start my app with the new library I get a crash . This is what I get in the logcat . `` ` 03-21 12:15:31.545 : A/libc ( 28764 ) : Fatal signal 11 ( SIGSEGV ) at 0x5d4bc000 ( code=1 ) , thread 28764 ( com.example ) *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** Build fingerprint : 'samsung/m0xx/m0:4.1.2/JZO54K/I9300XXEMF6 : user/release-keys' pid : 28764 , tid : 28764 , name : com.example > > > com.example < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 5d4bc000 03-21 12:15:31.710 : W/PowerManagerService ( 2263 ) : Timer 0x3- > 0x3|0x0 r0 bedd7474 r1 00000030 r2 0000002c r3 bedd74a0 r4 bedd7474 r5 0008ed60 r6 bedd7620 r7 bedd7570 r8 5d42d2a0 r9 5d42d2a0
OutOfMemoryError : std : :bad_alloc in io_realm_internal_TableQuery.cpp line 1285 __EoT__ # # # # Goal > Our app logs metrics from a wearable ( sent via BTLE ) . Metrics are sent and saved to Realm every second . The Realm is observed to display the metrics back to the user . Other metrics are periodically sent to a backend ( and then removed from the Realm ) . The app operates for about 5 hours before getting closed due to an OoM . The Realms all seem to be closed correctly ( no warnings about about open Realms ) . # # # # Expected Results > I 'm expecting uninterrupted periods of use . # # # # Actual Results Logcat reveals the following at the point that the app is closed : > 11-21 05:15:33.808 27702-28621/com.snuza.picoconnect E/REALM_JNI : jni : ThrowingException 4 , std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 , . 11-21 05:15:33.809 27702-28655/com.snuza.picoconnect E/REALM_JNI : jni : ThrowingException 4 , std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 , . 11-21 05:15:33.841 27702-28621/com.snuza.picoconnect E/REALM_JNI : Exception has been throw : std : :bad_alloc in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_TableQuery.cpp line 1285 11-21 05:15:33.841 27702-28655/com.snuza.picoconnect E/REALM_JNI : Exception has been throw
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
Realm Java 4.0 Doc updates __EoT__ We need to update the website docs for the breaking changes gone into 4.0 : - Array of Primitives + be really explicit about what is missing and will come in 4.1 - RxJava 2 - Other things ?
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
A subtle change in timing in Realm 2.0.0-SNAPSHOT with handlers __EoT__ # # # # Goal > What do you want to achieve ? When a transaction is committed , a message was sent to the handler . I 'd like to send an event through event bus after Realm transaction is committed . # # # # Expected Results If I sent a message ( event ) of my own through the handler , then considering it was sent after the transaction , it ought to be received after the transaction 's notification # # # # Actual Results _Sometimes_ the Realm updates later than the event through the event bus finishes , so ` findFirst ( ) ` still returns ` null ` when event is received through the bus # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample `` ` java realm.commitTransaction ( ) ; handler.post ( new Runnable ( ) { @ Override public void run ( ) { bus.post ( event ) ; } } ) ; `` ` ( obviously the solution is to use ` RealmChangeListener ` instead of relying
ClassNotFoundException : RealmModuleMediator __EoT__ > **Bugs** : To help you as fast as possible with an issue or bug please describe your issue and the steps you have taken to reproduce it in as many details as possible . # # # # Goal Desired functionality : Have four separate modules in my app : app , data , domain and presentation , where the layers are : Domain -- > Data -- > Presentation -- > App . The build.gradle of **Data** has the realm-android plugin installed , and a RealmModule annotated with @ RealmModule ( library = true , allClasses = true ) . Presentation takes RealmObjects from Data and converts them into simple POJOs for the App . > What do you want to achieve ? # # # # Expected Results : Realm recognizes the RealmObject classes specified in my RealmModule . # # # # Actual Results An exception occurs during runtime ( not compile time ) , saying that Realm could not find my RealmModule class . # # # # Steps & Code to Reproduce > Describe your current debugging efforts . Impeded > E.g . full stack trace with exception > FATAL
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Remove ARM support __EoT__ With the upcoming integration of the Object Store , ARM will no longer be supported . Google moved to ARMv7a support as well as practically no devices support this anymore , so it should be safe to do so . It will also reduce the overall size of the AAR distribution package . Note , this is a breaking change so should only happen as part of 2.0
Accelarate Realm transformer __EoT__ We got some complains ( http : //stackoverflow.com/questions/37928953/realm-gradle-tasks ) about the speed of transformers and there is always space to improve it , like : - Replace slow groovy with kotlin - ...
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
Support for Null values __EoT__ I want to be able to soft-delete items with a created and a deleted field , both of which being Date fields . When I tried creating an object ( with no deleted flag ) , I received this error message : `` ` java.lang.IllegalArgumentException : Null Date is not allowed . at io.realm.internal.Row.setDate ( Row.java:195 ) at io.realm.RealmDataFileRealmProxy.setEnd ( RealmDataFileRealmProxy.java:53 ) `` ` Soft deletes like this are very common in databases , so it seems reasonable to support them . Are there any plans to support this already in the works ?
RealmObjects from linking objects hold wrong table . __EoT__ Following test fails because of ` Table ` object in ` sourceFromBacklinks ` is wrong . `` ` realm.beginTransaction ( ) ; final BacklinksTarget target = realm.createObject ( BacklinksTarget.class ) ; target.setId ( 1 ) ; final BacklinksSource source = realm.createObject ( BacklinksSource.class ) ; source.setChild ( target ) ; realm.commitTransaction ( ) ; final RealmResults < BacklinksSource > parents = target.getParents ( ) ; final BacklinksSource sourceFromBacklinks = parents.first ( ) ; assertEquals ( source , sourceFromBacklinks ) ; `` ` The ` Table ` object is only used in ` equals ( ) ` , ` hashCode ( ) ` , and default value assignment . Since RealmObjects from linking objects never set default values , this bug affects only ` equals ( ) ` and ` hashCode ( ) ` .
Predictive UI animations and local transactions __EoT__ Without https : //github.com/realm/realm-java/issues/4225 , user will still meets the un-synced list views when doing local commit . Take below sequences for example : list - 10 items local commit delete the 1st item touch event comes , since the list is always live , list.size ( ) return 9 and did a refresh ( ) , everything is up to date fine grained notification comes , with deletion = [ 0 ] , 0 should be the index in the old collection , but now , since the list has been updated already , it will delete the 1st in the updated view , which is wrong The cocoa 's solution about this : https : //realm.io/docs/objc/latest/ # interface-driven-writes My thoughts , the current cocoa solution ( suppress the next chosen listener ) is still the best option : 1 . It avoids the overhead to trigger all other listeners on the same thread , which is not necessary when other list view is not in the front 2 . Not too complex to users , user just need to update the view according to what he changed in the local transaction
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Access token should be refreshed before the current one expires __EoT__ I tested the 2.3.0 release with RealmTasks for Android and ROS 1.0.0 with the expiration time set to 60s . Right now , when the Android binding tries to send an UPLOAD message with and expired token , the server sends an error ( ` Sending : ERROR ( error_code=202 , message_size=20 , try_again=0 , session_ident=1 ) ` ) and closes the session . The client then connects to the auth server and gets a new token . **This behaviour is incorrect , the client should request an access token before the current access token expires and send a REFRESH message to the server , so that the session does not get disconnected . ** Not sure how much of this behaviour should be in object-store and how much in the binding . cc @ austinzheng @ mrackwitz
Do thread checking in ` RealmQuery ` __EoT__ Somehow most APIs in ` RealmQuery ` do n't do thread checking , so user can : ` RealmQuery q1 = realm.where ( ) ` in thread1 , then do ` q2.equalTo ( ) ` in thread2 .
Do thread checking in ` RealmQuery ` __EoT__ Somehow most APIs in ` RealmQuery ` do n't do thread checking , so user can : ` RealmQuery q1 = realm.where ( ) ` in thread1 , then do ` q2.equalTo ( ) ` in thread2 .
CompactOnLaunch __EoT__ # # # # Goal End users need to know the amount of dirty/recoverable space within the realm file to - Improve scheduling of compaction ( ) call on a realm - Debug run away concurrent read/writes from different threads causing explosion of the realm file due to the duplicate of space used in multi-versioning . # # # # Expected Results ReclaimableSpace ( ) API which tells us in bytes , or approximate bytes if 100 % accuracy can not be achieved , of recoverable space in the realm file that can be trimmed in compaction .
CompactOnLaunch __EoT__ # # # # Goal End users need to know the amount of dirty/recoverable space within the realm file to - Improve scheduling of compaction ( ) call on a realm - Debug run away concurrent read/writes from different threads causing explosion of the realm file due to the duplicate of space used in multi-versioning . # # # # Expected Results ReclaimableSpace ( ) API which tells us in bytes , or approximate bytes if 100 % accuracy can not be achieved , of recoverable space in the realm file that can be trimmed in compaction .
CompactOnLaunch __EoT__ # # # # Goal End users need to know the amount of dirty/recoverable space within the realm file to - Improve scheduling of compaction ( ) call on a realm - Debug run away concurrent read/writes from different threads causing explosion of the realm file due to the duplicate of space used in multi-versioning . # # # # Expected Results ReclaimableSpace ( ) API which tells us in bytes , or approximate bytes if 100 % accuracy can not be achieved , of recoverable space in the realm file that can be trimmed in compaction .
IllegalArgumentException : Could not parse user json __EoT__ # # # # Goal I 'm trying to create a synced realm database # # # # Expected Results That the database should not crash even if it failed to login # # # # Actual Results SyncUser.currentUser throws an exception , crashing the whole application and it 's not possible to delete that invalid user . The error is something like : Caused by : `` ` java.lang.IllegalArgumentException : Could not parse user json : eyJpZGVudGl0eSI6IjQ0ZWU5Y2ZlNGMwNDc5YTVmZDU4MWMwOTQ5OTI5Y2YxIiwiZXhwaXJlcyI6MTgxMzM1NDkzNCwiYXBwX2lkIjoiY29tLmxvc3RwaXhlbHMuZmllbGRzZXJ2aWNlIiwiYWNjZXNzIjpbInJlZnJlc2giXSwiaXNfYWRtaW4iOmZhbHNlLCJzYWx0IjowLjY1OTEwMjg3OTYyMzExNTN9 : P1KRa4IykFyVWdd9CUt84jytP7r+O3X8P7bgwtXjJBrgbwLtf0Fz8+ezfKP01G5mjumsjx9bc4ZCY+JkaEOjSu1U+kDck0Oi7fOgvhpf2cpPjPryrEMF/XXkNq8EBzUfumdNRsxoBEJhNsGcOui/UO8kEI1y0qlxUdjVwEupqv62BPlz4AzGCC27MWsKUACDLJUekC/pdMTRYcrWEVTfmZXZHrm90QtXwmJVSUKePmwWhE5xTvDQKw49bT1FJzX45RhRZez3pP2SAYpwNH8IVpnMqN1M4+OruwTt//eRwO8VQdPJKgXLk3T2Cx1AWnjL+AkuW0dcKBmbjJt3Cs3v1g== at io.realm.SyncUser.fromJson ( SyncUser.java:157 ) at io.realm.RealmFileUserStore.toSyncUserOrNull ( RealmFileUserStore.java:84 ) at io.realm.RealmFileUserStore.getCurrent ( RealmFileUserStore.java:44 ) at io.realm.SyncUser.currentUser ( SyncUser.java:110 ) `` ` # # # # Steps & Code to Reproduce I first start with an offline realm database . Then I create a synced user with this code `` ` GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent ( data ) ; if ( result.isSuccess ( ) ) { GoogleSignInAccount acct = result.getSignInAccount ( ) ; String token = acct.getIdToken ( ) ; SyncCredentials myCredentials = SyncCredentials.google ( token ) ; String authURL = serverUrl + `` /auth '' ; return SyncUser.login ( myCredentials , authURL ) ; } `` ` I then merge the
IllegalArgumentException : Could not parse user json __EoT__ # # # # Goal I 'm trying to create a synced realm database # # # # Expected Results That the database should not crash even if it failed to login # # # # Actual Results SyncUser.currentUser throws an exception , crashing the whole application and it 's not possible to delete that invalid user . The error is something like : Caused by : `` ` java.lang.IllegalArgumentException : Could not parse user json : eyJpZGVudGl0eSI6IjQ0ZWU5Y2ZlNGMwNDc5YTVmZDU4MWMwOTQ5OTI5Y2YxIiwiZXhwaXJlcyI6MTgxMzM1NDkzNCwiYXBwX2lkIjoiY29tLmxvc3RwaXhlbHMuZmllbGRzZXJ2aWNlIiwiYWNjZXNzIjpbInJlZnJlc2giXSwiaXNfYWRtaW4iOmZhbHNlLCJzYWx0IjowLjY1OTEwMjg3OTYyMzExNTN9 : P1KRa4IykFyVWdd9CUt84jytP7r+O3X8P7bgwtXjJBrgbwLtf0Fz8+ezfKP01G5mjumsjx9bc4ZCY+JkaEOjSu1U+kDck0Oi7fOgvhpf2cpPjPryrEMF/XXkNq8EBzUfumdNRsxoBEJhNsGcOui/UO8kEI1y0qlxUdjVwEupqv62BPlz4AzGCC27MWsKUACDLJUekC/pdMTRYcrWEVTfmZXZHrm90QtXwmJVSUKePmwWhE5xTvDQKw49bT1FJzX45RhRZez3pP2SAYpwNH8IVpnMqN1M4+OruwTt//eRwO8VQdPJKgXLk3T2Cx1AWnjL+AkuW0dcKBmbjJt3Cs3v1g== at io.realm.SyncUser.fromJson ( SyncUser.java:157 ) at io.realm.RealmFileUserStore.toSyncUserOrNull ( RealmFileUserStore.java:84 ) at io.realm.RealmFileUserStore.getCurrent ( RealmFileUserStore.java:44 ) at io.realm.SyncUser.currentUser ( SyncUser.java:110 ) `` ` # # # # Steps & Code to Reproduce I first start with an offline realm database . Then I create a synced user with this code `` ` GoogleSignInResult result = Auth.GoogleSignInApi.getSignInResultFromIntent ( data ) ; if ( result.isSuccess ( ) ) { GoogleSignInAccount acct = result.getSignInAccount ( ) ; String token = acct.getIdToken ( ) ; SyncCredentials myCredentials = SyncCredentials.google ( token ) ; String authURL = serverUrl + `` /auth '' ; return SyncUser.login ( myCredentials , authURL ) ; } `` ` I then merge the
Concurrency problem of ` HandlerController.syncRealmResults ` , ` emptyAsyncRealmObject and etc.. __EoT__ Those fields will be accessed from executor thread , we need a proper lock/thread safe structure . Also refer to https : //github.com/realm/realm-java/pull/2723/files # r61868311 , need a better way to avoid traversing .
Support android experimental plugin __EoT__ Question from SO : http : //stackoverflow.com/questions/36341822/run-realm-with-android-experimental-plugin What could be fixed in our side : in 'gradle-plugin/Realm.groovy ` check through the plugin name instead of the class . `` ` def isAndroidApp = project.plugins.hasPlugin ( `` com.android.application '' ) || project.plugins.hasPlugin ( `` com.android.model.application '' ) // Android experimental plugin def isAndroidLib = project.plugins.hasPlugin ( `` com.android.library '' ) || project.plugins.hasPlugin ( `` com.android.model.library '' ) // Android experimental plugin `` ` However , it will still fail because of the ` AndroidAptPlugin ` does n't support Android experimental plugin yet , see issue https : //bitbucket.org/hvisser/android-apt/issues/46/support-for-experimental-plugin
Support android experimental plugin __EoT__ Question from SO : http : //stackoverflow.com/questions/36341822/run-realm-with-android-experimental-plugin What could be fixed in our side : in 'gradle-plugin/Realm.groovy ` check through the plugin name instead of the class . `` ` def isAndroidApp = project.plugins.hasPlugin ( `` com.android.application '' ) || project.plugins.hasPlugin ( `` com.android.model.application '' ) // Android experimental plugin def isAndroidLib = project.plugins.hasPlugin ( `` com.android.library '' ) || project.plugins.hasPlugin ( `` com.android.model.library '' ) // Android experimental plugin `` ` However , it will still fail because of the ` AndroidAptPlugin ` does n't support Android experimental plugin yet , see issue https : //bitbucket.org/hvisser/android-apt/issues/46/support-for-experimental-plugin
Support android experimental plugin __EoT__ Question from SO : http : //stackoverflow.com/questions/36341822/run-realm-with-android-experimental-plugin What could be fixed in our side : in 'gradle-plugin/Realm.groovy ` check through the plugin name instead of the class . `` ` def isAndroidApp = project.plugins.hasPlugin ( `` com.android.application '' ) || project.plugins.hasPlugin ( `` com.android.model.application '' ) // Android experimental plugin def isAndroidLib = project.plugins.hasPlugin ( `` com.android.library '' ) || project.plugins.hasPlugin ( `` com.android.model.library '' ) // Android experimental plugin `` ` However , it will still fail because of the ` AndroidAptPlugin ` does n't support Android experimental plugin yet , see issue https : //bitbucket.org/hvisser/android-apt/issues/46/support-for-experimental-plugin
Android component : RealmCursor __EoT__ Realm for Android looks awesome ; however there are some Android specific use cases where certain elements work better when backed by a Cursor ( http : //developer.android.com/reference/android/database/Cursor.html ) and when using a CursorLoader ( http : //developer.android.com/reference/android/content/CursorLoader.html ) . Is there any plans for supporting this interface ?
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Crash at Realm.getDefaultInstance ( ) __EoT__ I 'm using Realm in one of my projects . It works great on almost all the phones I tested except for **Samsung GT-I8200 ( Android 4.2.2 ) . ** The app crashes when requesting the default realm instance . Please note that I have n't encountered this crash on any other phones . My concern is that the same crash may exist on many other android devices that we have n't tested . I 'm using realm 2.2.1 . I also tested this use case against realm 2.0.2 . The same issue exist on both versions . Further , I ran a couple of Realm sample apps ( introExample and gridViewExample ) on the same device . Both apps crash at the same line ( Realm.getDefaultInstance ( ) ) . While debugging , I found out that actual crash happens inside SharedRealm.java file - line 236 - nativeSetVersion ( nativePtr , schemaVersion ) . Can you please any solution for this ? Thanks , Iranga
Assigning own list unintentionally clears the list items . __EoT__ # # # # Goal ` model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; ` should be no-op . # # # # Expected Results The list keeps its contents . # # # # Actual Results The items in the list is cleared . # # # # Steps & Code to Reproduce `` ` java @ Test public void assignOwnList ( ) { RealmList < AllTypesRealmModel > allTypesRealmModels = new RealmList < AllTypesRealmModel > ( ) ; AllTypesRealmModel allTypePojo ; for ( int i = 0 ; i < 2 ; i++ ) { allTypePojo = new AllTypesRealmModel ( ) ; allTypePojo.columnLong = i ; allTypesRealmModels.add ( allTypePojo ) ; } RealmModelWithRealmListOfRealmModel model = new RealmModelWithRealmListOfRealmModel ( ) ; model.setColumnRealmList ( allTypesRealmModels ) ; realm.beginTransaction ( ) ; model = realm.copyToRealm ( model ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; realm.beginTransaction ( ) ; model.setColumnRealmList ( model.getColumnRealmList ( ) ) ; realm.commitTransaction ( ) ; assertEquals ( 2 , model.getColumnRealmList ( ) .size ( ) ) ; } `` ` # # # # Version of Realm and
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Move the Java bindings to use ObjectStore schema __EoT__ This will allow removing boatloads of code from Proxy table initialization and verification .
Partial Sync : Unsubscribe named queries __EoT__ See https : //github.com/realm/product/issues/391 for details
Partial Sync : Unsubscribe named queries __EoT__ See https : //github.com/realm/product/issues/391 for details
Realm when app in background __EoT__ Hi , We are working on a chat app where we insert our incomng chat messages in realm and the UI is rendered from realmbaseadapter . In chat app we still continue with our singleton listener if our app is in background . What can be a good pattern to use it ? Currently I am closing the realm in ondestroy and if the app goes in background it 's pause will be called but chances are there if the activity will be destroyed . Should I use a started service or application context for realm ? Let me know if you want to see code sample for the pattern . Thanks , Harshit
Realm when app in background __EoT__ Hi , We are working on a chat app where we insert our incomng chat messages in realm and the UI is rendered from realmbaseadapter . In chat app we still continue with our singleton listener if our app is in background . What can be a good pattern to use it ? Currently I am closing the realm in ondestroy and if the app goes in background it 's pause will be called but chances are there if the activity will be destroyed . Should I use a started service or application context for realm ? Let me know if you want to see code sample for the pattern . Thanks , Harshit
Crash on 2database access with encryption enabled __EoT__ Taking my comment from # 810 and making it its own issue - On one of my test devices , running realm with encryption enabled produces a SIGSERV in libc . The line causing the crash is ` validateMethod = generatedClass.getMethod ( `` validateTable '' , new Class [ ] { ImplicitTransaction.class } ) ; ` , in initializeRealm in Realm.java ( line 606 in 0.79.1 ) . Notably the crash is not happening on the first initializeRealm is called , only on any subsequent time . The device with the issue is a Droid X running Android 4.4.4 - notable in that it is a [ Low Ram ] ( https : //source.android.com/devices/tech/low-ram.html ) device . The issue does not happen if encryption is disabled ( so I 've only tested its presence on 0.78 and 0.79.1 ) .
JNI Error __EoT__ # # # # Goal To be able to commit a transaction # # # # Expected Results To succeed and save to the Realm Database # # # # Actual Results Crashes # # # # Code Sample Affected Code , crashes on the first line ( ` executeTransaction ` ) `` ` java Realm.getDefaultInstance ( ) .executeTransaction ( new Realm.Transaction ( ) { @ Override public void execute ( Realm realm ) { getDepartures ( ) .clear ( ) ; if ( result.getTrainServices ( ) ! = null & & ! result.getTrainServices ( ) .isEmpty ( ) ) { for ( Service service : result.getTrainServices ( ) ) { service.setId ( getCrs ( ) , true ) ; getDepartures ( ) .add ( realm.copyToRealmOrUpdate ( service ) ) ; } } setDeparturesGathered ( Calendar.getInstance ( ) .getTime ( ) ) ; } } ) ; `` ` Stack Trace : `` ` 04-05 15:29:59.122 12199-12199/com.github.binpower93.stationhubapp E/art : JNI ERROR ( app bug ) : attempt to use stale Local 0x100019 ( should be 0x19 ) 04-05 15:29:59.170 12199-12199/com.github.binpower93.stationhubapp A/art : art/runtime/java_vm_ext.cc:470 ] JNI DETECTED ERROR IN APPLICATION : use of deleted local reference 0x100019 04-05
Update SecureTokenExample __EoT__ Update the example once https : //github.com/realm/realm-android-user-store/pull/10 is merged Update should reflect the new exposed method ` unlockKeyStore ` & should avoid the need to create a ` CipherClient ` to unlock & check the KeyStore
Why not return an empty realmResults when using `` in '' query with empty values instead of throwing an exception ? __EoT__ # # # # Goal Obtain a realmResults using the `` in '' query operator on where the values list is empty . Currently this throws an exception that has to be handled . # # # # Expected Results In set theory , the empty set already is comply by the full set or the empty set , so instead of throwing an exception return an empty realmresults # # # # Actual Results An exception
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
API review & cleanup for 1.0 __EoT__ The following things should be implemented : - [ x ] JSON methods currently wrap all runtime exceptions in a RealmException . Consider removing this as it makes it hard to know exactly what failed - > Remove RealmException where possible . ( # 2618 ) - [ x ] Cleanup sorted\* methods . Remove all sort methods accepting 3 fields . Multiarg should be used instead . ( # 2619 ) - [ x ] Remove ` allObjects ` and friends from Realm so all query options are in RealmQuery . ( # 2620 ) - [ x ] RealmConfiguration ` setModules ( ) ` rename to ` modules ( ) ` ( # 2621 ) - [ X ] All lists methods should automatically do ` copyToRealm ` or ` copyToRealmOrUpdate ` ( mc Checked , all methods which could add/change object in the list , will call ` copyToRealmIfNeeded ` ) - [ x ] RealmChangeListener should provide the changes object/realm/collection as well ( # 2705 ) - [ x ] realm.createObject ( class , primaryKey ) should be public ( # 2622 ) - [ x ] All methods
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
downloadProgressListener_indefinitely worker thread does n't terminate __EoT__ As per the discussion [ here ] ( https : //github.com/realm/realm-java/pull/5159 # discussion_r136507434 ) , we need to investigate why the ` downloadProgressListener_indefinitely ` test fails . Removing the [ join ] ( https : //github.com/realm/realm-java/pull/5159/files/69aa8f2d39fce182485c34767d6249cd7d8173f3 # diff-98189d61fc029709ddad095607a8590eL193 ) seems to fix the issue , which indicates that the ` worker ` thread did n't terminate , which causes the test thread to wait indefinitely until it times out
Memory Leak leads to Crash __EoT__ Sorry , I am not very sure whether this Crash is caused by Realm , but Android Studio ` Allocation Tracking ` shows relevant information with Realm , so I past the main code . Thanks ! # # # # Goal > Fix a Memory Leak bug # # # # Expected Results > Fix # # # # Actual Results When the App is on the ` MainActivity ` ( as bellow code ) page , the memory is increased slowly , and then crashed . ! [ screenshot from 2016-04-27 18-32-00 ] ( https : //cloud.githubusercontent.com/assets/1092722/14850628/efd5858c-0cac-11e6-81ac-13973a60faf0.png ) # # # # Steps & Code to Reproduce > Describe your current debugging efforts . # # # # Code Sample MainActivity.java `` ` java package top.honhe.server.activity ; import android.content.SharedPreferences ; import android.os.Bundle ; import android.os.Handler ; import android.os.Message ; import android.support.v7.app.AppCompatActivity ; import android.util.Log ; import android.widget.ListView ; import org.greenrobot.eventbus.EventBus ; import org.greenrobot.eventbus.Subscribe ; import org.greenrobot.eventbus.ThreadMode ; import java.util.Map ; import java.util.Timer ; import java.util.TimerTask ; import java.util.concurrent.ExecutorService ; import java.util.concurrent.Executors ; import io.realm.Realm ; import io.realm.RealmConfiguration ; import io.realm.RealmResults ; import top.honhe.server.R ; import top.honhe.server.adapter.BedAdapter ; import top.honhe.server.event.PingBedResultEvent ; import top.honhe.server.model.Bed
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Support LinkingObjects in native glue code __EoT__ There is a lot of code in the binding , now , to support queries on LinkingObjects . The native code needs a few further fixes in order to make them work . - [ ] Fix the getTableByArray method to support backlink queries - [ ] Re-enable the backlink query unit tests , make sure they are clear and that they pass . - [ ] Address @ kneth 's comments , captured here . - [ ] Add new unit tests as necessary to get good coverage This issues follows # 2904 , # 4529 , # 4323 , # 4321 , # 4519 , and # 4576
Logout does not remove current user from UserStore __EoT__ Steps to reproduce : 0 . Make sure a user is logged in 1 . Call ` SyncUser.currentUser ( ) .logout ( ) ` 2 . Kill the app manually 3 . Restart the app 4 . ` SyncUser.currentUser ( ) ` still returns the user that should have been logged out This looks like it could be the reason : ` SyncUser.logout ( ) ` tries to remove the current user from the ` UserStore ` like this : `` ` if ( SyncUser.this.equals ( SyncUser.currentUser ( ) ) ) { SyncManager.getUserStore ( ) .remove ( UserStore.CURRENT_USER_KEY ) ; } `` ` However , at that point ` SyncUser.currentUser ( ) ` returns ` null ` because the user 's token has already been removed in the line before and thus ` isValid ( ) ` will return ` false ` . Therefore , ` remove ( UserStore.CURRENT_USER_KEY ) ` is not executed .
Logout does not remove current user from UserStore __EoT__ Steps to reproduce : 0 . Make sure a user is logged in 1 . Call ` SyncUser.currentUser ( ) .logout ( ) ` 2 . Kill the app manually 3 . Restart the app 4 . ` SyncUser.currentUser ( ) ` still returns the user that should have been logged out This looks like it could be the reason : ` SyncUser.logout ( ) ` tries to remove the current user from the ` UserStore ` like this : `` ` if ( SyncUser.this.equals ( SyncUser.currentUser ( ) ) ) { SyncManager.getUserStore ( ) .remove ( UserStore.CURRENT_USER_KEY ) ; } `` ` However , at that point ` SyncUser.currentUser ( ) ` returns ` null ` because the user 's token has already been removed in the line before and thus ` isValid ( ) ` will return ` false ` . Therefore , ` remove ( UserStore.CURRENT_USER_KEY ) ` is not executed .
Samsung Galaxy S3 mini : Heap memory corruption __EoT__ Samsung Galaxy S3 mini ( i8200N ) Trying to use Realm v2 we 're getting the following crash : `` ` [ 02-10 16:15:02.593 10641-10641/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5ab96ff6 ( code=2 ) , thread 10641 ( link.thismo.app ) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm : JNI ERROR ( app bug ) : accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm : VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0xdeadd00d ( code=1 ) , thread 10713 ( AnalyticsWorker ) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc : @ @ @ ABORTING : LIBC : HEAP MEMORY CORRUPTION IN dlmalloc ] `` ` A more complete crash log that happened on version 2.4.0-SNAPSHOT : https : //gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g . 0.90.1 .
Samsung Galaxy S3 mini : Heap memory corruption __EoT__ Samsung Galaxy S3 mini ( i8200N ) Trying to use Realm v2 we 're getting the following crash : `` ` [ 02-10 16:15:02.593 10641-10641/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0x5ab96ff6 ( code=2 ) , thread 10641 ( link.thismo.app ) 02-10 16:15:02.601 10641-10713/link.thismo.app I/dalvikvm : JNI ERROR ( app bug ) : accessed deleted local reference 0x23400005 02-10 16:15:02.601 10641-10713/link.thismo.app E/dalvikvm : VM aborting 02-10 16:15:02.601 10641-10713/link.thismo.app A/libc : Fatal signal 11 ( SIGSEGV ) at 0xdeadd00d ( code=1 ) , thread 10713 ( AnalyticsWorker ) 02-10 16:15:10.054 10641-10647/link.thismo.app A/libc : @ @ @ ABORTING : LIBC : HEAP MEMORY CORRUPTION IN dlmalloc ] `` ` A more complete crash log that happened on version 2.4.0-SNAPSHOT : https : //gist.github.com/jonasbark/26fbd60062ed9af981a3d0b19f91c62d It does not happen with e.g . 0.90.1 .
Native crash signal 11 ( SIGSEGV ) , code 2 __EoT__ We have received a reasonable number of native crashes related to realm and we are having difficulties pinpointing what the cause is . We are unable to reproduce the problem so anything that could help us would be appreciated . Some information : - We use encryption , a SyncAdapter and multiple Realm files . - The crashes only happen on devices running Android 5.0 or above . - The crashes first started appearing after we upgraded to Realm 1.0.0 but also occur on Realm versions up to 1.2.0 which is what we are currently using in our release . The stack traces below are a few examples of the native crashes on 1.2.0 . There are more crash groups but they are all similar to these . `` ` Build fingerprint : 'samsung/xcover3ltexx/xcover3lte:5.1.1/LMY48B/G388FXXU1BPB3 : user/release-keys' Revision : '7' ABI : 'arm' pid : 5015 , tid : 7685 , name : SyncAdapterThre > > > x.y.z < < < signal 11 ( SIGSEGV ) , code 2 ( SEGV_ACCERR ) , fault addr 0x58f7fff0 r0 abd10760 r1 58f80058 r2 00000000 r3 abd10760 r4 00000012 r5 58f80310 r6 58f80058
Native crash signal 11 ( SIGSEGV ) , code 2 __EoT__ We have received a reasonable number of native crashes related to realm and we are having difficulties pinpointing what the cause is . We are unable to reproduce the problem so anything that could help us would be appreciated . Some information : - We use encryption , a SyncAdapter and multiple Realm files . - The crashes only happen on devices running Android 5.0 or above . - The crashes first started appearing after we upgraded to Realm 1.0.0 but also occur on Realm versions up to 1.2.0 which is what we are currently using in our release . The stack traces below are a few examples of the native crashes on 1.2.0 . There are more crash groups but they are all similar to these . `` ` Build fingerprint : 'samsung/xcover3ltexx/xcover3lte:5.1.1/LMY48B/G388FXXU1BPB3 : user/release-keys' Revision : '7' ABI : 'arm' pid : 5015 , tid : 7685 , name : SyncAdapterThre > > > x.y.z < < < signal 11 ( SIGSEGV ) , code 2 ( SEGV_ACCERR ) , fault addr 0x58f7fff0 r0 abd10760 r1 58f80058 r2 00000000 r3 abd10760 r4 00000012 r5 58f80310 r6 58f80058
Native crash signal 11 ( SIGSEGV ) , code 2 __EoT__ We have received a reasonable number of native crashes related to realm and we are having difficulties pinpointing what the cause is . We are unable to reproduce the problem so anything that could help us would be appreciated . Some information : - We use encryption , a SyncAdapter and multiple Realm files . - The crashes only happen on devices running Android 5.0 or above . - The crashes first started appearing after we upgraded to Realm 1.0.0 but also occur on Realm versions up to 1.2.0 which is what we are currently using in our release . The stack traces below are a few examples of the native crashes on 1.2.0 . There are more crash groups but they are all similar to these . `` ` Build fingerprint : 'samsung/xcover3ltexx/xcover3lte:5.1.1/LMY48B/G388FXXU1BPB3 : user/release-keys' Revision : '7' ABI : 'arm' pid : 5015 , tid : 7685 , name : SyncAdapterThre > > > x.y.z < < < signal 11 ( SIGSEGV ) , code 2 ( SEGV_ACCERR ) , fault addr 0x58f7fff0 r0 abd10760 r1 58f80058 r2 00000000 r3 abd10760 r4 00000012 r5 58f80310 r6 58f80058
A module/schema must include all required classes __EoT__ If class ` A ` links to class ` B ` but a module/schema does not include ` B ` , object store will crash during validation ( calling ` update_schema ` ) . We must ensure that all required classes ( direct and indirect ) are included in the module/schema . If a class is missing , an exception must be thrown .
RealmMigrationNeededException only on Android 4.2.2 and Samsung Galaxy S3 Mini __EoT__ Our crash logs just start showing up this crash . It only affects Android version 4.2.2 and Samsung GT-I8200N phone . Realm version 2.3.1 `` ` java.lang.RuntimeException : Unable to start activity ComponentInfo { MainActivity } : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at android.app.ActivityThread.performLaunchActivity ( ActivityThread.java:2262 ) at android.app.ActivityThread.handleLaunchActivity ( ActivityThread.java:2316 ) at android.app.ActivityThread.access $ 700 ( ActivityThread.java:158 ) at android.app.ActivityThread $ H.handleMessage ( ActivityThread.java:1296 ) at android.os.Handler.dispatchMessage ( Handler.java:99 ) at android.os.Looper.loop ( Looper.java:176 ) at android.app.ActivityThread.main ( ActivityThread.java:5365 ) at java.lang.reflect.Method.invokeNative ( Native Method ) at java.lang.reflect.Method.invoke ( Method.java:511 ) at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:1102 ) at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:869 ) at dalvik.system.NativeStart.main ( Native Method ) Caused by : io.realm.exceptions.RealmMigrationNeededException : The 'RealmPumpBasalRateConfig ' class is missing from the schema for this Realm . at io.realm.RealmPumpBasalRateConfigRealmProxy.validateTable ( RealmPumpBasalRateConfigRealmProxy.java:495 ) at io.realm.DefaultRealmModuleMediator.validateTable ( DefaultRealmModuleMediator.java:66 ) at io.realm.Realm.initializeRealm ( Realm.java:348 ) at io.realm.Realm.createAndValidate ( Realm.java:313 ) at io.realm.Realm.createInstance ( Realm.java:278 ) at io.realm.RealmCache.createRealmOrGetFromCache ( RealmCache.java:143 ) at io.realm.Realm.getDefaultInstance ( Realm.java:209 ) `` `
Generated RealmObjectProxy has wrong lookup for @ Required String primary key with 0.89.0 __EoT__ # # # # Steps & Code to Reproduce Create a ` RealmObject ` with a String field marked with ` @ PrimaryKey ` and ` @ Required ` . `` ` java public class RealmUser extends RealmObject { @ PrimaryKey @ Required public String _id ; } `` ` The generated ` RealmObjectProxy ` class contains an invalid lookup for the primary key in the ` copyOrUpdate ` method . The compile-time exception is : `` ` RealmUserRealmProxy.java:276 : error : incompatible types : String can not be converted to long long rowIndex = table.findFirstLong ( pkColumnIndex , ( ( RealmUserRealmProxyInterface ) object ) .realmGet $ _id ( ) ) ; ^ `` ` I traced what I think is the wrong codepath here : https : //github.com/realm/realm-java/blob/master/realm/realm-annotations-processor/src/main/java/io/realm/processor/RealmProxyClassGenerator.java # L642 The relevant generated code is : `` ` java public static RealmUser copyOrUpdate ( Realm realm , RealmUser object , boolean update , Map < RealmModel , RealmObjectProxy > cache ) { if ( object instanceof RealmObjectProxy & & ( ( RealmObjectProxy ) object ) .realmGet $ proxyState ( ) .getRealm $ realm ( )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
ConcurrentModificationException when using iterators methods __EoT__ Hi , I have such exception even I using iterators methods : Realm version 0.75.1 , Android studio 1.0rc2 `` ` Caused by : java.util.ConcurrentModificationException : No outside changes to a Realm is allowed while iterating a RealmResults . Use iterators methods instead . at io.realm.RealmResults.assertRealmIsStable ( RealmResults.java:405 ) at io.realm.RealmResults.access $ 200 ( RealmResults.java:44 ) at io.realm.RealmResults $ RealmResultsIterator.hasNext ( RealmResults.java:422 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:360 ) at com.coachesdirectory.coach.db.RealmHelper $ 5.doInBackground ( RealmHelper.java:347 ) at android.os.AsyncTask $ 2.call ( AsyncTask.java:288 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:237 ) at android.os.AsyncTask $ SerialExecutor $ 1.run ( AsyncTask.java:231 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` Here is part of my code : `` ` ****AsyncTask***** List < SchoolResult > favoriteSchools = params [ 0 ] ; Realm realm = Realm.getInstance ( context ) ; realm.beginTransaction ( ) ; // Set all schools to remove RealmResults < RealmSchoolResult > markToRemove = realm.where ( RealmSchoolResult.class ) .equalTo ( `` userAccountId '' , userId ) .findAll ( ) ; Iterator < RealmSchoolResult > schoolResultIterator = markToRemove.iterator ( ) ; while ( schoolResultIterator.hasNext ( ) )
Overly sensitive test in DependencyStoreSpec __EoT__ @ adriancole I noticed in zipkin-dependency-spark , the test ` getDependenciesAllInstrumented ` is disabled because it fails . I think it fails because it 's the only one that calls ` store.getDependencies ` with a specific timestamp , while others call it with ` today ` . Cassandra job saves the DepLinks record with ` Time.now ` floored to a day , so while it produces the correct results , they can not be retrieved by ` store.getDependencies ` . Would it make sense to redefine this test to use timestamps like ` ( today + 250 ) * 1000 ` , and then query at ` today + 1000 ` like all other tests do ?
RabbitMQ collector support __EoT__ As [ mentioned by Adrian on Gitter ] ( https : //gitter.im/openzipkin/zipkin ? at=5934c1c1cf9c13503c53ccc6 ) , support for RabbitMQ has been requested multiple times , so I am making this issue to track it . Those who would like to see this implemented can vote for it . ( As it were , there seemed to be some interest in it at the Zipkin Meetup tonight ) > @ byeswanth @ shakuzen rabbitmq has been incidentally requested many times , and custom implemented in many zipkin systems . However , it has never been requested as a standard transport . You could be the first to actually make an issue requesting it Deliverables : - [ x ] Defining the transport data format ( Span2 ? ) - [ x ] Implementing a collector that accepts that format # 1742 -- - Out of scope for this issue ( should be implemented in other repositories ) , but can be listed here for convenience when searching this topic . - Implementing reporters that speak defined format - openzipkin/zipkin-reporter-java # 58 Feel free to comment/edit this if anything is missing .
Hosting zipkin UI through a proxy __EoT__ The zipkin ui that is hosted when a java zipkin server is launched is accessible only through the hostname of the machine where the ui is hosted . Like ` http : //localhost:9411/ ` If the request to the ui is proxied through a gateway , the UI becomes inaccessible . Like ` http : //abcd.com/zipkin/ ` The problem seems to be the ` app.js ` bundle file for the ui is not requested relatively . The request is something like ` http : //abcd.com/app.js/ ` , whereas this request should also be proxied ` http : //abcd.com/zipkin/app.js ` Looking into it , I figured that ` publicPath ` in ` webpack.config ` file is specified as ` / ` , which makes the requests non relative . Even after changing that , all the jquery requests that the ui makes to retreive the data is not proxied . Can this be changed , maybe accept a ` basePath ` property in ` config.json ` of the ui , which will allow the ui to be proxied ? Or is there already a way to do this ?
Get rid of the v1 codebase __EoT__ We do n't have a lot of hands to do `` huge maintenance work '' . There was a lot of demand for a v2 format , so we released a v2 core library as soon as we could ( september 2017 ) . With this in place , we were able to decouple libraries from the v1 codebase . This included brave and zipkin-reporter , which no longer have mandatory dependencies on it . However , there 's still a large amount of work to do . This issue tracks that work : - [ x ] Port mysql ( as-is ) to the zipkin2 codebase , or redo it - [ x ] Port `` cassandra '' ( as-is ) to the zipkin2 codebase , or drop it - [ x ] Remove zipkin v1 dep from zipkin-junit and repackage under io.zipkin.zipkin2 namespace - [ x ] Make a new collector , which accepts even the old v1 thrift : make the server depend on it . - [ x ] redo all the storage tests to port to v2 codebase - [ x ] implement the zipkin UI in v2
Elasticsearch http slow on getting span names when there 's a lot of data __EoT__ from @ dragontree101 because of we have lots of data , service name and span name all time out , i remember store data in cassandra , have table only store service_name and span_name , but store in es , service_name and span_name get by es , so time is very long . ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21561603/a7a8d63c-cea9-11e6-93b0-0ef800b1f7df.png ) and chrome console have ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21561714/5254d35a-ceab-11e6-8fa2-caf5158fc269.png ) i found i set SELF_TRACING_ENABLED= '' true '' in environment ! [ image ] ( https : //cloud.githubusercontent.com/assets/1763935/21562108/a01478c0-ceb0-11e6-83fb-b25d98af937d.png ) and yestoday 's es index is `` ` health status index uuid pri rep docs.count docs.deleted store.size pri.store.size green open zipkin-2016-12-29 2_uXTThATbyoJ7khnXbo4g 5 1 609199726 0 140gb 70gb `` `
Launching Zipkin + Scribe results in org.springframework.beans.factory.BeanCreationException __EoT__ Following instructions here : https : //github.com/openzipkin/zipkin/tree/master/zipkin-autoconfigure/collector-scribe Got both of the jars in the same path : `` ` total 107048 drwxr-xr-x 4 mborozdin 594072307 128 May 19 07:21 . drwxr-xr-x 6 mborozdin 594072307 192 May 18 17:28 .. -rw-r -- r -- 1 mborozdin 594072307 2377524 May 19 07:21 scribe.jar -rw-r -- r -- 1 mborozdin 594072307 51618207 May 18 17:28 zipkin.jar `` ` When launching with : `` ` $ SCRIBE_ENABLED=true \ java \ -Dloader.path='scribe.jar , scribe.jar ! /lib ' \ -Dspring.profiles.active=scribe \ -cp zipkin.jar \ org.springframework.boot.loader.PropertiesLauncher `` ` I get an exception : `` ` 2018-05-19 07:24:15.678 INFO 22205 -- - [ main ] o.s.b.w.s.FilterRegistrationBean : Mapping filter : 'webMvcMetricsFilter ' to : [ /* ] 2018-05-19 07:24:15.678 INFO 22205 -- - [ main ] o.s.b.w.s.FilterRegistrationBean : Mapping filter : 'characterEncodingFilter ' to : [ /* ] 2018-05-19 07:24:15.790 WARN 22205 -- - [ main ] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt : org.springframework.beans.factory.BeanCreationException : Error creating bean with name 'defaultValidator ' defined in class path resource [ org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class ] : Invocation of init method failed ; nested exception is java.lang.NoSuchMethodError : javax.validation.BootstrapConfiguration.getClockProviderClassName (
Query by multiple key/value pairs __EoT__ Sometimes it 's useful to be able to search for multiple key/value pairs . For example in order to find traces with 500 errors for a particular url . key=http.uri , value=/i/discovery.json key=http.responsecode , value=500 Internal Server Error
Lots of code duplication ? __EoT__ Looks like zipkin-common has lots of code duplication . Or is it just me not understanding the code ? E.g . https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/Storage.scala has many of the same methods as https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/SpanStore.scala I 'm wondering if it 's https : //github.com/openzipkin/zipkin/pull/321 that was merged with new interfaces , without removing the old ones . @ sprsquish @ bmdhacks @ franklinhu could that be right ?
Lots of code duplication ? __EoT__ Looks like zipkin-common has lots of code duplication . Or is it just me not understanding the code ? E.g . https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/Storage.scala has many of the same methods as https : //github.com/openzipkin/zipkin/blob/master/zipkin-common/src/main/scala/com/twitter/zipkin/storage/SpanStore.scala I 'm wondering if it 's https : //github.com/openzipkin/zipkin/pull/321 that was merged with new interfaces , without removing the old ones . @ sprsquish @ bmdhacks @ franklinhu could that be right ?
Annotations with endpoint port larger than 32767 fails __EoT__ Endpoint ports are cast to a short leading to query errors for ports larger than 32767 . This is a bug I guess ? Or am I missing something ? `` ` result.port ( ( short ) reader.nextInt ( ) ) ; `` ` https : //github.com/openzipkin/zipkin/blob/master/zipkin-storage/elasticsearch-http/src/main/java/zipkin/storage/elasticsearch/http/ZipkinAdapters.java # L154
redis compiling error __EoT__ ! [ qq20130627-1 ] ( https : //f.cloud.github.com/assets/648508/715909/028d1d2e-df2a-11e2-972e-cf44b9ced503.png ) i use redis replace cassandra . compile error . database.zRevRangeByScore ( preface ( key ) , ZInterval ( stop ) , ZInterval ( start ) , true , Some ( Limit ( 0 , count ) ) ) this method invoking have no problem , why compile err .
Feature Request Elastic Search Authentication __EoT__ Feature request to allow to use authenticated elastic search clusters . Unable to use Zipkin with Elastic cloud as requires basic auth . Have tried using ES_HOSTS=HTTPS : //user : pass @ elasticcloud.url Had a quick browse of the source code and do not see any way to set username and password .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
getTraceIdsByAnnotation __EoT__ [ test ] ( https : //github.com/twitter/zipkin/blob/master/zipkin-server/src/test/scala/com/twitter/zipkin/storage/cassandra/CassandraIndexSpec.scala # L187 ) in CassandraIndexSpec , why is `` ` scala // fetch by time based annotation , find trace var seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` custom '' , None , 0 , 3 ) ( ) //seq mustEqual Seq ( span1.traceId ) `` ` commented out ? It seems like it is n't time based ( the duration has n't been indexed ) but also like it should be found regardless . also , what does the test : `` ` scala // should not find any traces since the core annotation does n't exist in index seq = cassandraIndex.getTraceIdsByAnnotation ( `` service '' , `` cs '' , None , 0 , 3 ) ( ) seq.isEmpty mustBe true `` ` mean ? Why should n't the core annotation exist in index , and what does core annotation mean ? I 'm implementing this for redis , and it seems like the reverse should be true , that the second should be commented out , and the first should be uncommented .
Investigate how to limit backlog on Elasticsearch collector __EoT__ Our elasticsearch span consumer uses okhttp under the scenes , which is subject to a default of 64 in-flight connections . We should think about a cancelation policy/algo so that we do n't OOM when the elasticsearch cluster gets backed up for whatever reason . I do n't see a control to limit the backlog in the okhttp dispatcher , so we might have to do something here.. here are notes from @ logic-32 https : //github.com/openzipkin/zipkin/issues/1332 # issuecomment-334795332 > We are using Brave with a URLConnectionSender to send the data . I 'm surprised that no tool could handle more than 10k spans in your workshop ; we handle it with minimal problems on only one zipkin-server , no cluster . The only problem is that the ES_READ_TIMEOUT is set to 60s and it sometimes takes more than 60s to write the data out . So , the data does get written but zipkin erroneously reports them as dropped . But our specific situation that got us into that state was having a 10s messageTimeout and a tight loop that hit the database ; both of which have been remedied
Overlap of texts in trace GUI __EoT__ Hello , we just started using zipkin together with linkerd . Unfortunatelly , because of long names of linkerd services , the trace GUI is not very clear ... Here is a screen : ! [ image ] ( https : //user-images.githubusercontent.com/28751135/35827845-cf4d01c6-0abd-11e8-96c9-6507ef84399f.png ) Please , is there a possibility / some setting / configuration how to improve it so texts do not overlap each other ? Or do you plan to improve the appereance ? Thank you
support /heath endpoint __EoT__ In our testing tools we are checking that the zipkin query server is running but doing a HEAD request to the API . This will return 404 But if we do a GET request it will respond normally with 200 . That 's an extra burden ( to be sending data when it does need to ) and the API should be responding to HEAD also . Optionally or in addition the zipkin query server could have some /status or similar endpoint to check its health .
Support Redis AUTH ( requirepass ) __EoT__ Redis is protected using requirepass , would it be possible to support this in zipkin-redis ? Thanks !
Support Redis AUTH ( requirepass ) __EoT__ Redis is protected using requirepass , would it be possible to support this in zipkin-redis ? Thanks !
Should we allow Span.duration = 0 ? __EoT__ Should we say durations < 1 microsecond should round up to 1 microsecond ? Reason is that sometimes instrumentation accidentally store 0L when they mean null . We could coerce to 0 - > null , if we documented it . This could prevent some mistakes at the cost of special-casing when rounding < 1 microsecond spans . See # 1173
Implementation of span2 format __EoT__ This is the implementation of # 1499 Not all steps are sequential # # Overview This work supports a new data type which represents a single-host view of an operation . It will be represented in json w/ optional proto3 mapping . Full description is in # 1499 , but the format is below : `` ` { `` traceId '' : 32lowerHexCharacters , `` parentId '' : 16lowerHexCharactersOrAbsentForRoot , `` id '' : 16lowerHexCharacters , `` kind '' : enum ( CLIENT|SERVER|PRODUCER|CONSUMER|Absent ) , `` name '' : stringOrAbsent , `` timestamp '' : uint53EpochMicrosOrAbsentIfIncomplete , `` duration '' : uint53MicrosOrAbsentIfIncomplete , `` localEndpoint '' : existingEndpointTypeOrAbsent , `` remoteEndpoint '' : existingEndpointTypeOrAbsent , `` annotations '' : [ { `` timestamp '' : uint53EpochMicros , `` value '' : string } , ... ] , `` tags '' : { string : string , ... } , `` debug '' : trueOrAbsent , `` shared '' : trueOrAbsent } `` ` # # Implementation overview As we are working in the brown field , various phases can work at their own pace . Tracer libraries should be able to opt-into this without a
Support async spans __EoT__ We 've had many issues about representing one-way activity . This is an attempt to define the most semantic means to address this concern in zipkin v1 . In zipkin , we have an RPC span , where two hosts participate . They participate by adding bookend annotations to a single span . This allows for many conveniences including hosts able to report incomplete work , and report in any order . For example , a typical RPC span is [ `` cs '' , `` sr '' , `` ss '' , `` cr '' ] , for a dual host ( client+server ) span , or either of its partial ones [ `` sr '' , `` ss '' ] ( uninstrumented client ) and [ `` cs '' , `` cr '' ] ( uninstrumented server ) . The path of least resistance for async ( half-duplex , or messaging ) , is to follow this model . This prevents us from needing to wait for a big-bang zipkin 2 release of the entire ecosystem . My proposal is to add a messaging span : `` ms '' and `` mr '' .
Linear response time on services query in elasticsearch __EoT__ Getting some reports of eventual timeouts on service and span name queries on elasticsearch . Ex at 80GB/day you eventually will time out ( reported by @ pauldraper ) Ultimately one big issue is the shape of the json , which requires nested queries to access the service name of a span . The new reporting format ( # 1499 ) will allow us to eventually fix this part , but we ca n't pin to a span format-based implementation to fix a performance problem ! In cassandra3 , we started with a materialized view , but had to switch to manual indexing for similar performance reasons ( # 1374 ) . The downside is that it amplifies writes and also is less straightforward for those who might be simply writing json to ES ( as opposed to via a collector ) . Regardless of what we do , it would be nice to have a perf test which can showcase evidence of linear latency patterns on service or span name queries . This would catch any system having indexes which are n't ideal . We have some next steps to
Kafka-receiver crashes inserting to Cassandra and will not consume messages again __EoT__ First I will say we are still in POC phase so maybe an HA setup would solve our problem for Zipkin/Brave here at work but we have hit this issue every couple days or so . We have been seeing the receiver hit an exception when inserting data into cassandra . Restarting the receiver does not get messages flowing again . `` ` com.datastax.driver.core.exceptions.InvalidQueryException : Key length of 97122 is longer than maximum of 65535 at com.datastax.driver.core.Responses $ Error.asException ( Responses.java:102 ) at com.datastax.driver.core.DefaultResultSetFuture.onSet ( DefaultResultSetFuture.java:149 ) at com.datastax.driver.core.RequestHandler.setFinalResult ( RequestHandler.java:183 ) at com.datastax.driver.core.RequestHandler.access $ 2300 ( RequestHandler.java:44 ) at com.datastax.driver.core.RequestHandler $ SpeculativeExecution.setFinalResult ( RequestHandler.java:751 ) at com.datastax.driver.core.RequestHandler $ SpeculativeExecution.onSet ( RequestHandler.java:573 ) at com.datastax.driver.core.Connection $ Dispatcher.channelRead0 ( Connection.java:1009 ) at com.datastax.driver.core.Connection $ Dispatcher.channelRead0 ( Connection.java:932 ) at io.netty.channel.SimpleChannelInboundHandler.channelRead ( SimpleChannelInboundHandler.java:105 ) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead ( AbstractChannelHandlerContext.java:339 ) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead ( AbstractChannelHandlerContext.java:324 ) at io.netty.handler.timeout.IdleStateHandler.channelRead ( IdleStateHandler.java:254 ) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead ( AbstractChannelHandlerContext.java:339 ) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead ( AbstractChannelHandlerContext.java:324 ) at io.netty.handler.codec.MessageToMessageDecoder.channelRead ( MessageToMessageDecoder.java:103 ) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead ( AbstractChannelHandlerContext.java:339 ) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead ( AbstractChannelHandlerContext.java:324 ) at io.netty.handler.codec.ByteToMessageDecoder.channelRead ( ByteToMessageDecoder.java:242 ) at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead ( AbstractChannelHandlerContext.java:339 ) at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead ( AbstractChannelHandlerContext.java:324 ) at
Update Kafka ( to 0.10 ) __EoT__ Last year , we attempted to update Kafka to 0.9 , but had to revert it due to the ordering problem implied . https : //github.com/openzipkin/zipkin/pull/904 Unfortunately no one responded to the email asking about kafka update plans : https : //groups.google.com/forum/ # ! topic/zipkin-user/rQpecbvc6Y0 We should n't be pinned to 0.8 forever , and we are now getting requests for 0.10 support . I 'm wondering how we should address Kafka updates , particularly as the server includes an all-jar . Unless packaging is different , it might imply weird tricks to be able support multiple versions in the same binary , or a separate build . Can anyone share their current status wrt kafka and/or have ideas on how to support multiple versions simply ? cc @ prat0318 @ dgarson @ SimenB @ sveisvei @ eirslett @ kristofa @ NegatioN @ shakuzen
Update Kafka ( to 0.10 ) __EoT__ Last year , we attempted to update Kafka to 0.9 , but had to revert it due to the ordering problem implied . https : //github.com/openzipkin/zipkin/pull/904 Unfortunately no one responded to the email asking about kafka update plans : https : //groups.google.com/forum/ # ! topic/zipkin-user/rQpecbvc6Y0 We should n't be pinned to 0.8 forever , and we are now getting requests for 0.10 support . I 'm wondering how we should address Kafka updates , particularly as the server includes an all-jar . Unless packaging is different , it might imply weird tricks to be able support multiple versions in the same binary , or a separate build . Can anyone share their current status wrt kafka and/or have ideas on how to support multiple versions simply ? cc @ prat0318 @ dgarson @ SimenB @ sveisvei @ eirslett @ kristofa @ NegatioN @ shakuzen
java.lang.Throwable : Explicit termination method 'end ' not called __EoT__ `` ` ERROR/StrictMode ( 11328 ) : A resource was acquired at attached stack trace but never released . See java.io.Closeable for information on avoiding resource leaks . java.lang.Throwable : Explicit termination method 'end ' not called at dalvik.system.CloseGuard.open ( CloseGuard.java:184 ) at java.util.zip.Inflater. < init > ( Inflater.java:82 ) at java.util.zip.GZIPInputStream. < init > ( GZIPInputStream.java:96 ) at java.util.zip.GZIPInputStream. < init > ( GZIPInputStream.java:81 ) at com.loopj.android.http.AsyncHttpClient $ InflatingEntity.getContent ( AsyncHttpClient.java:610 ) at org.apache.http.conn.BasicManagedEntity.getContent ( BasicManagedEntity.java:100 ) at org.apache.http.util.EntityUtils.toByteArray ( EntityUtils.java:64 ) at org.apache.http.entity.BufferedHttpEntity. < init > ( BufferedHttpEntity.java:62 ) at com.loopj.android.http.AsyncHttpResponseHandler.sendResponseMessage ( AsyncHttpResponseHandler.java:227 ) at com.loopj.android.http.AsyncHttpRequest.makeRequest ( AsyncHttpRequest.java:79 ) at com.loopj.android.http.AsyncHttpRequest.makeRequestWithRetries ( AsyncHttpRequest.java:95 ) at com.loopj.android.http.AsyncHttpRequest.run ( AsyncHttpRequest.java:57 ) at java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:390 ) at java.util.concurrent.FutureTask.run ( FutureTask.java:234 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1080 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:573 ) at java.lang.Thread.run ( Thread.java:856 ) `` `
Proxy Authentication __EoT__ setproxy function should also accept username password if requires
Modify SimpleMultipartEntity to make sure file conteent is not read into memory when addPart is called __EoT__ Modify SimpleMultipartEntity to make sure file conteent is not read into memory when ` addPart ` is called . The Stream should be stored in the entity instead of reading it into a byte array and the stream should be returned in ` getContent `
Switching to flight mode does not throw exception __EoT__ I was using this library in my Android project . During testing , when I switched to flight mode while http request was in progress , no exception was thrown by the library .
Can add Basic Auth , but can not remove it __EoT__ There is a mechanism to allow users to add credentials . Added in 1.4.0 . `` ` java /** * Sets basic authentication for the request . Uses AuthScope.ANY . This is the same as * setBasicAuth ( 'username ' , 'password ' , AuthScope.ANY ) * @ param username * @ param password */ public void setBasicAuth ( String user , String pass ) { AuthScope scope = AuthScope.ANY ; setBasicAuth ( user , pass , scope ) ; } /** * Sets basic authentication for the request . You should pass in your AuthScope for security . It should be like this * setBasicAuth ( `` username '' , '' password '' , new AuthScope ( `` host '' , port , AuthScope.ANY_REALM ) ) * @ param username * @ param password * @ param scope - an AuthScope object * */ public void setBasicAuth ( String user , String pass , AuthScope scope ) { UsernamePasswordCredentials credentials = new UsernamePasswordCredentials ( user , pass ) ; this.httpClient.getCredentialsProvider ( ) .setCredentials ( scope , credentials ) ; } `` ` Since the library provides convenience methods
Additional Information in AsyncHttpResponseHandler __EoT__ It 's posible I 'm missing something , but I do n't see anyway to get any additional information bout the request 's response . I 'm specifically needing two things : - **HTTP Status Code in both onSuccess and onError** : Casting the throwable in onError to HttpResponseException will let me call getStatusCode ( ) , but this really is n't the cleanest way to go about it - **Response bodies in onError** : RESTful API 's frequently send back a response message , along with an HTTP error code . **Bonus** : A way to fetch HTTP Response headers in both methods .
Uploading progress __EoT__ Hey , When uploading files to the server , is there a way I can have a callback to see the progress of the upload ? Thanks
NullPointerException : Status code 204 No Content __EoT__ > java.lang.NullPointerException > at org.json.JSONTokener.nextCleanInternal ( JSONTokener.java:112 ) > at org.json.JSONTokener.nextValue ( JSONTokener.java:90 ) > at com.loopj.android.http.JsonHttpResponseHandler.parseResponse ( JsonHttpResponseHandler.java:81 ) > at com.loopj.android.http.JsonHttpResponseHandler.handleSuccessMessage ( JsonHttpResponseHandler.java:67 ) > at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage ( AsyncHttpResponseHandler.java:173 ) > at com.loopj.android.http.AsyncHttpResponseHandler $ 1.handleMessage ( AsyncHttpResponseHandler.java:85 ) > at android.os.Handler.dispatchMessage ( Handler.java:99 ) > at android.os.Looper.loop ( Looper.java:150 ) > at android.app.ActivityThread.main ( ActivityThread.java:4385 ) > at java.lang.reflect.Method.invokeNative ( Native Method ) > at java.lang.reflect.Method.invoke ( Method.java:507 ) > at com.android.internal.os.ZygoteInit $ MethodAndArgsCaller.run ( ZygoteInit.java:849 ) > at com.android.internal.os.ZygoteInit.main ( ZygoteInit.java:607 ) > at dalvik.system.NativeStart.main ( Native Method )
Request not callback onSuccess ( ) handler __EoT__ I trying to call the request ( get ) in fragment to a simple rest service which I 've tested it by tradional way and everything is fine . But when I calling using asyn http lib it 's only callback to onStart but after that , nothing occur . Not even onFailure This might be an issue with android 4.1 and master-details nav style . Thanks for any response .
null and consequently crash on RetryHandler __EoT__ in `` ` if ( retry ) { // resend all idempotent requests HttpUriRequest currentReq = ( HttpUriRequest ) context.getAttribute ( ExecutionContext.HTTP_REQUEST ) ; String requestType = currentReq.getMethod ( ) ; retry = ! requestType.equals ( `` POST '' ) ; } `` ` currentReq returned is null and so the the currentReq.getMethod ( ) crashs , leaving my application on a blocking state due to the fact that im waiting on the listeners to be invoked . This happens for example if my Device is on Wi-Fi but with no internet connectivity
null and consequently crash on RetryHandler __EoT__ in `` ` if ( retry ) { // resend all idempotent requests HttpUriRequest currentReq = ( HttpUriRequest ) context.getAttribute ( ExecutionContext.HTTP_REQUEST ) ; String requestType = currentReq.getMethod ( ) ; retry = ! requestType.equals ( `` POST '' ) ; } `` ` currentReq returned is null and so the the currentReq.getMethod ( ) crashs , leaving my application on a blocking state due to the fact that im waiting on the listeners to be invoked . This happens for example if my Device is on Wi-Fi but with no internet connectivity
android-async-http is powerful , can you release it with maven ? __EoT__ Hi , loopj . android-async-http is powerful , can you release it with maven ? you can read this topic as following . https : //docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide # SonatypeOSSMavenRepositoryUsageGuide-7a.1.POMandsettingsconfig
org.apache.http.NoHttpResponseException : The target server failed to respond __EoT__ `` ` [ org.apache.http.impl.conn.DefaultResponseParser.parseHead ( DefaultResponseParser.java:85 ) , org.apache.http.impl.io.AbstractMessageParser.parse ( AbstractMessageParser.java:174 ) , org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader ( AbstractHttpClientConnection.java:179 ) , org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader ( DefaultClientConnection.java:235 ) , org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader ( AbstractClientConnAdapter.java:259 ) , org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse ( HttpRequestExecutor.java:279 ) , org.apache.http.protocol.HttpRequestExecutor.execute ( HttpRequestExecutor.java:121 ) , org.apache.http.impl.client.DefaultRequestDirector.execute ( DefaultRequestDirector.java:421 ) , org.apache.http.impl.client.AbstractHttpClient.execute ( AbstractHttpClient.java:555 ) , org.apache.http.impl.client.AbstractHttpClient.execute ( AbstractHttpClient.java:487 ) , com.loopj.android.http.AsyncHttpRequest.makeRequest ( AsyncHttpRequest.java:74 ) , com.loopj.android.http.AsyncHttpRequest.makeRequestWithRetries ( AsyncHttpRequest.java:93 ) , com.loopj.android.http.AsyncHttpRequest.run ( AsyncHttpRequest.java:55 ) , java.util.concurrent.Executors $ RunnableAdapter.call ( Executors.java:444 ) , java.util.concurrent.FutureTask $ Sync.innerRun ( FutureTask.java:306 ) , java.util.concurrent.FutureTask.run ( FutureTask.java:138 ) , java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1088 ) , java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:581 ) , java.lang.Thread.run ( Thread.java:1019 ) ] `` ` From time to time after the upgrade from 1.4.1 to 1.4.2 the emergence org.apache.http.NoHttpResponseException : The target server failed to respond
gif image cound 't work fine with attr fresco : roundAsCircle in SimpleDraweeView __EoT__ the layout is : < com.facebook.drawee.view.SimpleDraweeView android : id= '' @ +id/xxxx_avatar '' android : layout_width= '' 58dp '' android : layout_height= '' 58dp '' android : layout_centerVertical= '' true '' fresco : actualImageScaleType= '' fitCenter '' fresco : placeholderImage= '' @ drawable/avatar '' fresco : placeholderImageScaleType= '' fitCenter '' fresco : roundAsCircle= '' true '' / > in java code : Uri uri = Uri.parse ( avatarUrl ) ; xxxxAvatar.setImageURI ( uri ) ; the url is http : //q.qlogo.cn/qqapp/1104755926/00D2048535A0170ABED755FD207845DD/100 i expact it shows as circle border ( even if gif image does not animate ) , but it shows in square border still fresco : roundAsCircle did n't work ... how can i fix it ?
Can not Run Showcase app In android Studio __EoT__ I have downloaded ndk as instructed . ! [ screen shot 2017-10-20 at 3 52 32 pm ] ( https : //user-images.githubusercontent.com/13792433/31810536-be994880-b5ae-11e7-9080-a005f02eccc7.png ) I failed to Load Sample App and got this error ... please advice . Thanks ! /Users/toccostudios_macmini02/Library/Android/sdk/ndk-bundle/build/core/build-binary.mk Warning : ( 580 ) warning : overriding commands for target ` /Users/toccostudios_macmini02/Documents' Warning : ( 528 ) warning : ignoring old commands for target ` /Users/toccostudios_macmini02/Documents' Warning : ( 580 ) warning : overriding commands for target ` . ' Warning : ( 528 ) warning : ignoring old commands for target ` . ' Warning : ( 635 ) warning : overriding commands for target ` /Users/toccostudios_macmini02/Documents/Android' Warning : ( 528 ) warning : ignoring old commands for target ` /Users/toccostudios_macmini02/Documents/Android' Warning : ( 635 ) warning : overriding commands for target ` Test' Warning : ( 528 ) warning : ignoring old commands for target ` Test' Warning : ( 778 ) warning : overriding commands for target ` /Users/toccostudios_macmini02/Documents/Android' Warning : ( 635 ) warning : ignoring old commands for target ` /Users/toccostudios_macmini02/Documents/Android' Warning : ( 778 ) warning : overriding commands for target ` Test' Warning
UnsatisfiedLinkError NativeMemoryChunk x86_64 __EoT__ We 're getting the following error on x86_64 devices only . Including the Google Play Services x86_64 emulator image , Galaxy S6 , and Galaxy S6 Edge . We tried adding the proguard rules mentioned in # 171 but without success . Any Ideas ? Thanks ! `` `` `` 04-23 20:36:51.902 22309-23567/com.example.dev E/AndroidRuntime﹕ FATAL EXCEPTION : pool-3-thread-2 Process : com.example.dev , PID : 22309 java.lang.UnsatisfiedLinkError : com.facebook.imagepipeline.memory.NativeMemoryChunk at com.facebook.imagepipeline.memory.NativeMemoryChunkPool.alloc ( NativeMemoryChunkPool.java:60 ) at com.facebook.imagepipeline.memory.NativeMemoryChunkPool.alloc ( NativeMemoryChunkPool.java:22 ) at com.facebook.imagepipeline.memory.BasePool.get ( BasePool.java:264 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferOutputStream. < init > ( NativePooledByteBufferOutputStream.java:53 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferOutputStream. < init > ( NativePooledByteBufferOutputStream.java:36 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.newOutputStream ( NativePooledByteBufferFactory.java:131 ) at com.facebook.imagepipeline.memory.NativePooledByteBufferFactory.newOutputStream ( NativePooledByteBufferFactory.java:26 ) at com.facebook.imagepipeline.producers.NetworkFetchProducer.onResponse ( NetworkFetchProducer.java:97 ) at com.facebook.imagepipeline.producers.NetworkFetchProducer.access $ 000 ( NetworkFetchProducer.java:36 ) at com.facebook.imagepipeline.producers.NetworkFetchProducer $ 1.onResponse ( NetworkFetchProducer.java:73 ) at com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher $ 1.run ( HttpUrlConnectionNetworkFetcher.java:58 ) at java.util.concurrent.ThreadPoolExecutor.runWorker ( ThreadPoolExecutor.java:1112 ) at java.util.concurrent.ThreadPoolExecutor $ Worker.run ( ThreadPoolExecutor.java:587 ) at java.lang.Thread.run ( Thread.java:818 ) `` ` `` `` ``
Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . __EoT__ OS： mac 10.10.3 Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . > A problem occurred starting process 'command 'ndk-build '' # # help
Dynamically link jpegturbo lib for reduce library size . __EoT__ I 've noticed native lib **jpegturbo** is both statically linked in bellowing module : - **imagepipeline** ( See [ imagepipeline/Android.mk # L28 ] ( https : //github.com/facebook/fresco/blob/master/imagepipeline/src/main/jni/imagepipeline/Android.mk # L28 ) ) - **static-webp** ( See [ static-webp/Android.mk # L37 ] ( https : //github.com/facebook/fresco/blob/master/static-webp/src/main/jni/static-webp/Android.mk # L37 ) ) It 's size is 165KB kb in armeabi-v7 and 409KB in x86 ( so big ! ) , would cause a lot of redundant apk size ! Since every body who use **static-webp** library would and must already have **imagepipeline** in their app , so I think we can do some trick : - make fb_jpegturbo as a shared library and dynamically link them in two modules ; - after ndk-build success in **static-webp** , delete fb_jpegturbo.so in this module otherwise it would conflict with **imagepipeline** 's . If this idea is accepted , I would give a PR in several days .
Dynamically link jpegturbo lib for reduce library size . __EoT__ I 've noticed native lib **jpegturbo** is both statically linked in bellowing module : - **imagepipeline** ( See [ imagepipeline/Android.mk # L28 ] ( https : //github.com/facebook/fresco/blob/master/imagepipeline/src/main/jni/imagepipeline/Android.mk # L28 ) ) - **static-webp** ( See [ static-webp/Android.mk # L37 ] ( https : //github.com/facebook/fresco/blob/master/static-webp/src/main/jni/static-webp/Android.mk # L37 ) ) It 's size is 165KB kb in armeabi-v7 and 409KB in x86 ( so big ! ) , would cause a lot of redundant apk size ! Since every body who use **static-webp** library would and must already have **imagepipeline** in their app , so I think we can do some trick : - make fb_jpegturbo as a shared library and dynamically link them in two modules ; - after ndk-build success in **static-webp** , delete fb_jpegturbo.so in this module otherwise it would conflict with **imagepipeline** 's . If this idea is accepted , I would give a PR in several days .
Build fail on Mac , followed instruction but failed on : imagepipeline : ndk_build_imagepipeline __EoT__ I followed [ Building from Source ] ( http : //frescolib.org/docs/building-from-source.html ) , but failed to build fresco . my ndk version is r11c and logs : make : /Users/MyName/Downloads/android-ndk-r11c/toolchains/arm-linux-androideabi-4.8/prebuilt/darwin-x86_64/bin/arm-linux-androideabi-g++ : No such file or directory make : **\* [ /Users/MyName/MyDirectory/fresco/imagepipeline/build/tmp/ndk_build_imagepipeline/local/armeabi-v7a/objs/imagepipeline/exceptions.o ] Error 1 : imagepipeline : ndk_build_imagepipeline FAILED - What went wrong : Execution failed for task ' : imagepipeline : ndk_build_imagepipeline ' . > Process 'command '/Users/MyName/Downloads/android-ndk-r11c/ndk-build '' finished with non-zero exit value 2
Crash Of the lib in the App ( Log added ) __EoT__ Build fingerprint : 'samsung/trlteusc/trlteusc:5.0.1/LRX22C/N910R4TYU1BOC4 : user/release-keys' Revision : '12' ABI : 'arm' pid : 27672 , tid : 28452 , name : Thread-63973 > > > com.kidoz < < < signal 6 ( SIGABRT ) , code -6 ( SI_TKILL ) , fault addr -- -- -- -- Abort message : ' [ FATAL : memory.cc ( 18 ) ] Out of memory . size=4194304 ' r0 00000000 r1 00006f24 r2 00000006 r3 00000000 r4 8c3ffdb8 r5 00000006 r6 00000009 r7 0000010c r8 b6fc2e04 r9 8c3fe5e8 sl 00000000 fp a178a200 ip 00006f24 sp 8c3fe100 lr b6f6cfd1 pc b6f90970 cpsr 680f0010 backtrace : # 00 pc 00037970 /system/lib/libc.so ( tgkill+12 ) # 01 pc 00013fcd /system/lib/libc.so ( pthread_kill+52 ) # 02 pc 00014beb /system/lib/libc.so ( raise+10 ) # 03 pc 00011531 /system/lib/libc.so ( __libc_android_abort+36 ) # 04 pc 0000fcbc /system/lib/libc.so ( abort+4 ) # 05 pc 002b4775 /data/app/com.google.android.webview-1/lib/arm/libwebviewchromium.so
testLowDiskSpace always checks internal storage __EoT__ DiskStorageCache testLowDiskSpace always pass StatFsHelper.StorageType.INTERNAL can not pass EXTERNAL `` ` java /** * Helper method that sets the cache size limit to be either a high , or a low limit . * If there is not enough free space to satisfy the high limit , it is set to the low limit . */ @ GuardedBy ( `` mLock '' ) private void updateFileCacheSizeLimit ( ) { // Test if mCacheSizeLimit can be set to the high limit boolean isAvailableSpaceLowerThanHighLimit = mStatFsHelper.testLowDiskSpace ( StatFsHelper.StorageType.INTERNAL , mDefaultCacheSizeLimit - mCacheStats.getSize ( ) ) ; if ( isAvailableSpaceLowerThanHighLimit ) { mCacheSizeLimit = mLowDiskSpaceCacheSizeLimit ; } else { mCacheSizeLimit = mDefaultCacheSizeLimit ; } } `` `
testLowDiskSpace always checks internal storage __EoT__ DiskStorageCache testLowDiskSpace always pass StatFsHelper.StorageType.INTERNAL can not pass EXTERNAL `` ` java /** * Helper method that sets the cache size limit to be either a high , or a low limit . * If there is not enough free space to satisfy the high limit , it is set to the low limit . */ @ GuardedBy ( `` mLock '' ) private void updateFileCacheSizeLimit ( ) { // Test if mCacheSizeLimit can be set to the high limit boolean isAvailableSpaceLowerThanHighLimit = mStatFsHelper.testLowDiskSpace ( StatFsHelper.StorageType.INTERNAL , mDefaultCacheSizeLimit - mCacheStats.getSize ( ) ) ; if ( isAvailableSpaceLowerThanHighLimit ) { mCacheSizeLimit = mLowDiskSpaceCacheSizeLimit ; } else { mCacheSizeLimit = mDefaultCacheSizeLimit ; } } `` `
Debug build from sources fails with error : use of undeclared identifier 'memset ' __EoT__ # # # Description In Android Studio , up to date , with ndk 16.1.4479499 , and Fresco lib sources from master branch , to last commit ( yesterday ) , build fails with : `` ` ./jpeg/jpeg_codec.cpp:180:3 : error : use of undeclared identifier 'memset ' ; did you mean 'wmemset ' ? memset ( & dinfo , 0 , sizeof ( struct jpeg_decompress_struct ) ) ; `` ` ( ... ) and few more errors ( ... ) `` ` 1 : Task failed with an exception . -- -- -- -- -- - * What went wrong : Execution failed for task ' : imagepipeline : ndk_build_imagepipeline ' . `` ` `` ` 2 : Task failed with an exception . -- -- -- -- -- - * What went wrong : Execution failed for task ' : static-webp : ndk_build_static-webp ' . `` ` # # # Reproduction Try to build again * Fresco version : master to https : //github.com/facebook/fresco/commit/06fe3719a3a3c659438b6c25a8008945e67156a0 * Platform version : debug build for api 24 - Android 6.0
The demo project is n't building __EoT__ a failure with the task ` : imagepipeline : ndk_build_bitmaps ` stacktrace : https : //gist.github.com/fcaebdec0bd61826a3b4.git I tried installing the NDK thinking that might the issue . I 'm all out of ideas .
Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . __EoT__ i import the project but throw a gradle execution fail error . say my ndk-build.cmd finished with an exception error . but i was install the ndk . Please help me to solve this problem . `` ` Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . > Process 'command 'X : \AndroidSDK\ndk-bundle\ndk-build.cmd '' finished with non-zero exit value 2 `` ` `` ` Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi-v7a/objs/bitmaps/Bitmaps.o : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/armeabi/objs/bitmaps/Bitmaps.o : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o.d : No such file or directory Error : error : ( 1 ) \fresco-master\imagepipeline\build\tmp\ndk_build_bitmaps/local/arm64-v8a/objs/bitmaps/Bitmaps.o : No such file or directory `` `
Params __EoT__ it 's that a way that I can add params to my request , not in the link but in the header or body ?
newest code can not build now , but 0.8.1 is no problem in the same environment configuration __EoT__ Error : Execution failed for task ' : imagepipeline : ndk_build_bitmaps ' . > A problem occurred starting process 'command 'D : \Android\android-ndk-r10b\ndk-build ''
CacheStats return - 1 on app update __EoT__ Hello , I do n't know if it 's the same as https : //github.com/facebook/fresco/issues/984 . When app is update ( or suppressed and reinstalled ) : ` mDiskCacheUsedSize = Fresco.getImagePipelineFactory ( ) .getMainDiskStorageCache ( ) .getSize ( ) ; ` return -1 thus all files are in cache . This has been tested using : ` .setBaseDirectoryPath ( getExternalCacheDir ( ) ) ` or ` .setBaseDirectoryPath ( context.getApplicationContext ( ) .getCacheDir ( ) ) ` as diskCacheConfig Thanks , Eric
StethoURLConnectionManager usage __EoT__ Hello , I 'm trying to make network interceptor work for urlconnection and according to docu : > If you are using HttpURLConnection , you can use StethoURLConnectionManager Do you have any example doing so ? I ca n't find any articles about it . Here is my VolleySingleton snippet where I 'd like to add it : `` ` java private RequestQueue getRequestQueue ( ) { HurlStack hurlStack = new HurlStack ( ) { @ Override protected HttpURLConnection createConnection ( URL url ) throws IOException { HttpsURLConnection httpsURLConnection = ( HttpsURLConnection ) super.createConnection ( url ) ; try { httpsURLConnection.setSSLSocketFactory ( getSSLSocketFactory ( ) ) ; httpsURLConnection.setHostnameVerifier ( getHostnameVerifier ( ) ) ; } catch ( Exception e ) { e.printStackTrace ( ) ; } return httpsURLConnection ; } } ; if ( mRequestQueue == null ) { mRequestQueue = Volley.newRequestQueue ( mCtx.getApplicationContext ( ) , hurlStack ) ; } return mRequestQueue ; } `` ` My build.gradle `` ` compile 'com.facebook.stetho : stetho:1.4.1' compile 'com.facebook.stetho : stetho-urlconnection:1.4.1' `` `
Conflicting Proguard config recommendations __EoT__ The Progaurd recommendations at [ github.com/square/retrofit # proguard ] ( https : //github.com/square/retrofit # proguard ) : > If you are using ProGuard you might need to add the following options : > > `` ` > -dontwarn okio . ** > -dontwarn javax.annotation . ** > `` ` **_versus_** The Proguard recommendations at [ square.github.io/retrofit ] ( http : //square.github.io/retrofit/ ) ( [ website code ] ( https : //github.com/square/retrofit/blob/master/website/index.html # L176-L189 ) ) : > If you are using ProGuard in your project add the following lines to your configuration : > > `` ` > # Platform calls Class.forName on types which do not exist on Android to determine platform . > -dontnote retrofit2.Platform > # Platform used when running on Java 8 VMs . Will not be used at runtime . > -dontwarn retrofit2.Platform $ Java8 > # Retain generic type information for use by reflection by converters and adapters . > -keepattributes Signature > # Retain declared checked exceptions for use by a Proxy instance . > -keepattributes Exceptions > `` ` > Retrofit uses Okio under the hood , so you may want to look at its ProGuard rules
Use a better error message when multiple callback types are in use . __EoT__ Hello , I am using retrofit 1.9.0 , and getting a strange error : > Error : retrofit.RetrofitError : : No Retrofit annotation found . ( parameter # 2 ) I defined my api method like this : ` @ POST ( `` /login '' ) Observable < Customer > doEmailLogin ( @ Body LoginBody loginBody , Callback < ResponseBody > callback ) ; ` What could be causing this error with my Callback interface ? ? Thank you , Igor
Retrofit 2.0 API Spec ( Working Draft ) __EoT__ This is a living spec for what will be v2 of Retrofit . # # Goals - Broaden the scope of how you can process successful responses and handle the results of various exceptions throughout the stack . Currently there 's a mix of exceptions , wrapped types , and callbacks depending on the usage of synchronous or asynchronous API declarations . - Unify API declaration so that both synchronous and asynchronous consumption of a resource does not change its declaration . - Introduce better request and response interceptors which allow for both tweaks to existing requests or full on replacement ( e.g. , for signing purposes ) . - Allow simple request retry and cancel support without the need to talk to the ` RestAdapter ` or generated interface instance . - Completely decouple interface declaration parsing from request invocation and processing and expose the shim layer between the two as a extension-based system for customization . This will be used to ( hopefully ) facilitate RxJava integration as an extensions rather than being baked into the core of the library itself # # Changes # # # Annotation Processors
No retrofit annotation found . __EoT__ Hello I 'm using retrofit 2.0 beta and I got the error below exception occurred while doing in background : No Retrofit annotation found . ( parameter # 1 ) for method FileUploadService.upload java.lang.IllegalArgumentException : No Retrofit annotation found . ( parameter # 1 ) I 'm trying to upload multiple files . `` ` Map < String , RequestBody > map = new HashMap < > ( list.size ( ) ) ; RequestBody file = null ; File f = null ; for ( int i = 0 ; i < list.size ( ) ; i++ ) { f = new File ( list.get ( i ) .getPhotoPath ( ) ) ; file = RequestBody.create ( MediaType.parse ( `` image/jpg '' ) , f ) ; map.put ( `` '' + i + `` \ '' ; filename=\ '' '' + i + `` .jpg '' , file ) ; file = null ; f = null ; } Call < String > call = fileUploadService.upload ( map , description ) ; `` ` `` ` public interface FileUploadService { @ Multipart @ POST ( `` user/photographer/upload '' ) Call < String >
OkHttp v2 API Support __EoT__ Preemptively creating this issue .
RxJava update breaks Retrofit __EoT__ Hi Just a tip . Netflix just released RxJava 0.18.0 . It contains a major change to Schedulers and breaks Retrofit 1.5.0 . We are currently specifying RxJava previous version to be able to use Retrofit : `` ` dependencies { compile 'com.netflix.rxjava : rxjava-core:0.17.6' compile 'com.netflix.rxjava : rxjava-android:0.17.6' compile 'com.squareup.retrofit : retrofit:1.5.0' } `` `
/system/lib/libssl.so crash in mobile app . __EoT__ Hi guys , We are using the latest retrofit library in our app , and we get crashes regarding the libssl.so . Versions used are : okHttp 2.1.0 retrofit 1.9.0 And stack trace : Build fingerprint : 'htc/htc_europe/htc_memul:4.4.2/KOT49H/405590.2 : user/release-keys' Revision : '0' pid : 25052 , tid : 25087 , name : Thread-55425 > > > < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 00000000 r0 00000000 r1 00000000 r2 68fc4045 r3 00000015 r4 00000002 r5 68fc4046 r6 00000000 r7 ffffffff r8 00000001 r9 00000000 sl 00000015 fp 68fc4045 ip 5da11b30 sp 6548d918 lr 5da060f1 pc 40adafd6 cpsr 600f0030 d0 0000000000000000 d1 0000000000000000 d2 0000000000000000 d3 0000000000000000 d4 3eb4000000000000 d5 0000000800000dc7 d6 03000008000000de d7 4040000000000003 d8 0000000000000000 d9 0000000000000000 d10 0000000000000000 d11 0000000000000000 d12 0000000000000000 d13 0000000000000000 d14 0000000000000000 d15 0000000000000000 d16 0000000000000000 d17 0000000000000000 d18 0a727c8b2da65bf4 d19 664b9df9e51b2a15 d20 c000664b9df9e51b d21 010001ff2c000009 d22 0023000000000000 d23 3268021500743300 d24 0000000000000000 d25 0000000000000000 d26 0000000000000000 d27 0000000000000000 d28 0100010001000100 d29 0100010001000100 d30 0000000000000000 d31 0000000000000000 scr 68000010 backtrace : # 00 pc 00026fd6 /system/lib/libssl.so ( SSL_select_next_proto+49 ) # 01 pc 000070ed /system/lib/libjavacrypto.so # 02 pc
/system/lib/libssl.so crash in mobile app . __EoT__ Hi guys , We are using the latest retrofit library in our app , and we get crashes regarding the libssl.so . Versions used are : okHttp 2.1.0 retrofit 1.9.0 And stack trace : Build fingerprint : 'htc/htc_europe/htc_memul:4.4.2/KOT49H/405590.2 : user/release-keys' Revision : '0' pid : 25052 , tid : 25087 , name : Thread-55425 > > > < < < signal 11 ( SIGSEGV ) , code 1 ( SEGV_MAPERR ) , fault addr 00000000 r0 00000000 r1 00000000 r2 68fc4045 r3 00000015 r4 00000002 r5 68fc4046 r6 00000000 r7 ffffffff r8 00000001 r9 00000000 sl 00000015 fp 68fc4045 ip 5da11b30 sp 6548d918 lr 5da060f1 pc 40adafd6 cpsr 600f0030 d0 0000000000000000 d1 0000000000000000 d2 0000000000000000 d3 0000000000000000 d4 3eb4000000000000 d5 0000000800000dc7 d6 03000008000000de d7 4040000000000003 d8 0000000000000000 d9 0000000000000000 d10 0000000000000000 d11 0000000000000000 d12 0000000000000000 d13 0000000000000000 d14 0000000000000000 d15 0000000000000000 d16 0000000000000000 d17 0000000000000000 d18 0a727c8b2da65bf4 d19 664b9df9e51b2a15 d20 c000664b9df9e51b d21 010001ff2c000009 d22 0023000000000000 d23 3268021500743300 d24 0000000000000000 d25 0000000000000000 d26 0000000000000000 d27 0000000000000000 d28 0100010001000100 d29 0100010001000100 d30 0000000000000000 d31 0000000000000000 scr 68000010 backtrace : # 00 pc 00026fd6 /system/lib/libssl.so ( SSL_select_next_proto+49 ) # 01 pc 000070ed /system/lib/libjavacrypto.so # 02 pc
Occurs after multiple requests __EoT__ 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Runtime aborting ... 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Aborting thread : 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] `` Jit thread pool worker thread 0 '' prio=5 tid=2 Runnable ( still starting up ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | group= '' '' sCount=0 dsCount=0 obj=0x0 self=0xb8c6d0d8 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | sysTid=2236 nice=0 cgrp=default sched=0/0 handle=0xb3a5c930 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | state=R schedstat= ( 1156923993 248874377 865 ) utm=93 stm=22 core=1 HZ=100 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | stack=0xb395f000-0xb3961000 stackSize=1018KB 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | held mutexes= `` abort lock '' `` mutator lock '' ( shared held ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 00 pc 0035c607 /system/lib/libart.so ( _ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 01 pc 0033d23b /system/lib/libart.so ( _ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 02 pc 0032158d /system/lib/libart.so ( _ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+20 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : #
Occurs after multiple requests __EoT__ 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Runtime aborting ... 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Aborting thread : 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] `` Jit thread pool worker thread 0 '' prio=5 tid=2 Runnable ( still starting up ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | group= '' '' sCount=0 dsCount=0 obj=0x0 self=0xb8c6d0d8 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | sysTid=2236 nice=0 cgrp=default sched=0/0 handle=0xb3a5c930 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | state=R schedstat= ( 1156923993 248874377 865 ) utm=93 stm=22 core=1 HZ=100 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | stack=0xb395f000-0xb3961000 stackSize=1018KB 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | held mutexes= `` abort lock '' `` mutator lock '' ( shared held ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 00 pc 0035c607 /system/lib/libart.so ( _ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 01 pc 0033d23b /system/lib/libart.so ( _ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 02 pc 0032158d /system/lib/libart.so ( _ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+20 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : #
Occurs after multiple requests __EoT__ 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Runtime aborting ... 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] Aborting thread : 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] `` Jit thread pool worker thread 0 '' prio=5 tid=2 Runnable ( still starting up ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | group= '' '' sCount=0 dsCount=0 obj=0x0 self=0xb8c6d0d8 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | sysTid=2236 nice=0 cgrp=default sched=0/0 handle=0xb3a5c930 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | state=R schedstat= ( 1156923993 248874377 865 ) utm=93 stm=22 core=1 HZ=100 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | stack=0xb395f000-0xb3961000 stackSize=1018KB 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] | held mutexes= `` abort lock '' `` mutator lock '' ( shared held ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 00 pc 0035c607 /system/lib/libart.so ( _ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 01 pc 0033d23b /system/lib/libart.so ( _ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : # 02 pc 0032158d /system/lib/libart.so ( _ZNK3art10AbortState10DumpThreadERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEEPNS_6ThreadE+20 ) 06-15 15:28:33.229 2221-2236/ ? A/art : art/runtime/runtime.cc:366 ] native : #
Retrofit 2.4.0-SNAPSHOT __EoT__ What kind of issue is this ? - [ ] Question . This issue tracker is not the place for questions . If you want to ask how to do something , or to understand why something is n't working the way you expect it to , use Stack Overflow . https : //stackoverflow.com/questions/tagged/retrofit - [ x ] Bug report . If you ’ ve found a bug , spend the time to write a failing test . Bugs with tests get fixed . Here ’ s an example : https : //gist.github.com/swankjesse/6608b4713ad80988cdc9 - [ ] Feature Request . Start by telling us what problem you ’ re trying to solve . Often a solution already exists ! Don ’ t send pull requests to implement new features without first getting our support . Sometimes we leave features out on purpose to keep the project small .
ArrayIndexOutOfBoundsException on call instance . __EoT__ I started to get this error message after upgrading to retrofit:2.0.0-beta3 . Not sure if that 's the culprit or what since reverting to previous version does n't seem to make a difference . Just in case the fault was in my retrofit code , i copied the sample code and ran it with the same result . I only get it on marshmallow devices . Line 94 refers to Call < List < Contributor > > call = github.contributors ( `` square '' , `` retrofit '' ) ; That line is called inside an GenericAsyncTaskLoader ( https : //gist.github.com/HenokT/7873979 ) Calling it in a normal AsyncTask does n't produce an error . `` ` Java A/art : art/runtime/thread.cc:1329 ] Throwing new exception 'length=176 ; index=1283 ' with unexpected pending exception : java.lang.ArrayIndexOutOfBoundsException : length=176 ; index=1283 A/art : art/runtime/thread.cc:1329 ] at void com.app.test.loader.SearchLoader.search ( com.app.test.loader.SearchLoader $ Result ) ( SearchLoader.java:94 ) A/art : art/runtime/thread.cc:1329 ] at com.app.test.loader.SearchLoader $ Result com.app.test.loader.SearchLoader.loadInBackground ( ) ( SearchLoader.java:67 ) A/art : art/runtime/thread.cc:1329 ] at java.lang.Object com.app.test.loader.SearchLoader.loadInBackground ( ) ( SearchLoader.java:29 ) A/art : art/runtime/thread.cc:1329 ] at java.lang.Object android.support.v4.content.AsyncTaskLoader.onLoadInBackground ( ) ( AsyncTaskLoader.java:296 ) A/art : art/runtime/thread.cc:1329
Setup Travis for PRs __EoT__ @ JakeWharton @ loganj what are the steps ?
DisplayLeakService never completes __EoT__ I 've been on 1.6-SNAPSHOT for some time now , but I never tried it with a fresh install of my app until today . After doing so , LeakCanary detects a leak , and posts a notification showing that it 's analyzing it , and then changes the notification to say `` Reporting LeakCanary result LeakCanary is working ... '' with an indeterminate progress bar . I noticed 10 minutes later it was still stuck on that notification , and tapping on it did nothing . So I went to the Leak App to see what was going on , and there was no DisplayLeakActivity ! I verified by uninstalling my app on another device that had 1.6-SNAPSHOT and a DisplayLeakActivity , and observed that after re-installing it , there was still no DisplayLeakActivity . **Update : ** I am using the latest snapshot that there is in sonatype ( Fri Jun 29 17:20:51 UTC 2018 )
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
EditText Blink causes memory leak in AlertDialog and DialogFragment __EoT__ See AOSP issue 188551 : https : //code.google.com/p/android/issues/detail ? id=188551 Can be avoided by calling setCursorVisible ( false ) in the dismiss ( ) method of the Dialog .
Getting OOM error __EoT__ Hi I am displaying thousands of images in recyclerview using picasso library in my android app . it was smooth in the beginning but when it cross 500mb ( as per the android profiler memory graph ) . its getting crash . i feel it might be OOMs . how to resolve this problem ? **Log cat** 12-27 12:06:38.097 com.lovetohave I : Forcing collection of SoftReferences for 28B allocation 12-27 12:06:38.097 com.lovetohave I : Starting a blocking GC Alloc 12-27 12:06:38.097 com.lovetohave I : Waiting for a blocking GC Alloc 12-27 12:06:38.097 com.lovetohave I : Waiting for a blocking GC Alloc 12-27 12:06:38.098 com.lovetohave I : Waiting for a blocking GC Alloc 12-27 12:06:38.098 com.lovetohave I : Waiting for a blocking GC Alloc 12-27 12:06:38.153 com.lovetohave I : Clamp target GC heap from 528MB to 512MB 12-27 12:06:38.153 com.lovetohave I : Alloc concurrent mark sweep GC freed 0 ( 0B ) AllocSpace objects , 0 ( 0B ) LOS objects , 0 % free , 512MB/512MB , paused 829us total 55.230ms 12-27 12:06:38.153 com.lovetohave W : Throwing OutOfMemoryError `` Failed to allocate a 28 byte allocation with 0 free bytes and -789KB until OOM '' (
Provide ScrollListener support __EoT__ It should be easy to use Picasso and attach a ScrollListener to provide smooth scrolling while the user fiings the list .
Provide ScrollListener support __EoT__ It should be easy to use Picasso and attach a ScrollListener to provide smooth scrolling while the user fiings the list .
heavy performance issue __EoT__ Hello guys ! I experienced a strange behavior if I try to load a couple 480x320 jpg file into a 100dp x 100dp imageviews ( 5-6 max on the screen in portrait mode ) in a gridview , it is lagging heavily except if it comes from the cache itself . However when i 'm trying to load much smaller pictures it is totally smooth . I 'm 99 % sure that is related to the cache because if i 'm using the .skipMemoryCache ( ) function it is much more better ! This is happening on all device not just on my n5 . The library usage is not overly complicated . Picasso.with ( mContext ) .load ( mModel.getImageLink ( ) ) .into ( mPreviewImage ) ; There are 4 more textviews next to the image in the cell . If 'm not loading any images then it is totally okay . The overdraws are minimized everything is green and blue . The latest okhttp 1.5.4 is present . There could be 2000 elements in the adapter . I 'm using your awesome library from the beginning and never experienced such a performance drop .
Generator class missing ? __EoT__ I am upgrading the version of Picasso used in the Aviary SDK , but it tried to use a class Generator which I ca n't find in any version of Picasso . What happened to this class ?
Sometimes picasso 2.3.3 resize inaccuracy . __EoT__ ! [ aef43932-08a3-11e4-9f9a-ea94cbe6d758 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653422/a5896e6e-1152-11e4-9cb6-09c61c4fff57.jpg ) Picasso.with ( this ) .load ( new File ( path ) ) .resize ( 1440 , 1920 ) .centerInside ( ) .into ( mTarget ) ; When I use picasso 2.3.3 load this image , I put some different width and height , sometimes it resize inaccuracy . I debug some information to you . It look like width and height reversal . ! [ 1 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653448/4d37020c-1153-11e4-84be-5d7995809ba0.png ) ! [ 4 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653450/54c8ca28-1153-11e4-8d32-9edd20023efd.png ) ! [ 2 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653453/5c052868-1153-11e4-8072-f1002df4d07a.png ) ! [ 3 ] ( https : //cloud.githubusercontent.com/assets/6055764/3653456/67acaae2-1153-11e4-9019-53239576d262.png ) I hope you can resolve this problem , thanks !
Picasso and Lollipop problem __EoT__ Hi , I 've this error : Fatal signal 11 ( SIGSEGV ) , code 1 , fault addr 0x7700000155 in tid 2532 ( Picasso-/102055 ) and my app crashes everytime in the Android AVD 5.0 . I 've this code in my fragment : Picasso.with ( getActivity ( ) ) .load ( imageUrl ) .fit ( ) .centerCrop ( ) .placeholder ( R.drawable.placeholder ) .into ( navigationImageImageView ) ; All works correctly before 5.0 . Can you help me ?
